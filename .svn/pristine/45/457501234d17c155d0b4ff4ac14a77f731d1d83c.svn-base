import Vue from 'vue'
import mountComponent from './util/mountComponent'

export default function () {
  const showAddMap = GV.config.application.layout.legend.options.showAddMap
  const showBaseLayerSwitcher = GV.config.application.layout.legend.options.showBaseLayerSwitcher
  const showInfoMap = GV.config.application.layout.legend.options.showInfoMap

  mountComponent({
    elId: 'gv-legend',
    clear: true,
    containerId: GV.config.containerId,
    vm: new Vue({
      template: `<gv-legend ref="gv-legend" :show-add-map=${showAddMap} :show-base-layer-switcher=${showBaseLayerSwitcher} :show-info-map=${showInfoMap}></gv-legend>`
    })
  })

  if (GV.config.application && GV.config.application.callback) {
    GV.config.application.callback(null)
  }
}
