import Vue from 'vue'

GV.Buttons.search = function(btnOptions, map) {
  const containerId = 'gv-button-search'
  const componentId = 'gv-search'

  const Button = L.Control.extend({
    onAdd: function(map) {
      let container = document.createElement('div')
      container.id = containerId
      container.className = 'leaflet-control-search'
      L.DomEvent.disableClickPropagation(container)
      return container
    },
  })

  Vue.component('gv-search', () => import('../Components/Search.vue'))
  btnOptions.vueComponent = { containerId: containerId, id: componentId }

  return new Button(btnOptions)
}
