{"version":3,"sources":["webpack:///static/js/GV.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/index.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/globals.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/mountComponent.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/controls/InfoWmsManager.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getConfig.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getDownloadConfig.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getWFSFeature.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/parseXML.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/controls/Coordinate.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/mixins/SwitchActiveButton.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getCatalog.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getGeoJSON.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/X2JS.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getParamString.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getUrlParam.js","webpack:///./src/components/Title.vue","webpack:///App.vue","webpack:///AtlanteGeochimicoLivelli.vue","webpack:///BaseLayerSwitcher.vue","webpack:///Geocoder.vue","webpack:///Header.vue","webpack:///InnerHtml.vue","webpack:///Legend.vue","webpack:///Map.vue","webpack:///Scalebar.vue","webpack:///Search.vue","webpack:///Title.vue","webpack:///AddMap.vue","webpack:///Coordinate.vue?965c","webpack:///Info.vue","webpack:///LayerSearch.vue?08b3","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/config.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/directives/draggable.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/LayerFactory.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/Map.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/MarkerCluster.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/NonTiledLayer.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/find.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/findIndex.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/startsWith.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getAtlanteGeochimicoLivelli.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getEnti.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureInfo.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureInfoMapserver.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureXSLT.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getHereGeocode.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getLayerConfig.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/buildCqlFilter.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/buildFindOptionsFromQueryStringParams.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/createElement.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/dragbox.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getProtocol.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getTmsMaxLevel.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getZoomFromScaleDenom.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/interpolateString.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/isBrowserIE.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/isTouch.js","webpack:///./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/log.js","webpack:///./~/font-awesome/css/font-awesome.css","webpack:///./~/leaflet/dist/leaflet.css","webpack:///./src/assets/css/base.css","webpack:///./src/assets/css/mapskin/css/mapskin.css","webpack:///./src/components/App.vue","webpack:///./src/components/AtlanteGeochimicoLivelli.vue","webpack:///./src/components/BaseLayerSwitcher.vue","webpack:///./src/components/Geocoder.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/InnerHtml.vue","webpack:///./src/components/Legend.vue","webpack:///./src/components/Map.vue","webpack:///./src/components/Scalebar.vue","webpack:///./src/components/Search.vue","webpack:///./src/components/buttons/AddMap.vue","webpack:///./src/components/buttons/Coordinate.vue","webpack:///./src/components/buttons/Info.vue","webpack:///./src/components/buttons/LayerSearch.vue","webpack:///./src/components/buttons/LayerSearch.vue?0592","webpack:///./src/components/Scalebar.vue?1441","webpack:///./src/components/buttons/Info.vue?cd4c","webpack:///./src/components/BaseLayerSwitcher.vue?df97","webpack:///./src/components/Header.vue?b701","webpack:///./src/components/Map.vue?d8b5","webpack:///./src/components/buttons/AddMap.vue?325e","webpack:///./src/components/App.vue?ddc1","webpack:///./src/components/Title.vue?8768","webpack:///./src/components/AtlanteGeochimicoLivelli.vue?7b89","webpack:///./src/components/Legend.vue?a0ec","webpack:///./src/components/InnerHtml.vue?e471","webpack:///./src/components/buttons/Coordinate.vue?792f","webpack:///./src/components/Search.vue?9d7c","webpack:///./src/components/Geocoder.vue?3591"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_draggable","_globals","_globals2","_getUrlParam","_getUrlParam2","_log","_log2","_dragbox","_dragbox2","_mountComponent","_mountComponent2","_buildFindOptionsFromQueryStringParams","_buildFindOptionsFromQueryStringParams2","_config","_config2","_vue","_vue2","_App","_App2","_Geocoder","_Geocoder2","_Search","_Search2","_Scalebar","_Scalebar2","_InnerHtml","_InnerHtml2","_AddMap","_AddMap2","_Info","_Info2","_Coordinate","_Coordinate2","_LayerSearch","_LayerSearch2","_AtlanteGeochimicoLivelli","_AtlanteGeochimicoLivelli2","polyfill","tools","push","name","component","window","GV","init","options","this","initConfig","vm","el","template","config","mountLegend","elId","clear","containerId","dragbox","globals","log","eventBus","utils","getUrlParam","buildFindOptionsFromQueryStringParams","Object","defineProperty","value","DEFAULT_PROXY","USE_SUBDOMAINS","RL_MAP_CONFIG_SERVICE","RL_LAYER_CONFIG_SERVICE","RL_QUERY_LAYER_VALUE_LIST_SERVICE","RL_QUERY_LAYER_SERVICE","RL_DYN_MAP_CONFIG_SERVICE","RL_CREATE_SLD_SERVICE","RL_XSL_INFO_SERVICE","RL_CATALOG_SERVICE","RL_CANALI_SERVICE","RL_SCHEDA_SERVICE","RL_DOWNLOAD_CONFIG_SERVICE","RL_DOWNLOAD_INSERT_SERVICE","RL_ENTI_SERVICE","RL_METADATA_URL","HERE_GEOCODE_PROXY","MAX_BOUNDS","X_MIN","Y_MIN","X_MAX","Y_MAX","INFO_WMS_MAX_FEATURES","BASE_SCALES","BASE_SCALE_LABELS","8","9","10","11","12","13","14","15","16","17","18","19","20","BASE_LAYERS","BLANK","label","icon","RL_ORTOFOTO_2013","RL_ORTOFOTO_2016","RL_CARTE_BASE","OSM","ESRI_IMAGERY","ESRI_TOPOGRAPHIC","ESRI_GRAY","ESRI_DARKGRAY","MAPBOX_STREETS","MAPBOX_SATELLITE","MAPBOX_OUTDOOR","MAPBOX_LIGHT","STAMEN_TERRAIN","STAMEN_TONER_LIGHT","GOOGLE_ROADMAP","GOOGLE_HYBRID","GOOGLE_TERRAIN","GOOGLE_SATELLITE","toggleEl","document","getElementById","style","display","_createElement2","$mount","_createElement","_request","e","Date","_requestCount","_numRequests","_features","buildWMSOptions","mapConfig","url","layers","latlng","point","app","map","latLngToContainerPoint","getZoom","size","getSize","bounds","getBounds","sw","crs","project","getSouthWest","ne","getNorthEast","infoFormat","flagGeoserver","params","request","service","styles","version","bbox","x","y","height","width","query_layers","FEATURE_COUNT","buffer","info_format","i","j","_getParamString2","maps","forEach","layersArray","layerConfig","idMap","id","type","queryable","visible","layerInRange","wmsParams","length","join","wmsUrl","_container","cursor","_getFeatureInfo2","then","features","_handleResponse","catch","error","console","_getFeatureInfoMapserver2","setFeatureProperties","layerName","properties","getLayerByName","newProperties","setProperties","cachePostGIS","props","postGis","newProps","key","hasOwnProperty","toUpperCase","setFeatureLabel","attributes","infoLabelAttr","infoIdAttr","getField","getFirstAttribute","fieldName","infoOptions","feature","split","layer","Array","prototype","apply","listDiv","parentNode","removeChild","_showFeatureInfo","data","items","buildAndShowHtml","buildGml","baseXml","xmlDoc","_parseXML2","layerNode","createElement","featureName","featureNode","text","createTextNode","attrNode","appendChild","documentElement","exception","xslTransform","xslDoc","XSLTProcessor","xsltProcessor","importStylesheet","transformedDoc","transformToDocument","XMLSerializer","serializeToString","transformNode","infoUrl","infoTarget","_getFeatureXSLT2","slice","call","getElementsByTagName","index","ar","textContent","legend","result","openPopup","showPanel","html","configOptions","title","infoWidth","infoHeight","popup","open","write","close","focus","substr","idAttr","toLowerCase","cqlFilter","_getWFSFeature2","geometry","clearLayers","addData","fitBounds","maxZoom","hilitedLayer","addHiliteLayer","loadLayers","color","fillOpacity","weight","opacity","pointToLayer","L","circleMarker","radius","fillColor","fill","_parseXML","_getParamString","_getFeatureInfo","_getFeatureInfoMapserver","_getWFSFeature","_getFeatureXSLT","active","activate","_this","$on","activeButton","deactivate","event","activeControl","showFeatureInfo","getConfig","arguments","undefined","Error","startsWith","geoserverUrl","_axios2","get","_axios","response","buildWFSUrl","layerBaseConfig","getLayerConfig","wsName","baseUrl","wfsParams","replace","types","typeName","getWFSFeature","parseXML","xml","_isBrowserIE2","ActiveXObject","async","loadXML","parser","DOMParser","parseFromString","_isBrowserIE","_promise","_promise2","resolve","require","Control","openPanel","closePanel","methods","switchActiveButton","control","mounted","getCatalog","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","root","factory","initConfigDefaults","escapeMode","attributePrefix","arrayAccessForm","emptyNodeForm","enableToStringFunc","arrayAccessFormPaths","skipEmptyTextNodesForObj","stripWhitespaces","datetimeAccessFormPaths","useDoubleQuotes","xmlElementsFilter","jsonPropertiesFilter","keepCData","initRequiredPolyfills","getNodeLocalName","node","nodeLocalName","localName","baseName","nodeName","getNodePrefix","prefix","escapeXmlChars","str","checkInStdFiltersArrayForm","stdFiltersArrayForm","path","idx","filterPath","RegExp","test","toArrayAccessForm","childName","fromXmlDateTime","prop","bits","d","secondBits","setHours","setMilliseconds","offsetMinutes","Number","sign","setMinutes","getMinutes","getTimezoneOffset","indexOf","UTC","getFullYear","getMonth","getDate","getHours","getSeconds","getMilliseconds","checkFromXmlDateTimePaths","fullPath","checkXmlElementsFilter","childType","childPath","DOMNodeTypes","ELEMENT_NODE","parseDOMChildren","nodeType","DOCUMENT_NODE","nodeChildren","childNodes","cidx","child","item","__cnt","COMMENT_NODE","aidx","attr","nodePrefix","__prefix","__text","trim","__cdata","toString","TEXT_NODE","CDATA_SECTION_NODE","nodeValue","startTag","jsonObj","element","attrList","closed","resultStr","attrName","attrVal","endTag","elementName","endsWith","suffix","jsonXmlSpecialElem","jsonObjField","Function","jsonXmlElemCount","elementsCnt","it","checkJsonObjPropertiesFilter","propertyName","jsonObjPath","parseJSONAttributes","ait","parseJSONTextAttrs","jsonTxtObj","parseJSONTextObject","getJsonPropertyPath","jsonPropName","parseJSONArray","jsonArrRoot","jsonArrObj","arIdx","parseJSONObject","subObj","toISOString","subObjElementsCnt","VERSION","parseXmlString","xmlDocStr","isIEParser","parsererrorNS","namespaceURI","err","getElementsByTagNameNS","asArray","toXmlDateTime","dt","asDateTime","xml2json","xml_str2json","json2xml_str","json2xml","getVersion","getParamString","existingUrl","uppercase","encodeURIComponent","paramName","results","exec","location","href","decodeURIComponent","__vue_exports__","__vue_options__","__vue_template__","render","staticRenderFns","_scopeId","_values","_values2","_keys","_keys2","_isTouch","_getProtocol","_Map","_Map2","_Legend","_Legend2","_Header","_Header2","_Title","_Title2","mapType","application","mapOptions","leafletMap","showHeader","layout","header","showLegend","showToolbar","toolbar","created","addTools","$emit","position","addTool","tool","itemId","_option","_option3","_option4","_select","_base","_select3","_select4","_getAtlanteGeochimicoLivelli","_getAtlanteGeochimicoLivelli2","_getLayerConfig","_getLayerConfig2","use","livello","livelli","onChange","layersConfig","loadLayer","removeMap","addMapConfig","_this2","baseLayers","activeBaseLayer","getActiveBaseLayer","baseLayerSwitcher","_getHereGeocode","_getHereGeocode2","address","loading","marker","remoteMethod","query","formatted_address","place_id","find","addMarker","removeLayer","computed","$el","innerHTML","_button","_button3","_button4","_BaseLayerSwitcher","_BaseLayerSwitcher2","show","showAddMap","showMapCatalogPanel","loadCatalog","showDownloadPanelOnLoad","openDownloadPanel","collapsed","hideLegend","showMapLayers","showLayersInLegend","toggleLayers","toggleCollapseClass","getToggleLayersClass","isDownloadable","metaData","flag_download","checkAddMap","getMapConfig","showMapInfoPanel","schedaInfoCartografia","remove","download","closeWindow","downloadPanelCloseMode","addMap","layerTransparency","iconUrl","getClass","inRange","setLayerVisible","checked","currentTarget","showLegendPanel","multiClasse","popUpFlag","popUpUrl","matchMedia","matches","classes","cls","legendIcon","legendLabel","src","_InfoWmsManager","_InfoWmsManager2","events","clientHeight","registerMapEvents","subscribeConfigEvents","addEventListener","handleResize","click","getBoundingClientRect","top","eventName","exposedName","on","ev","extent_3857","setExtent","setZoom","me","zoom","recordsCache","cachedLayers","getToolOptions","search","filterData","frecords","sLayer","eachLayer","LayerGroup","m","loc","getLatLng","zoomLevel","div","divId","hide","collapse","collapsible","getButtonOptions","cssClass","cssActiveClass","onClick","setClass","_SwitchActiveButton","_SwitchActiveButton2","mixins","_notification","_notification3","_notification4","_getConfig","_getConfig2","_getCatalog","_getCatalog2","_getEnti","_getEnti2","_getDownloadConfig","_getDownloadConfig2","_lastZIndex","debug","findOptions","proxy","idMaps","callback","initLoadingMaps","initLoadedMaps","addRlMap","getAllLayersConfig","setLayerAttribute","minScale","opacityBase100","zIndex","reverse","addLayerConfig","ancillaryMaps","unshift","attribute","findIndex","splice","idLayer","_this3","layerIndex","setBaseLayer","_this4","success","message","getBaseLayerConfig","changeBaseLayer","resp","downloadConfig","duration","offset","_this5","catalog","catalogFull","children","enti","getLayersNameByMapId","foundLayer","toolName","buttonName","activeLayer","setActiveBaseLayer","directive","inserted","binding","vnode","className","setAttribute","buildGeoJson","esParams","geoJson","geomField","hits","totalFeatures","total","coords","_source","_id","coordinates","geometry_name","JSON","parse","create","layerFactory","_assign","_assign2","_leaflet","_leaflet2","_interpolateString","_interpolateString2","_getZoomFromScaleDenom","_getZoomFromScaleDenom2","_getGeoJSON","_getGeoJSON2","_getTmsMaxLevel","_getTmsMaxLevel2","_togeojson","_togeojson2","esriLink","tileLayer","attribution","ESRI_STREETS","subdomains","accessToken","minZoom","ext","TMS","tmsParams","tmsUrl","maxLevel","maxScale","setZIndex","WMS","cacheMinZoomLevel","isCached","format","transparent","FORMAT_OPTIONS","latLngBounds","latLng","tiled","TILESORIGIN","tileSize","CACHE_VERSION","cacheVersion","wms","pane","nonTiledLayer","simplePopup","popUp","tooltip","basePopup","cluster","subType","onEachFeature","clusterLayer","geomSubType","filter","iconSize","iconAnchor","popupAnchor","bindPopup","_layer","String","setFilter","filters","setOpacity","parameters","srsName","outputFormat","format_options","field","q","pretty","clusterOptions","showCoverageOnHover","markerClusterGroup","kml","gpx","addLayer","fire","_interopRequireWildcard","newObj","_LayerFactory","LayerFactory","_buildCqlFilter","_buildCqlFilter2","Map","extend","initialExtent","buttons","zoomControl","maxBounds","maxBoundsViscosity","initialize","setInitialExtent","setLoading","loadBaseLayers","loadControls","eventMngr","_zoom","setHiliteLayerVisible","hl","setStyle","extent","extArray","swPoint","nePoint","swLatLng","Projection","SphericalMercator","unproject","neLatLng","getScale","controls","cntrl","scale","imperial","addTo","zoomToLayerExtent","_layers","_latlng","activeLayerName","getScaleLabel","_spinning","off","state","markerConfig","opts","setView","values","zoomTo","lat","lon","LatLng","MarkerClusterGroup","FeatureGroup","maxClusterRadius","iconCreateFunction","spiderfyOnMaxZoom","zoomToBoundsOnClick","singleMarkerMode","disableClusteringAtZoom","removeOutsideVisibleBounds","animate","animateAddingMarkers","spiderfyDistanceMultiplier","spiderLegPolylineOptions","chunkedLoading","chunkInterval","chunkDelay","chunkProgress","polygonOptions","Util","setOptions","_defaultIconCreateFunction","_featureGroup","featureGroup","addEventParent","_nonPointGroup","_inZoomAnimation","_needsClustering","_needsRemoving","_currentShownBounds","_queue","DomUtil","TRANSITION","_withAnimation","_noAnimation","_markerCluster","MarkerCluster","MarkerClusterNonAnimated","addLayers","_map","hasLayer","_unspiderfy","_addLayer","_maxZoom","_topClusterLevel","_recalculateBounds","visibleLayer","currentZoom","__parent","contains","_animationAddLayer","_animationAddLayerNonAnimated","removeLayers","_unspiderfyLayer","_removeLayer","_childMarkerMoved","clusterShow","_arraySplice","isArray","fg","npg","chunked","l","originalArray","started","getTime","process","bind","start","elapsed","_extractNonGroupLayers","getChildCount","markers","getAllChildMarkers","otherMarker","c","_iconNeedsUpdate","_updateIcon","_recursivelyAddChildrenToMap","setTimeout","needsClustering","layersArray2","l2","_gridClusters","_gridUnclustered","_noanimationUnspiderfy","_generateInitialClusters","LatLngBounds","_bounds","method","context","needsRemoving","getLayers","getLayer","parseInt","stamp","anArray","_group","zoomToShowLayer","showMarker","_icon","once","spiderfy","panTo","moveStart","zoomToBounds","onAdd","isFinite","getMaxZoom","_maxLat","projection","MAX_LATITUDE","_getExpandedVisibleBounds","_zoomEnd","_moveEnd","_spiderfierOnAdd","_bindEvents","onRemove","_unbindEvents","_mapPane","_spiderfierOnRemove","_hideCoverage","getVisibleParent","vMarker","_removeFromGridUnclustered","z","gridUnclustered","removeObject","_ignoreMove","target","oldLatLng","removeFromDistanceGrid","dontUpdateMap","gridClusters","_markers","_childCount","_boundsNeedUpdate","_cLatLng","addObject","_childClusters","_isOrIsParent","oel","propagate","originalEvent","relatedTarget","listens","childCount","DivIcon","Point","_zoomOrSpiderfy","_showCoverage","bottomCluster","keyCode","_shownPolygon","_spiderfied","Polygon","getConvexHull","_mergeSplitClusters","Math","round","newBounds","_recursivelyRemoveChildrenFromMap","radiusFn","DistanceGrid","markerPoint","_overrideMarkerIcon","closest","getNearObject","_addChild","parent","newCluster","lastParent","_enqueue","fn","_queueTimeout","_processQueue","clearTimeout","mapZoom","intersects","_animationStart","_animationZoomIn","_animationZoomOut","Browser","mobile","_checkBoundsMaxLat","pad","_mapBoundsInfinite","maxLat","getNorth","_northEast","Infinity","getSouth","_southWest","_addToMap","group","output","include","previousZoomLevel","newZoomLevel","_recursively","startPos","_isSingleParent","clusterHide","_forceLayout","_recursivelyBecomeVisible","n","_recursivelyRestoreChildPositions","_animationEnd","_animationZoomOutSingle","_setPos","latLngToLayerPoint","_recursivelyAnimateChildrenInAndAddSelfToMap","setLatLng","falseFn","body","offsetWidth","Marker","a","b","storageArray","childClusters","boundsZoom","getBoundsZoom","newClusters","concat","setIcon","createIcon","_iconObj","createShadow","new1","isNotificationFromChild","_setClusterCenter","_resetBounds","lng","childLatLng","latSum","lngSum","totalCount","_wLatLng","_backupLatlng","_recursivelyAnimateChildrenIn","center","cm","nm","_restorePosition","k","previousBounds","exceptBounds","boundsToApplyTo","zoomLevelToStart","zoomLevelToStop","runAtEveryLevel","runAtBottomLevel","opacityWhenUnclustered","ret","cellSize","_cellSize","_sqCellSize","_grid","_objectPoint","_getCoord","grid","row","cell","updateObject","len","eachObject","removed","dist","objectPoint","closestDistSq","_sqDist","floor","p","p2","dx","dy","QuickHull","getDistant","cpt","bl","vY","vX","findMostDistantPointFromBaseLine","baseLine","latLngs","pt","maxD","maxPt","newPoints","maxPoint","buildConvexHull","convexHullBaseLines","t","minLat","maxLng","minLng","maxLatPt","minLatPt","maxLngPt","minLngPt","minPt","ch","childMarkers","points","_2PI","PI","_circleFootSeparation","_circleStartAngle","_spiralFootSeparation","_spiralLengthStart","_spiralLengthFactor","_circleSpiralSwitchover","positions","_generatePointsSpiral","_generatePointsCircle","_animationSpiderfy","unspiderfy","zoomDetails","_animationUnspiderfy","count","centerPt","angle","circumference","legLength","angleStep","res","cos","sin","_round","separation","lengthFactor","_preSpiderfyLatlng","setZIndexOffset","_spiderLeg","leg","newPos","legOptions","layerPointToLatLng","Polyline","legPath","thisLayerLatLng","thisLayerPos","svg","Path","SVG","finalLegOpacity","_path","getTotalLength","strokeDasharray","strokeDashoffset","nonAnimatable","_latLngToNewLayerPoint","stillThereChildCount","_unspiderfyWrapper","zoomAnimation","_unspiderfyZoomStart","touch","getRenderer","_unspiderfyZoomAnim","hasClass","refreshClusters","_flagParentsIconsNeedUpdate","_refreshClustersIcons","_refreshSingleMarkerModeMarkers","refreshIconOptions","directlyRefreshClusters","NonTiledLayer","Layer","includes","Evented","pointerEvents","errorImageUrl","_div","getPane","_bufferImage","_initImage","_currentImage","_update","getEvents","moveend","_viewreset","_zoomAnimated","zoomanim","_animateZoom","getElement","bringToFront","_pane","bringToBack","insertBefore","firstChild","getAttribution","_image","any3d","addClass","galleryimg","onselectstart","onmousemove","onload","_onImageLoad","onerror","_onImageError","redraw","_animateImage","image","getZoomScale","getNorthWest","setTransform","_resetImage","Bounds","getSouthEast","setPosition","min","_getClippedBounds","wgsBounds","mSouth","mNorth","mWest","getWest","mEast","getEast","lSouth","lNorth","lWest","lEast","world1","world2","visibility","pix1","pix2","getImageUrl","getImageUrlAsync","tag","_onImageDone","removeClass","_addInteraction","tmp","defaultWmsParams","_wmsUrl","_crs","_wmsVersion","parseFloat","projectionKey","code","nw","se","CRS","EPSG4326","setParams","noRedraw","predicate","TypeError","list","thisArg","o","kValue","searchString","getEnti","getFeatureInfo","parseGml","gml","X2JS","msGMLOutput","key2","index2","getFeatureXSLT","post","headers","Accept","xslUrl","ambiente","featureAttributes","app_id","app_code","mapview","searchtext","Response","View","Result","relevance","Relevance","match_level","MatchLevel","match_type","MatchType","Location","Address","Label","LocationId","DisplayPosition","Latitude","Longitude","expressions","fields","elType","startpos","screenX","screenY","dataTransfer","setData","end","getComputedStyle","endpos","left","drop","preventDefault","getProtocol","getTmsMaxLevel","getZoomFromScaleDenom","scaleDenom","templateRe","isBrowserIE","navigator","userAgent","isTouch","msg","content","locals","_vm","$createElement","_c","class","attrs","staticClass","placeholder","change","model","$$v","expression","_l","staticStyle","float","_v","_s","_t","_e","ref","_m","fullTitle","noClose","filterable","codice","nome","directives","rawName","$event","noDeleteButton","domProps","_i","$$a","$$el","$$c","$$i","$set","clearable","remote","remote-method","loading-text","no-match-text","no-data-text"],"mappings":"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","file":"static/js/GV.js","sourcesContent":["webpackJsonp([12,10],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _draggable = __webpack_require__(216);\n\t\n\tvar _draggable2 = _interopRequireDefault(_draggable);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _getUrlParam = __webpack_require__(151);\n\t\n\tvar _getUrlParam2 = _interopRequireDefault(_getUrlParam);\n\t\n\tvar _log = __webpack_require__(250);\n\t\n\tvar _log2 = _interopRequireDefault(_log);\n\t\n\tvar _dragbox = __webpack_require__(243);\n\t\n\tvar _dragbox2 = _interopRequireDefault(_dragbox);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _buildFindOptionsFromQueryStringParams = __webpack_require__(240);\n\t\n\tvar _buildFindOptionsFromQueryStringParams2 = _interopRequireDefault(_buildFindOptionsFromQueryStringParams);\n\t\n\tvar _config = __webpack_require__(215);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(383);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _Geocoder = __webpack_require__(388);\n\t\n\tvar _Geocoder2 = _interopRequireDefault(_Geocoder);\n\t\n\tvar _Search = __webpack_require__(399);\n\t\n\tvar _Search2 = _interopRequireDefault(_Search);\n\t\n\tvar _Scalebar = __webpack_require__(398);\n\t\n\tvar _Scalebar2 = _interopRequireDefault(_Scalebar);\n\t\n\tvar _InnerHtml = __webpack_require__(393);\n\t\n\tvar _InnerHtml2 = _interopRequireDefault(_InnerHtml);\n\t\n\tvar _AddMap = __webpack_require__(400);\n\t\n\tvar _AddMap2 = _interopRequireDefault(_AddMap);\n\t\n\tvar _Info = __webpack_require__(402);\n\t\n\tvar _Info2 = _interopRequireDefault(_Info);\n\t\n\tvar _Coordinate = __webpack_require__(401);\n\t\n\tvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\t\n\tvar _LayerSearch = __webpack_require__(403);\n\t\n\tvar _LayerSearch2 = _interopRequireDefault(_LayerSearch);\n\t\n\tvar _AtlanteGeochimicoLivelli = __webpack_require__(384);\n\t\n\tvar _AtlanteGeochimicoLivelli2 = _interopRequireDefault(_AtlanteGeochimicoLivelli);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(376);\n\t__webpack_require__(377);\n\t__webpack_require__(378);\n\t__webpack_require__(374);\n\t\n\t__webpack_require__(222);\n\t__webpack_require__(221);\n\t__webpack_require__(223);\n\t__webpack_require__(332).polyfill();\n\t\n\tvar tools = [];\n\ttools.push({ name: 'gv-geocoder' });\n\t\n\t_vue2.default.component('gv-geocoder', _Geocoder2.default);\n\ttools.push({ name: 'gv-search' });\n\t\n\t_vue2.default.component('gv-search', _Search2.default);\n\ttools.push({ name: 'gv-scalebar' });\n\t\n\t_vue2.default.component('gv-scalebar', _Scalebar2.default);\n\ttools.push({ name: 'gv-inner-html' });\n\t\n\t_vue2.default.component('gv-inner-html', _InnerHtml2.default);\n\ttools.push({ name: 'gv-add-map-button' });\n\t\n\t_vue2.default.component('gv-add-map-button', _AddMap2.default);\n\ttools.push({ name: 'gv-info-button' });\n\t\n\t_vue2.default.component('gv-info-button', _Info2.default);\n\ttools.push({ name: 'gv-coordinate-button' });\n\t\n\t_vue2.default.component('gv-coordinate-button', _Coordinate2.default);\n\t\n\ttools.push({ name: 'gv-layer-search-button' });\n\t\n\t_vue2.default.component('gv-layer-search-button', _LayerSearch2.default);\n\t\n\ttools.push({ name: 'atlante-geochimico-livelli' });\n\t\n\t_vue2.default.component('atlante-geochimico-livelli', _AtlanteGeochimicoLivelli2.default);\n\t\n\twindow.GV = {\n\t  init: function init(options) {\n\t    this.initConfig(options);\n\t    _vue2.default.component('gv-app', _App2.default);\n\t    var vm = new _vue2.default({\n\t      el: '#gv-container',\n\t      template: '<gv-app></gv-app>'\n\t    });\n\t    return vm;\n\t  },\n\t  initConfig: function initConfig(options) {\n\t    GV.config = _config2.default;\n\t    _config2.default.init(options);\n\t  },\n\t  mountLegend: function mountLegend() {\n\t    (0, _mountComponent2.default)({\n\t      elId: 'gv-legend',\n\t      clear: true,\n\t      containerId: GV.config.containerId,\n\t      vm: new _vue2.default({\n\t        template: '<gv-legend ref=\"gv-legend\"></gv-legend>'\n\t      })\n\t    });\n\t  },\n\t\n\t  dragbox: _dragbox2.default,\n\t  globals: _globals2.default,\n\t  log: _log2.default,\n\t  eventBus: new _vue2.default(),\n\t  utils: {\n\t    getUrlParam: _getUrlParam2.default,\n\t    buildFindOptionsFromQueryStringParams: _buildFindOptionsFromQueryStringParams2.default\n\t  },\n\t  tools: tools\n\t};\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    DEFAULT_PROXY: '/geoservices/apps/proxy/proxy.jsp?url=',\n\t\n\t    USE_SUBDOMAINS: true,\n\t\n\t    RL_MAP_CONFIG_SERVICE: '/geoservices/REST/geoportale/map/',\n\t    RL_LAYER_CONFIG_SERVICE: '/geoservices/REST/config/layer/',\n\t    RL_QUERY_LAYER_VALUE_LIST_SERVICE: '/geoservices/REST/config/query_layer_valuelist/',\n\t    RL_QUERY_LAYER_SERVICE: '/geoservices/REST/config/query_layer/',\n\t    RL_DYN_MAP_CONFIG_SERVICE: '/geoservices/REST/config/map/',\n\t    RL_CREATE_SLD_SERVICE: '/geoservices/REST/config/create_sld/',\n\t    RL_XSL_INFO_SERVICE: '/geoservices/REST/config/xsl_info_service?',\n\t    RL_CATALOG_SERVICE: '/geoservices/REST/geoportale/catalogo/',\n\t    RL_CANALI_SERVICE: '/geoservices/REST/config/ag_app_canali_tree/',\n\t    RL_SCHEDA_SERVICE: '/geoservices/REST/geoportale/scheda/',\n\t    RL_DOWNLOAD_CONFIG_SERVICE: '/geoservices/REST/download/map/',\n\t    RL_DOWNLOAD_INSERT_SERVICE: '/geoservices/REST/download/insert_richiesta/',\n\t    RL_ENTI_SERVICE: '/geoservices/REST/geoportale/enti/',\n\t    RL_METADATA_URL: '/geoservices/REST/metadata/scheda_xml/',\n\t\n\t    HERE_GEOCODE_PROXY: '/geoservices/REST/proxy/here_geocode',\n\t\n\t    MAX_BOUNDS: {\n\t        X_MIN: 43.4,\n\t        Y_MIN: 7.3,\n\t        X_MAX: 44.8,\n\t        Y_MAX: 10.5\n\t    },\n\t\n\t    INFO_WMS_MAX_FEATURES: 10,\n\t\n\t    BASE_SCALES: [591657550.500000, 295828775.300000, 147914387.600000, 73957193.820000, 36978596.910000, 18489298.450000, 9244649.227000, 4622324.614000, 2311162.307000, 1155581.153000, 577790.576700, 288895.288400, 144447.644200, 72223.822090, 36111.911040, 18055.955520, 9027.977761, 4513.988880, 2256.994440, 1128.497220, 564.24861, 282.124305],\n\t\n\t    BASE_SCALE_LABELS: {\n\t        8: '1:1.600.000',\n\t        9: '1:800.000',\n\t        10: '1:400.000',\n\t        11: '1:200.000',\n\t        12: '1:100.000',\n\t        13: '1:50.000',\n\t        14: '1:25.000',\n\t        15: '1:12.500',\n\t        16: '1:6.250',\n\t        17: '1:3.125',\n\t        18: '1:1.560',\n\t        19: '1:800',\n\t        20: '1:400'\n\t    },\n\t\n\t    BASE_LAYERS: {\n\t        'BLANK': {\n\t            label: 'Sfondo Bianco',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/bianco.gif'\n\t        },\n\t        'RL_ORTOFOTO_2013': {\n\t            label: 'AGEA: Ortofoto 2013',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\n\t        },\n\t        'RL_ORTOFOTO_2016': {\n\t            label: 'AGEA: Ortofoto 2016',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\n\t        },\n\t        'RL_CARTE_BASE': {\n\t            label: 'Carte di base regionali',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\n\t        },\n\t        'OSM': {\n\t            label: 'OpenStreetMap',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/openstreetmap.png'\n\t        },\n\t        'ESRI_IMAGERY': {\n\t            label: 'ESRI Imagery',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\n\t        },\n\t        'ESRI_TOPOGRAPHIC': {\n\t            label: 'ESRI Topographic',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\n\t        },\n\t        'ESRI_GRAY': {\n\t            label: 'ESRI Gray',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\n\t        },\n\t        'ESRI_DARKGRAY': {\n\t            label: 'ESRI Dark Gray',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\n\t        },\n\t        'MAPBOX_STREETS': {\n\t            label: 'Mapbox Streets',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'MAPBOX_SATELLITE': {\n\t            label: 'Mapbox Satellite',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'MAPBOX_OUTDOOR': {\n\t            label: 'Mapbox Outdoor',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'MAPBOX_LIGHT': {\n\t            label: 'Mapbox Light',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'STAMEN_TERRAIN': {\n\t            label: 'Stamen Terrain',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'STAMEN_TONER_LIGHT': {\n\t            label: 'Stamen Toner Light',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\n\t        },\n\t        'GOOGLE_ROADMAP': {\n\t            label: 'Google Stradario',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\n\t        },\n\t        'GOOGLE_HYBRID': {\n\t            label: 'Google Ibrido',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\n\t        },\n\t        'GOOGLE_TERRAIN': {\n\t            label: 'Google Terreno',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\n\t        },\n\t        'GOOGLE_SATELLITE': {\n\t            label: 'Google Satellite',\n\t            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\n\t        }\n\t    }\n\t\n\t};\n\n/***/ }),\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (options) {\n\t  'use strict';\n\t\n\t  var elId = options.elId,\n\t      vm = options.vm,\n\t      toggleEl = options.toggleEl;\n\t\n\t\n\t  var el = document.getElementById(elId);\n\t\n\t  if (toggleEl && el) {\n\t    el.style.display = el.style.display === 'none' || !el.style.display ? 'block' : 'none';\n\t  } else {\n\t    var _el = (0, _createElement2.default)(options);\n\t    vm.$mount(_el);\n\t  }\n\t\n\t  return vm;\n\t};\n\t\n\tvar _createElement = __webpack_require__(242);\n\t\n\tvar _createElement2 = _interopRequireDefault(_createElement);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 22 */,\n/* 23 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _parseXML = __webpack_require__(106);\n\t\n\tvar _parseXML2 = _interopRequireDefault(_parseXML);\n\t\n\tvar _getParamString = __webpack_require__(150);\n\t\n\tvar _getParamString2 = _interopRequireDefault(_getParamString);\n\t\n\tvar _getFeatureInfo = __webpack_require__(228);\n\t\n\tvar _getFeatureInfo2 = _interopRequireDefault(_getFeatureInfo);\n\t\n\tvar _getFeatureInfoMapserver = __webpack_require__(229);\n\t\n\tvar _getFeatureInfoMapserver2 = _interopRequireDefault(_getFeatureInfoMapserver);\n\t\n\tvar _getWFSFeature = __webpack_require__(105);\n\t\n\tvar _getWFSFeature2 = _interopRequireDefault(_getWFSFeature);\n\t\n\tvar _getFeatureXSLT = __webpack_require__(230);\n\t\n\tvar _getFeatureXSLT2 = _interopRequireDefault(_getFeatureXSLT);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _requestCount = 0;\n\tvar _numRequests = 0;\n\tvar _features = [];\n\t\n\tfunction _request(e) {\n\t    GV.log('start info request: ' + new Date());\n\t\n\t    _requestCount = 0;\n\t    _numRequests = 0;\n\t    _features = [];\n\t\n\t    var buildWMSOptions = function buildWMSOptions(mapConfig, url, layers, latlng) {\n\t        var point = GV.app.map.latLngToContainerPoint(latlng, GV.app.map.getZoom());\n\t        var size = GV.app.map.getSize();\n\t        var bounds = GV.app.map.getBounds();\n\t        var sw = GV.app.map.options.crs.project(bounds.getSouthWest());\n\t        var ne = GV.app.map.options.crs.project(bounds.getNorthEast());\n\t        var infoFormat = mapConfig.flagGeoserver ? 'application/json' : 'application/vnd.ogc.gml';\n\t        var params = {\n\t            request: 'GetFeatureInfo',\n\t            service: 'WMS',\n\t            crs: 'EPSG:3857',\n\t            styles: '',\n\t            version: '1.3.0',\n\t            bbox: sw.x + ',' + sw.y + ',' + ne.x + ',' + ne.y,\n\t            height: size.y,\n\t            width: size.x,\n\t            layers: layers,\n\t            query_layers: layers,\n\t            FEATURE_COUNT: 100,\n\t            buffer: 10,\n\t\n\t            info_format: infoFormat,\n\t            i: point.x,\n\t            j: point.y\n\t        };\n\t\n\t        return url + (0, _getParamString2.default)(params, url, true);\n\t    };\n\t\n\t    GV.config.maps.forEach(function (mapConfig) {\n\t        var url = null;\n\t        var layersArray = [];\n\t\n\t        mapConfig.layers.forEach(function (layerConfig) {\n\t            if (layerConfig.idMap === mapConfig.id && layerConfig.type === 'WMS' && layerConfig.queryable && layerConfig.visible && GV.app.map.layerInRange(layerConfig)) {\n\t                url = layerConfig.wmsParams.url;\n\t                url = _globals2.default.DEFAULT_PROXY + url;\n\t                layersArray.push(layerConfig.wmsParams.name);\n\t            }\n\t        });\n\t\n\t        if (url && layersArray.length > 0) {\n\t            var layers = layersArray.join(',');\n\t            var wmsUrl = buildWMSOptions(mapConfig, url, layers, e.latlng);\n\t            _numRequests++;\n\t            GV.app.map._container.style.cursor = 'progress';\n\t            if (mapConfig.flagGeoserver) {\n\t                (0, _getFeatureInfo2.default)(wmsUrl).then(function (features) {\n\t                    return _handleResponse(features);\n\t                }).catch(function (error) {\n\t                    return console.error(error);\n\t                });\n\t            } else {\n\t                (0, _getFeatureInfoMapserver2.default)(wmsUrl).then(function (features) {\n\t                    return _handleResponse(features);\n\t                }).catch(function (error) {\n\t                    return console.error(error);\n\t                });\n\t            }\n\t        } else {}\n\t    });\n\t}\n\t\n\tfunction _handleResponse(features) {\n\t    _requestCount++;\n\t    features.forEach(function (feature) {\n\t        var layerName = feature.id.split('.')[0];\n\t        feature.layerName = layerName;\n\t        feature.layer = GV.app.map.getLayerByName(layerName);\n\t\n\t        feature.properties = setFeatureProperties(layerName, feature.properties);\n\t        feature.label = setFeatureLabel(layerName, feature.properties);\n\t        feature.infoOptions = feature.layer.config.infoOptions;\n\t    });\n\t    Array.prototype.push.apply(_features, features);\n\t    if (_requestCount === _numRequests) {\n\t        GV.app.map._container.style.cursor = 'default';\n\t\n\t        if (_features.length === 0) {\n\t            GV.log('Nessun elemento trovato');\n\t            return;\n\t        }\n\t\n\t        if (_features.length === 1) {\n\t            var listDiv = document.getElementById('gv-info-wms-list');\n\t            if (listDiv) {\n\t                listDiv.parentNode.removeChild(listDiv);\n\t            }\n\t            _showFeatureInfo(_features[0]);\n\t        } else {\n\t            (0, _mountComponent2.default)({\n\t                elId: 'gv-info-wms-list',\n\t                clear: true,\n\t                vm: new _vue2.default({\n\t                    template: '<gv-info-wms-list :items=\"items\"></gv-info-wms-list>',\n\t                    data: {\n\t                        items: _features\n\t                    }\n\t                })\n\t            });\n\t        }\n\t\n\t        GV.log('end info request: ' + new Date());\n\t    }\n\t\n\t    function setFeatureProperties(layerName, properties) {\n\t        var layerConfig = GV.app.map.getLayerByName(layerName).config;\n\t        var newProperties = setProperties(properties, layerConfig.cachePostGIS);\n\t\n\t        return newProperties;\n\t    }\n\t\n\t    function setProperties(props, postGis) {\n\t        var newProps = {};\n\t        for (var key in props) {\n\t            if (key !== 'bbox' && props.hasOwnProperty(key)) {\n\t                if (postGis) {\n\t                    newProps[key.toUpperCase()] = props[key];\n\t                } else {\n\t                    newProps[key] = props[key];\n\t                }\n\t            }\n\t        }\n\t        return newProps;\n\t    }\n\t\n\t    function upperProperties(props) {\n\t        var newProps = {};\n\t        for (var key in props) {\n\t            if (props.hasOwnProperty(key)) {\n\t                newProps[key.toUpperCase()] = props[key];\n\t            }\n\t        }\n\t        return newProps;\n\t    }\n\t\n\t    function setFeatureLabel(layerName, attributes) {\n\t        var infoLabelAttr, infoIdAttr;\n\t        infoLabelAttr = getField(layerName, 'infoLabelAttr');\n\t        infoIdAttr = getField(layerName, 'infoIdAttr');\n\t        if (infoLabelAttr && attributes[infoLabelAttr]) {\n\t            return attributes[infoLabelAttr];\n\t        }\n\t        if (infoIdAttr && attributes[infoIdAttr]) {\n\t            return attributes[infoIdAttr];\n\t        }\n\t        return attributes[getFirstAttribute(attributes)];\n\t    }\n\t\n\t    function getField(layerName, fieldName) {\n\t        var layerConfig = GV.app.map.getLayerByName(layerName).config;\n\t        return layerConfig && layerConfig.infoOptions && layerConfig.infoOptions[fieldName] ? layerConfig.infoOptions[fieldName] : null;\n\t    }\n\t\n\t    function getFirstAttribute(attributes) {\n\t        for (var i in attributes) {\n\t            if (attributes.hasOwnProperty(i) && typeof i !== 'function') {\n\t                return i;\n\t            }\n\t        }\n\t        return null;\n\t    }\n\t}\n\t\n\tfunction _showFeatureInfo(feature) {\n\t    var infoOptions = feature.infoOptions;\n\t    var infoUrl = infoOptions.infoUrl;\n\t    if (infoUrl.substr(infoUrl.length - 4) === '.xsl' || infoUrl.substr(infoUrl.length - 5) === '.xslt') {\n\t        buildAndShowHtml(infoOptions, feature);\n\t    } else {\n\t        if (!infoOptions.infoTarget || infoOptions.infoTarget === 'panel') {\n\t            showPanel(infoUrl, null, infoOptions);\n\t        } else {\n\t            openPopup(infoUrl, null, infoOptions);\n\t        }\n\t    }\n\t\n\t    var layerName = [feature.layerName];\n\t    var layerConfig = feature.layer.config;\n\t    var idAttr = layerConfig.cachePostGIS ? layerConfig.infoOptions.infoIdAttr.toLowerCase() : layerConfig.infoOptions.infoIdAttr;\n\t    var cqlFilter = idAttr + '=' + feature.properties[layerConfig.infoOptions.infoIdAttr];\n\t\n\t    (0, _getWFSFeature2.default)(layerName, cqlFilter).then(function (features) {\n\t        var layer = GV.app.map.getLayerByName('InfoWmsHilite');\n\t        if (features && features[0] && features[0].geometry) {\n\t            layer.clearLayers();\n\t\n\t            layer.addData(features[0].geometry);\n\t            GV.app.map.fitBounds(layer.getBounds(), { maxZoom: 15 });\n\t            GV.app.map._container.style.cursor = 'default';\n\t            GV.config.hilitedLayer.push(layerName);\n\t        }\n\t    }).catch(function (error) {\n\t        console.error(error);\n\t    });\n\t\n\t    function buildAndShowHtml(infoOptions, data) {\n\t        var xmlDoc = buildGml(data);\n\t        var infoUrl = infoOptions.infoUrl,\n\t            infoTarget = infoOptions.infoTarget;\n\t\n\t\n\t        (0, _getFeatureXSLT2.default)(infoUrl, data).then(function (xslDoc) {\n\t            Array.prototype.slice.call(xslDoc.getElementsByTagName('td')).forEach(function (value, index, ar) {\n\t                if (value.id === 'Titolo') {\n\t                    value.textContent = data.layer.legend.label;\n\t                    value.text = data.layer.legend.label;\n\t                }\n\t            });\n\t\n\t            var result = xslTransform(xmlDoc, xslDoc);\n\t\n\t            if (!infoTarget || infoTarget === 'panel') {\n\t                showPanel(result, null, infoOptions);\n\t            } else {\n\t                openPopup(result, null, infoOptions);\n\t            }\n\t        });\n\t\n\t        function buildGml(feature) {\n\t            try {\n\t                var baseXml = '<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><msGMLOutput xmlns:gml=\"http://www.opengis.net/gml\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"></msGMLOutput>';\n\t                var xmlDoc = (0, _parseXML2.default)(baseXml);\n\t                var layerName = feature.layerName + '_layer';\n\t                var layerNode = xmlDoc.createElement(layerName);\n\t                var featureName = feature.layerName + '_feature';\n\t                var featureNode = xmlDoc.createElement(featureName);\n\t                var attributes = feature.properties;\n\t\n\t                for (var key in attributes) {\n\t                    if (attributes.hasOwnProperty(key) && key !== 'boundedBy') {\n\t                        var text = null;\n\t                        if (attributes[key]) {\n\t                            text = xmlDoc.createTextNode(attributes[key]);\n\t                        } else {\n\t                            text = xmlDoc.createTextNode('');\n\t                        }\n\t                        var attrNode = xmlDoc.createElement(key);\n\t                        attrNode.appendChild(text);\n\t                        featureNode.appendChild(attrNode);\n\t                    }\n\t                }\n\t                layerNode.appendChild(featureNode);\n\t                xmlDoc.documentElement.appendChild(layerNode);\n\t                return xmlDoc;\n\t            } catch (exception) {\n\t                console.error(exception);\n\t            }\n\t        }\n\t\n\t        function xslTransform(xmlDoc, xslDoc) {\n\t            try {\n\t                if (window.XSLTProcessor) {\n\t                    var xsltProcessor = new XSLTProcessor();\n\t                    xsltProcessor.importStylesheet(xslDoc);\n\t                    var transformedDoc = xsltProcessor.transformToDocument(xmlDoc);\n\t                    return new XMLSerializer().serializeToString(transformedDoc);\n\t                } else {\n\t                    return xmlDoc.transformNode(xslDoc);\n\t                }\n\t            } catch (exception) {\n\t                console.error(exception);\n\t            }\n\t        }\n\t    }\n\t\n\t    function showPanel(html, url, configOptions) {\n\t        if (html) {\n\t            (0, _mountComponent2.default)({\n\t                elId: 'gv-info-wms-html',\n\t                vm: new _vue2.default({\n\t                    template: '<gv-info-wms-html :html=\"html\" :height=\"height\" :width=\"width\" :title=\"title\"></gv-info-wms-html>',\n\t                    data: {\n\t                        title: 'Risultato Info',\n\t                        html: html,\n\t                        width: configOptions.infoWidth || 400,\n\t                        height: configOptions.infoHeight || 400\n\t                    }\n\t                })\n\t            });\n\t        } else {}\n\t    }\n\t\n\t    function openPopup(html, url, options) {\n\t        var width = options.infoWidth || 400;\n\t        var height = options.infoHeight || 500;\n\t        var popup = window.open(url, '', 'status=yes, toolbar=yes, menubar=no, width=' + width + ', height=' + height + ', resizable=yes, scrollbars=yes');\n\t        popup.document.open();\n\t        popup.document.write(html);\n\t        popup.document.close();\n\t        popup.focus();\n\t    }\n\t}\n\t\n\tfunction addHiliteLayer(map) {\n\t    map.loadLayers([{\n\t        name: 'InfoWmsHilite',\n\t        type: 'JSON',\n\t        style: {\n\t            color: '#ffcc00',\n\t            fillOpacity: 0,\n\t            weight: 6,\n\t            opacity: 0.6\n\t        },\n\t        pointToLayer: function pointToLayer(feature, latlng) {\n\t            return L.circleMarker(latlng, {\n\t                radius: 8,\n\t                color: '#ffcc00',\n\t                fillColor: '#ffcc00',\n\t                fill: true,\n\t                fillOpacity: 0.6,\n\t                weight: 6,\n\t                opacity: 0.6\n\t            });\n\t        },\n\t        visible: true\n\t    }]);\n\t}\n\texports.default = {\n\t    id: 'info-wms-manager',\n\t    active: false,\n\t    addHiliteLayer: addHiliteLayer,\n\t    activate: function activate() {\n\t        var _this = this;\n\t\n\t        GV.log('GV.app.infoWmsManager.activate');\n\t\n\t        this.active = true;\n\t        if (GV.app.map) {\n\t            addHiliteLayer(GV.app.map);\n\t        } else {\n\t            GV.eventBus.$on('gv-map-mounted', function (map) {\n\t                addHiliteLayer(map);\n\t            });\n\t        }\n\t\n\t        if (GV.config.activeButton && GV.config.activeButton.deactivate) {\n\t            GV.config.activeButton.deactivate();\n\t        }\n\t\n\t        GV.eventBus.$on('map-click', function (event) {\n\t            if (_this.active) {\n\t                _request(event);\n\t            }\n\t        });\n\t\n\t        GV.config.activeControl = this;\n\t    },\n\t\n\t    deactivate: function deactivate() {\n\t        GV.log('GV.app.infoWmsManager.deactivate');\n\t        this.active = false;\n\t    },\n\t\n\t    showFeatureInfo: _showFeatureInfo\n\t};\n\n/***/ }),\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getConfig;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getConfig(idMap) {\n\t  var app = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'generico';\n\t\n\t  if (!idMap || idMap === 'null') {\n\t    throw new Error('Parametro idMap mancante');\n\t  }\n\t\n\t  var url = idMap.startsWith('D') ? '' + _globals2.default.RL_DYN_MAP_CONFIG_SERVICE + idMap + '?app=' + app : '' + _globals2.default.RL_MAP_CONFIG_SERVICE + idMap + '?app=' + app;\n\t\n\t  var params = {};\n\t\n\t  if (GV.config.geoserverUrl) {\n\t    params.geoserverUrl = GV.config.geoserverUrl;\n\t  }\n\t\n\t  return _axios2.default.get(url, {\n\t    params: params\n\t  });\n\t}\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (idMap) {\n\t  var url = _globals2.default.RL_DOWNLOAD_CONFIG_SERVICE + idMap;\n\t\n\t  return _axios2.default.get(url).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = getWFSFeature;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction buildWFSUrl(layers, cqlFilter) {\n\t    var layerBaseConfig = GV.config.getLayerConfig(layers[0]);\n\t    var wsName = 'M' + layerBaseConfig.idMap;\n\t    var baseUrl = _globals2.default.DEFAULT_PROXY + layerBaseConfig.wfsParams.url.replace('/' + wsName, '') + 'service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson';\n\t\n\t    var types = [];\n\t    layers.forEach(function (layer) {\n\t        var layerConfig = GV.config.getLayerConfig(layer);\n\t        types.push(wsName + ':' + layerConfig.wfsParams.typeName);\n\t    });\n\t    var typeName = types.join(',');\n\t\n\t    var url = baseUrl + '&typeName=' + typeName + '&cql_filter=' + cqlFilter;\n\t    return url;\n\t}\n\t\n\tfunction getWFSFeature(layers, cqlFilter) {\n\t    var url = buildWFSUrl(layers, cqlFilter);\n\t    var params = {};\n\t    return _axios2.default.get(url, {\n\t        params: params\n\t    }).then(function (response) {\n\t        return response.data.features;\n\t    });\n\t}\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = parseXML;\n\t\n\tvar _isBrowserIE = __webpack_require__(248);\n\t\n\tvar _isBrowserIE2 = _interopRequireDefault(_isBrowserIE);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction parseXML(data) {\n\t  try {\n\t    var xml = null;\n\t    if ((0, _isBrowserIE2.default)()) {\n\t      var xmlDoc = new ActiveXObject('Microsoft.XMLDOM');\n\t      xmlDoc.async = 'false';\n\t      xmlDoc.loadXML(data);\n\t      xml = xmlDoc;\n\t    } else {\n\t      var parser = new DOMParser();\n\t      xml = parser.parseFromString(data, 'text/xml');\n\t    }\n\t    return xml;\n\t  } catch (exception) {\n\t    console.error(exception);\n\t  }\n\t}\n\n/***/ }),\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('gv-coordinate-panel', function () {\n\t    return new _promise2.default(function (resolve) {\n\t        __webpack_require__.e/* nsure */(7, function (require) {\n\t            resolve(__webpack_require__(386));\n\t        });\n\t    });\n\t});\n\t\n\tvar Control = {\n\t    id: 'coordinate',\n\t    active: false,\n\t    latlng: null,\n\t    activate: function activate() {\n\t        GV.log('GV.controls.coordinate.activate');\n\t        this.active = true;\n\t        this.openPanel();\n\t    },\n\t    deactivate: function deactivate() {\n\t        GV.log('GV.controls.coordinate.deactivate');\n\t        this.active = false;\n\t        this.closePanel();\n\t    },\n\t    openPanel: function openPanel() {\n\t        (0, _mountComponent2.default)({\n\t            elId: 'gv-coordinate-panel',\n\t            containerId: GV.config.containerId,\n\t            toggleEl: true,\n\t            vm: new _vue2.default({\n\t                template: '<gv-coordinate-panel></gv-coordinate-panel>'\n\t            })\n\t        });\n\t    },\n\t    closePanel: function closePanel() {\n\t        document.getElementById('gv-coordinate-panel').style.display = 'none';\n\t    }\n\t};\n\t\n\texports.default = Control;\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    methods: {\n\t        switchActiveButton: function switchActiveButton() {\n\t            this.active = !this.active;\n\t            if (this.active) {\n\t                if (GV.config.activeControl) {\n\t                    GV.config.activeControl.deactivate();\n\t                }\n\t                GV.config.activeControl = this.control;\n\t                if (GV.config.activeButton && this.name !== GV.config.activeButton.name) {\n\t                    GV.config.activeButton.active = false;\n\t                }\n\t                GV.config.activeButton = this;\n\t                GV.config.activeButton.active = true;\n\t                this.control.activate();\n\t            } else {\n\t                this.control.deactivate();\n\t            }\n\t        }\n\t    },\n\t    mounted: function mounted() {\n\t        if (this.options && this.options.active) {\n\t            this.switchActiveButton();\n\t        }\n\t    }\n\t};\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getCatalog;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getCatalog() {\n\t  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  var url = _globals2.default.RL_CATALOG_SERVICE;\n\t  if (params.idMap) {\n\t    url += params.idMap;\n\t  }\n\t\n\t  return _axios2.default.get(url, {\n\t    params: params\n\t  }).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t}\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = getConfig;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getConfig(url) {\n\t    var params = {};\n\t\n\t    return _axios2.default.get(url, {\n\t        params: params\n\t    });\n\t}\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\tvar _typeof2 = __webpack_require__(10);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t;(function (root, factory) {\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if ((typeof exports === 'undefined' ? 'undefined' : (0, _typeof3.default)(exports)) === 'object') {\n\t    module.exports = factory();\n\t  } else {\n\t    root.X2JS = factory();\n\t  }\n\t})(undefined, function () {\n\t  return function (config) {\n\t    'use strict';\n\t\n\t    var VERSION = '1.2.0';\n\t\n\t    config = config || {};\n\t    initConfigDefaults();\n\t    initRequiredPolyfills();\n\t\n\t    function initConfigDefaults() {\n\t      if (config.escapeMode === undefined) {\n\t        config.escapeMode = true;\n\t      }\n\t\n\t      config.attributePrefix = config.attributePrefix || '_';\n\t      config.arrayAccessForm = config.arrayAccessForm || 'none';\n\t      config.emptyNodeForm = config.emptyNodeForm || 'text';\n\t\n\t      if (config.enableToStringFunc === undefined) {\n\t        config.enableToStringFunc = true;\n\t      }\n\t      config.arrayAccessFormPaths = config.arrayAccessFormPaths || [];\n\t      if (config.skipEmptyTextNodesForObj === undefined) {\n\t        config.skipEmptyTextNodesForObj = true;\n\t      }\n\t      if (config.stripWhitespaces === undefined) {\n\t        config.stripWhitespaces = true;\n\t      }\n\t      config.datetimeAccessFormPaths = config.datetimeAccessFormPaths || [];\n\t\n\t      if (config.useDoubleQuotes === undefined) {\n\t        config.useDoubleQuotes = false;\n\t      }\n\t\n\t      config.xmlElementsFilter = config.xmlElementsFilter || [];\n\t      config.jsonPropertiesFilter = config.jsonPropertiesFilter || [];\n\t\n\t      if (config.keepCData === undefined) {\n\t        config.keepCData = false;\n\t      }\n\t    }\n\t\n\t    var DOMNodeTypes = {\n\t      ELEMENT_NODE: 1,\n\t      TEXT_NODE: 3,\n\t      CDATA_SECTION_NODE: 4,\n\t      COMMENT_NODE: 8,\n\t      DOCUMENT_NODE: 9\n\t    };\n\t\n\t    function initRequiredPolyfills() {}\n\t\n\t    function getNodeLocalName(node) {\n\t      var nodeLocalName = node.localName;\n\t      if (nodeLocalName == null) nodeLocalName = node.baseName;\n\t      if (nodeLocalName == null || nodeLocalName == '') nodeLocalName = node.nodeName;\n\t      return nodeLocalName;\n\t    }\n\t\n\t    function getNodePrefix(node) {\n\t      return node.prefix;\n\t    }\n\t\n\t    function escapeXmlChars(str) {\n\t      if (typeof str == 'string') return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');else return str;\n\t    }\n\t\n\t    function unescapeXmlChars(str) {\n\t      return str.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\"').replace(/&apos;/g, \"'\").replace(/&amp;/g, '&');\n\t    }\n\t\n\t    function checkInStdFiltersArrayForm(stdFiltersArrayForm, obj, name, path) {\n\t      var idx = 0;\n\t      for (; idx < stdFiltersArrayForm.length; idx++) {\n\t        var filterPath = stdFiltersArrayForm[idx];\n\t        if (typeof filterPath === 'string') {\n\t          if (filterPath == path) break;\n\t        } else if (filterPath instanceof RegExp) {\n\t          if (filterPath.test(path)) break;\n\t        } else if (typeof filterPath === 'function') {\n\t          if (filterPath(obj, name, path)) break;\n\t        }\n\t      }\n\t      return idx != stdFiltersArrayForm.length;\n\t    }\n\t\n\t    function toArrayAccessForm(obj, childName, path) {\n\t      switch (config.arrayAccessForm) {\n\t        case 'property':\n\t          if (!(obj[childName] instanceof Array)) obj[childName + '_asArray'] = [obj[childName]];else obj[childName + '_asArray'] = obj[childName];\n\t          break;\n\t      }\n\t\n\t      if (!(obj[childName] instanceof Array) && config.arrayAccessFormPaths.length > 0) {\n\t        if (checkInStdFiltersArrayForm(config.arrayAccessFormPaths, obj, childName, path)) {\n\t          obj[childName] = [obj[childName]];\n\t        }\n\t      }\n\t    }\n\t\n\t    function fromXmlDateTime(prop) {\n\t      var bits = prop.split(/[-T:+Z]/g);\n\t\n\t      var d = new Date(bits[0], bits[1] - 1, bits[2]);\n\t      var secondBits = bits[5].split('.');\n\t      d.setHours(bits[3], bits[4], secondBits[0]);\n\t      if (secondBits.length > 1) d.setMilliseconds(secondBits[1]);\n\t\n\t      if (bits[6] && bits[7]) {\n\t        var offsetMinutes = bits[6] * 60 + Number(bits[7]);\n\t        var sign = /\\d\\d-\\d\\d:\\d\\d$/.test(prop) ? '-' : '+';\n\t\n\t        offsetMinutes = 0 + (sign == '-' ? -1 * offsetMinutes : offsetMinutes);\n\t\n\t        d.setMinutes(d.getMinutes() - offsetMinutes - d.getTimezoneOffset());\n\t      } else if (prop.indexOf('Z', prop.length - 1) !== -1) {\n\t        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()));\n\t      }\n\t\n\t      return d;\n\t    }\n\t\n\t    function checkFromXmlDateTimePaths(value, childName, fullPath) {\n\t      if (config.datetimeAccessFormPaths.length > 0) {\n\t        var path = fullPath.split('.#')[0];\n\t        if (checkInStdFiltersArrayForm(config.datetimeAccessFormPaths, value, childName, path)) {\n\t          return fromXmlDateTime(value);\n\t        } else return value;\n\t      } else return value;\n\t    }\n\t\n\t    function checkXmlElementsFilter(obj, childType, childName, childPath) {\n\t      if (childType == DOMNodeTypes.ELEMENT_NODE && config.xmlElementsFilter.length > 0) {\n\t        return checkInStdFiltersArrayForm(config.xmlElementsFilter, obj, childName, childPath);\n\t      } else return true;\n\t    }\n\t\n\t    function parseDOMChildren(node, path) {\n\t      if (node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {\n\t        var result = new Object();\n\t        var nodeChildren = node.childNodes;\n\t\n\t        for (var cidx = 0; cidx < nodeChildren.length; cidx++) {\n\t          var child = nodeChildren.item(cidx);\n\t          if (child.nodeType == DOMNodeTypes.ELEMENT_NODE) {\n\t            var childName = getNodeLocalName(child);\n\t            result[childName] = parseDOMChildren(child, childName);\n\t          }\n\t        }\n\t        return result;\n\t      } else if (node.nodeType == DOMNodeTypes.ELEMENT_NODE) {\n\t        var result = new Object();\n\t        result.__cnt = 0;\n\t\n\t        var nodeChildren = node.childNodes;\n\t\n\t        for (var cidx = 0; cidx < nodeChildren.length; cidx++) {\n\t          var child = nodeChildren.item(cidx);\n\t          var childName = getNodeLocalName(child);\n\t\n\t          if (child.nodeType != DOMNodeTypes.COMMENT_NODE) {\n\t            var childPath = path + '.' + childName;\n\t            if (checkXmlElementsFilter(result, child.nodeType, childName, childPath)) {\n\t              result.__cnt++;\n\t              if (result[childName] == null) {\n\t                result[childName] = parseDOMChildren(child, childPath);\n\t                toArrayAccessForm(result, childName, childPath);\n\t              } else {\n\t                if (result[childName] != null) {\n\t                  if (!(result[childName] instanceof Array)) {\n\t                    result[childName] = [result[childName]];\n\t                    toArrayAccessForm(result, childName, childPath);\n\t                  }\n\t                }\n\t                result[childName][result[childName].length] = parseDOMChildren(child, childPath);\n\t              }\n\t            }\n\t          }\n\t        }\n\t\n\t        for (var aidx = 0; aidx < node.attributes.length; aidx++) {\n\t          var attr = node.attributes.item(aidx);\n\t          result.__cnt++;\n\t          result[config.attributePrefix + attr.name] = attr.value;\n\t        }\n\t\n\t        var nodePrefix = getNodePrefix(node);\n\t        if (nodePrefix != null && nodePrefix != '') {\n\t          result.__cnt++;\n\t          result.__prefix = nodePrefix;\n\t        }\n\t\n\t        if (result['#text'] != null) {\n\t          result.__text = result['#text'];\n\t          if (result.__text instanceof Array) {\n\t            result.__text = result.__text.join('\\n');\n\t          }\n\t\n\t          if (config.stripWhitespaces) result.__text = result.__text.trim();\n\t          delete result['#text'];\n\t          if (config.arrayAccessForm == 'property') delete result['#text_asArray'];\n\t          result.__text = checkFromXmlDateTimePaths(result.__text, childName, path + '.' + childName);\n\t        }\n\t        if (result['#cdata-section'] != null) {\n\t          result.__cdata = result['#cdata-section'];\n\t          delete result['#cdata-section'];\n\t          if (config.arrayAccessForm == 'property') delete result['#cdata-section_asArray'];\n\t        }\n\t\n\t        if (result.__cnt == 0 && config.emptyNodeForm == 'text') {\n\t          result = '';\n\t        } else if (result.__cnt == 1 && result.__text != null) {\n\t          result = result.__text;\n\t        } else if (result.__cnt == 1 && result.__cdata != null && !config.keepCData) {\n\t          result = result.__cdata;\n\t        } else if (result.__cnt > 1 && result.__text != null && config.skipEmptyTextNodesForObj) {\n\t          if (config.stripWhitespaces && result.__text == '' || result.__text.trim() == '') {\n\t            delete result.__text;\n\t          }\n\t        }\n\t        delete result.__cnt;\n\t\n\t        if (config.enableToStringFunc && (result.__text != null || result.__cdata != null)) {\n\t          result.toString = function () {\n\t            return (this.__text != null ? this.__text : '') + (this.__cdata != null ? this.__cdata : '');\n\t          };\n\t        }\n\t\n\t        return result;\n\t      } else if (node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {\n\t        return node.nodeValue;\n\t      }\n\t    }\n\t\n\t    function startTag(jsonObj, element, attrList, closed) {\n\t      var resultStr = '<' + (jsonObj != null && jsonObj.__prefix != null ? jsonObj.__prefix + ':' : '') + element;\n\t      if (attrList != null) {\n\t        for (var aidx = 0; aidx < attrList.length; aidx++) {\n\t          var attrName = attrList[aidx];\n\t          var attrVal = jsonObj[attrName];\n\t          if (config.escapeMode) attrVal = escapeXmlChars(attrVal);\n\t          resultStr += ' ' + attrName.substr(config.attributePrefix.length) + '=';\n\t          if (config.useDoubleQuotes) resultStr += '\"' + attrVal + '\"';else resultStr += \"'\" + attrVal + \"'\";\n\t        }\n\t      }\n\t      if (!closed) resultStr += '>';else resultStr += '/>';\n\t      return resultStr;\n\t    }\n\t\n\t    function endTag(jsonObj, elementName) {\n\t      return '</' + (jsonObj.__prefix != null ? jsonObj.__prefix + ':' : '') + elementName + '>';\n\t    }\n\t\n\t    function endsWith(str, suffix) {\n\t      return str.indexOf(suffix, str.length - suffix.length) !== -1;\n\t    }\n\t\n\t    function jsonXmlSpecialElem(jsonObj, jsonObjField) {\n\t      if (config.arrayAccessForm == 'property' && endsWith(jsonObjField.toString(), '_asArray') || jsonObjField.toString().indexOf(config.attributePrefix) == 0 || jsonObjField.toString().indexOf('__') == 0 || jsonObj[jsonObjField] instanceof Function) return true;else return false;\n\t    }\n\t\n\t    function jsonXmlElemCount(jsonObj) {\n\t      var elementsCnt = 0;\n\t      if (jsonObj instanceof Object) {\n\t        for (var it in jsonObj) {\n\t          if (jsonXmlSpecialElem(jsonObj, it)) continue;\n\t          elementsCnt++;\n\t        }\n\t      }\n\t      return elementsCnt;\n\t    }\n\t\n\t    function checkJsonObjPropertiesFilter(jsonObj, propertyName, jsonObjPath) {\n\t      return config.jsonPropertiesFilter.length == 0 || jsonObjPath == '' || checkInStdFiltersArrayForm(config.jsonPropertiesFilter, jsonObj, propertyName, jsonObjPath);\n\t    }\n\t\n\t    function parseJSONAttributes(jsonObj) {\n\t      var attrList = [];\n\t      if (jsonObj instanceof Object) {\n\t        for (var ait in jsonObj) {\n\t          if (ait.toString().indexOf('__') == -1 && ait.toString().indexOf(config.attributePrefix) == 0) {\n\t            attrList.push(ait);\n\t          }\n\t        }\n\t      }\n\t      return attrList;\n\t    }\n\t\n\t    function parseJSONTextAttrs(jsonTxtObj) {\n\t      var result = '';\n\t\n\t      if (jsonTxtObj.__cdata != null) {\n\t        result += '<![CDATA[' + jsonTxtObj.__cdata + ']]>';\n\t      }\n\t\n\t      if (jsonTxtObj.__text != null) {\n\t        if (config.escapeMode) result += escapeXmlChars(jsonTxtObj.__text);else result += jsonTxtObj.__text;\n\t      }\n\t      return result;\n\t    }\n\t\n\t    function parseJSONTextObject(jsonTxtObj) {\n\t      var result = '';\n\t\n\t      if (jsonTxtObj instanceof Object) {\n\t        result += parseJSONTextAttrs(jsonTxtObj);\n\t      } else if (jsonTxtObj != null) {\n\t        if (config.escapeMode) result += escapeXmlChars(jsonTxtObj);else result += jsonTxtObj;\n\t      }\n\t\n\t      return result;\n\t    }\n\t\n\t    function getJsonPropertyPath(jsonObjPath, jsonPropName) {\n\t      if (jsonObjPath === '') {\n\t        return jsonPropName;\n\t      } else return jsonObjPath + '.' + jsonPropName;\n\t    }\n\t\n\t    function parseJSONArray(jsonArrRoot, jsonArrObj, attrList, jsonObjPath) {\n\t      var result = '';\n\t      if (jsonArrRoot.length == 0) {\n\t        result += startTag(jsonArrRoot, jsonArrObj, attrList, true);\n\t      } else {\n\t        for (var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {\n\t          result += startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false);\n\t          result += parseJSONObject(jsonArrRoot[arIdx], getJsonPropertyPath(jsonObjPath, jsonArrObj));\n\t          result += endTag(jsonArrRoot[arIdx], jsonArrObj);\n\t        }\n\t      }\n\t      return result;\n\t    }\n\t\n\t    function parseJSONObject(jsonObj, jsonObjPath) {\n\t      var result = '';\n\t\n\t      var elementsCnt = jsonXmlElemCount(jsonObj);\n\t\n\t      if (elementsCnt > 0) {\n\t        for (var it in jsonObj) {\n\t          if (jsonXmlSpecialElem(jsonObj, it) || jsonObjPath != '' && !checkJsonObjPropertiesFilter(jsonObj, it, getJsonPropertyPath(jsonObjPath, it))) continue;\n\t\n\t          var subObj = jsonObj[it];\n\t\n\t          var attrList = parseJSONAttributes(subObj);\n\t\n\t          if (subObj == null || subObj == undefined) {\n\t            result += startTag(subObj, it, attrList, true);\n\t          } else if (subObj instanceof Object) {\n\t            if (subObj instanceof Array) {\n\t              result += parseJSONArray(subObj, it, attrList, jsonObjPath);\n\t            } else if (subObj instanceof Date) {\n\t              result += startTag(subObj, it, attrList, false);\n\t              result += subObj.toISOString();\n\t              result += endTag(subObj, it);\n\t            } else {\n\t              var subObjElementsCnt = jsonXmlElemCount(subObj);\n\t              if (subObjElementsCnt > 0 || subObj.__text != null || subObj.__cdata != null) {\n\t                result += startTag(subObj, it, attrList, false);\n\t                result += parseJSONObject(subObj, getJsonPropertyPath(jsonObjPath, it));\n\t                result += endTag(subObj, it);\n\t              } else {\n\t                result += startTag(subObj, it, attrList, true);\n\t              }\n\t            }\n\t          } else {\n\t            result += startTag(subObj, it, attrList, false);\n\t            result += parseJSONTextObject(subObj);\n\t            result += endTag(subObj, it);\n\t          }\n\t        }\n\t      }\n\t      result += parseJSONTextObject(jsonObj);\n\t\n\t      return result;\n\t    }\n\t\n\t    this.parseXmlString = function (xmlDocStr) {\n\t      var isIEParser = window.ActiveXObject || 'ActiveXObject' in window;\n\t      if (xmlDocStr === undefined) {\n\t        return null;\n\t      }\n\t      var xmlDoc;\n\t      if (window.DOMParser) {\n\t        var parser = new window.DOMParser();\n\t        var parsererrorNS = null;\n\t\n\t        if (!isIEParser) {\n\t          try {\n\t            parsererrorNS = parser.parseFromString('INVALID', 'text/xml').getElementsByTagName('parsererror')[0].namespaceURI;\n\t          } catch (err) {\n\t            parsererrorNS = null;\n\t          }\n\t        }\n\t        try {\n\t          xmlDoc = parser.parseFromString(xmlDocStr, 'text/xml');\n\t          if (parsererrorNS != null && xmlDoc.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0) {\n\t            xmlDoc = null;\n\t          }\n\t        } catch (err) {\n\t          xmlDoc = null;\n\t        }\n\t      } else {\n\t        if (xmlDocStr.indexOf('<?') == 0) {\n\t          xmlDocStr = xmlDocStr.substr(xmlDocStr.indexOf('?>') + 2);\n\t        }\n\t        xmlDoc = new ActiveXObject('Microsoft.XMLDOM');\n\t        xmlDoc.async = 'false';\n\t        xmlDoc.loadXML(xmlDocStr);\n\t      }\n\t      return xmlDoc;\n\t    };\n\t\n\t    this.asArray = function (prop) {\n\t      if (prop === undefined || prop == null) return [];else if (prop instanceof Array) return prop;else return [prop];\n\t    };\n\t\n\t    this.toXmlDateTime = function (dt) {\n\t      if (dt instanceof Date) return dt.toISOString();else if (typeof dt === 'number') return new Date(dt).toISOString();else return null;\n\t    };\n\t\n\t    this.asDateTime = function (prop) {\n\t      if (typeof prop == 'string') {\n\t        return fromXmlDateTime(prop);\n\t      } else return prop;\n\t    };\n\t\n\t    this.xml2json = function (xmlDoc) {\n\t      return parseDOMChildren(xmlDoc);\n\t    };\n\t\n\t    this.xml_str2json = function (xmlDocStr) {\n\t      var xmlDoc = this.parseXmlString(xmlDocStr);\n\t      if (xmlDoc != null) return this.xml2json(xmlDoc);else return null;\n\t    };\n\t\n\t    this.json2xml_str = function (jsonObj) {\n\t      return parseJSONObject(jsonObj, '');\n\t    };\n\t\n\t    this.json2xml = function (jsonObj) {\n\t      var xmlDocStr = this.json2xml_str(jsonObj);\n\t      return this.parseXmlString(xmlDocStr);\n\t    };\n\t\n\t    this.getVersion = function () {\n\t      return VERSION;\n\t    };\n\t  };\n\t});\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getParamString;\n\tfunction getParamString(obj, existingUrl, uppercase) {\n\t  var params = [];\n\t  for (var i in obj) {\n\t    params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\n\t  }\n\t  return (!existingUrl || existingUrl.indexOf('?') === -1 ? '?' : '&') + params.join('&');\n\t}\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getUrlParam;\n\tfunction getUrlParam(paramName) {\n\t  var results = new RegExp('[\\\\?&]' + paramName + '=([^&#]*)').exec(window.location.href);\n\t  return results ? decodeURIComponent(results[1]) : null;\n\t}\n\n/***/ }),\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(349)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(210)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(416)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-4512c626\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _values = __webpack_require__(251);\n\t\n\tvar _values2 = _interopRequireDefault(_values);\n\t\n\tvar _keys = __webpack_require__(65);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _isTouch = __webpack_require__(249);\n\t\n\tvar _isTouch2 = _interopRequireDefault(_isTouch);\n\t\n\tvar _getProtocol = __webpack_require__(244);\n\t\n\tvar _getProtocol2 = _interopRequireDefault(_getProtocol);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _Map = __webpack_require__(397);\n\t\n\tvar _Map2 = _interopRequireDefault(_Map);\n\t\n\tvar _Legend = __webpack_require__(396);\n\t\n\tvar _Legend2 = _interopRequireDefault(_Legend);\n\t\n\tvar _Header = __webpack_require__(389);\n\t\n\tvar _Header2 = _interopRequireDefault(_Header);\n\t\n\tvar _Title = __webpack_require__(171);\n\t\n\tvar _Title2 = _interopRequireDefault(_Title);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('gv-map', _Map2.default);\n\t\n\t_vue2.default.component('gv-legend', _Legend2.default);\n\t\n\t_vue2.default.component('gv-header', _Header2.default);\n\t\n\t_vue2.default.component('gv-title', _Title2.default);\n\t\n\t_vue2.default.component('gv-iframe-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(9, function (require) {\n\t      resolve(__webpack_require__(390));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-info-wms-list', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(5, function (require) {\n\t      resolve(__webpack_require__(392));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-info-wms-html', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(8, function (require) {\n\t      resolve(__webpack_require__(391));\n\t    });\n\t  });\n\t});\n\t\n\texports.default = {\n\t  name: 'gv-app',\n\t  data: function data() {\n\t    var mapType = 'leaflet';\n\t    if (GV.config.application.mapOptions && GV.config.application.mapOptions.type) {\n\t      mapType = GV.config.application.mapOptions.type;\n\t    }\n\t    return {\n\t      leafletMap: mapType === 'leaflet',\n\t      showHeader: GV.config.application.layout.header,\n\t      showLegend: GV.config.application.layout.legend,\n\t      showToolbar: GV.config.application.layout.toolbar\n\t    };\n\t  },\n\t  created: function created() {\n\t    GV.log('gv-app: created');\n\t    GV.app = this;\n\t  },\n\t  mounted: function mounted() {\n\t    GV.log('gv-app: mounted');\n\t\n\t    this.addTools(GV.config.application.layout.tools);\n\t\n\t    GV.eventBus.$emit('gv-app-mounted', this);\n\t  },\n\t\n\t  methods: {\n\t    addTools: function addTools() {\n\t      var _this = this;\n\t\n\t      if (GV.config.application.layout.tools) {\n\t        var tools = GV.config.application.layout.tools;\n\t        tools.forEach(function (item) {\n\t          var position = item.position || 'topleft';\n\t          item.options = item.options || {};\n\t          _this.addTool(item, position);\n\t        });\n\t      }\n\t    },\n\t    addTool: function addTool(item, position) {\n\t      GV.tools.forEach(function (tool) {\n\t        if (item.name === tool.name) {\n\t          var itemId = item.name;\n\t          GV.log('gv-app: addTool -> ' + itemId);\n\t          if (item.active) item.options.active = true;\n\t          var props = item.options.props ? item.options.props.map(function (prop) {\n\t            return (0, _keys2.default)(prop)[0] + '=\\'' + (0, _values2.default)(prop)[0] + '\\'';\n\t          }).join(' ') : '';\n\t\n\t          var containerId = 'gv-tool-' + position;\n\t          (0, _mountComponent2.default)({\n\t            containerId: containerId,\n\t            elId: itemId,\n\t            vm: new _vue2.default({\n\t              template: '<' + itemId + ' ' + props + '></' + itemId + '>'\n\t            }),\n\t            toggleEl: false\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 191 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _getAtlanteGeochimicoLivelli = __webpack_require__(224);\n\t\n\tvar _getAtlanteGeochimicoLivelli2 = _interopRequireDefault(_getAtlanteGeochimicoLivelli);\n\t\n\tvar _getLayerConfig = __webpack_require__(233);\n\t\n\tvar _getLayerConfig2 = _interopRequireDefault(_getLayerConfig);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\t\n\t_vue2.default.component('gv-multi-legend-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(1/* duplicate */, function (require) {\n\t      resolve(__webpack_require__(170));\n\t    });\n\t  });\n\t});\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      livello: null,\n\t      livelli: []\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    onChange: function onChange(value) {\n\t      var _this = this;\n\t\n\t      (0, _getLayerConfig2.default)(value, null, true).then(function (layersConfig) {\n\t        _this.loadLayer(layersConfig[0]);\n\t        _this.showLegend(layersConfig[0]);\n\t      });\n\t    },\n\t    loadLayer: function loadLayer(layerConfig) {\n\t      layerConfig.visible = true;\n\t      var idMap = layerConfig.idMap;\n\t      GV.config.removeMap(idMap);\n\t      GV.config.addMapConfig({\n\t        id: idMap,\n\t        flagGeoserver: true,\n\t        layers: [layerConfig]\n\t      });\n\t    },\n\t    showLegend: function showLegend(layerConfig) {\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-multi-legend-panel',\n\t        containerId: GV.config.containerId,\n\t        clear: true,\n\t        vm: new _vue2.default({\n\t          template: '<gv-multi-legend-panel \\n            visible=\"true\" \\n            src=\"' + layerConfig.wmsParams.url + 'LAYER=' + layerConfig.name + '&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&\" \\n            height=\"120\" \\n            width=\"250\" \\n            :title=\"false\"  \\n            noClose=\"true\">\\n            </gv-multi-legend-panel>'\n\t        })\n\t      });\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    var _this2 = this;\n\t\n\t    (0, _getAtlanteGeochimicoLivelli2.default)().then(function (livelli) {\n\t      _this2.livelli = livelli;\n\t    });\n\t  }\n\t};\n\n/***/ }),\n/* 192 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\texports.default = {\n\t  name: 'gv-base-layer-switcher',\n\t  data: function data() {\n\t    return {\n\t      baseLayers: GV.config.baseLayers,\n\t      activeBaseLayer: GV.config.getActiveBaseLayer().name\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    onChange: function onChange(value) {\n\t      GV.eventBus.$emit('change-base-layer', {\n\t        layer: value\n\t      });\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    GV.baseLayerSwitcher = this;\n\t  }\n\t};\n\n/***/ }),\n/* 193 */,\n/* 194 */,\n/* 195 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _getHereGeocode = __webpack_require__(231);\n\t\n\tvar _getHereGeocode2 = _interopRequireDefault(_getHereGeocode);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      results: [],\n\t      address: [],\n\t      loading: false,\n\t      marker: null\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    remoteMethod: function remoteMethod(query) {\n\t      var _this = this;\n\t\n\t      if (query.length < 4) {\n\t        this.results = [];\n\t        return;\n\t      }\n\t      this.loading = true;\n\t      (0, _getHereGeocode2.default)(query).then(function (results) {\n\t        _this.loading = false;\n\t        if (results && results.length > 0) {\n\t          _this.results = results.map(function (result) {\n\t            return {\n\t              label: result.formatted_address,\n\t              value: result.place_id,\n\t              location: result.geometry.location\n\t            };\n\t          });\n\t        } else {\n\t          _this.results = [];\n\t        }\n\t      }).catch(function (error) {\n\t        _this.loading = false;\n\t        console.error(error);\n\t      });\n\t    },\n\t    onChange: function onChange(value) {\n\t      var result = this.results.find(function (item) {\n\t        return item.value === value;\n\t      });\n\t      if (result) {\n\t        this.marker = GV.app.map.addMarker(result);\n\t      } else {\n\t        if (this.marker) {\n\t          GV.app.map.removeLayer(this.marker);\n\t        }\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ }),\n/* 196 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'gv-header',\n\t  computed: {\n\t    style: function style() {\n\t      return 'height:' + GV.config.application.layout.header.height;\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    this.$el.innerHTML = GV.config.application.layout.header.html;\n\t  }\n\t};\n\n/***/ }),\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'gv-inner-html',\n\t  props: ['html'],\n\t  data: function data() {\n\t    return {};\n\t  },\n\t\n\t  methods: {},\n\t  mounted: function mounted() {}\n\t};\n\n/***/ }),\n/* 201 */,\n/* 202 */,\n/* 203 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _button = __webpack_require__(21);\n\t\n\tvar _button2 = _interopRequireDefault(_button);\n\t\n\tvar _button3 = __webpack_require__(18);\n\t\n\tvar _button4 = _interopRequireDefault(_button3);\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _BaseLayerSwitcher = __webpack_require__(385);\n\t\n\tvar _BaseLayerSwitcher2 = _interopRequireDefault(_BaseLayerSwitcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('gv-base-layer-switcher', _BaseLayerSwitcher2.default);\n\t\n\t_vue2.default.component('gv-map-info-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(4, function (require) {\n\t      resolve(__webpack_require__(138));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-multi-legend-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(1, function (require) {\n\t      resolve(__webpack_require__(170));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-map-catalog-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(0, function (require) {\n\t      resolve(__webpack_require__(168));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-layers-transparency', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(6, function (require) {\n\t      resolve(__webpack_require__(395));\n\t    });\n\t  });\n\t});\n\t_vue2.default.component('gv-map-download', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(3, function (require) {\n\t      resolve(__webpack_require__(387));\n\t    });\n\t  });\n\t});\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t_vue2.default.use(_button4.default);\n\t\n\texports.default = {\n\t  name: 'gv-legend',\n\t  data: function data() {\n\t    return {\n\t      baseLayers: GV.config.baseLayers,\n\t      maps: GV.config.maps,\n\t      options: GV.config.application.layout.legend.options,\n\t      show: true\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    GV.log('gv-legend: mounted');\n\t    GV.legend = this;\n\t    if (this.options.showAddMap) {\n\t      var showMapCatalogPanel = GV.config.idMap ? false : true;\n\t      GV.config.loadCatalog({ showMapCatalogPanel: showMapCatalogPanel });\n\t    }\n\t    if (this.options.showDownloadPanelOnLoad) {\n\t      GV.eventBus.$on('config-add-download', function (config) {\n\t        if (config.id == GV.config.idMap) {\n\t          _this.openDownloadPanel(config.id);\n\t        }\n\t      });\n\t    }\n\t    if (this.options.collapsed) {\n\t      this.hideLegend();\n\t    }\n\t  },\n\t\n\t  methods: {\n\t    showMapLayers: function showMapLayers(map) {\n\t      return map.showLayersInLegend;\n\t    },\n\t    toggleLayers: function toggleLayers(map) {\n\t      map.showLayersInLegend = !map.showLayersInLegend;\n\t    },\n\t    toggleCollapseClass: function toggleCollapseClass() {\n\t      return this.show ? 'gv-legend-collapse gv-color-scheme el-icon-arrow-down' : 'gv-legend-collapse gv-color-scheme el-icon-arrow-up';\n\t    },\n\t    getToggleLayersClass: function getToggleLayersClass(map) {\n\t      return map.showLayersInLegend ? 'gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-up' : 'gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-down';\n\t    },\n\t    isDownloadable: function isDownloadable(map) {\n\t      if (map && map.metaData) {\n\t        return map.metaData.flag_download;\n\t      } else {\n\t        return false;\n\t      }\n\t    },\n\t    checkAddMap: function checkAddMap(map) {\n\t      return this.options.showAddMap && GV.config.getMapConfig(map.id).metaData;\n\t    },\n\t\n\t    hideLegend: function hideLegend(event) {\n\t      if (this.show) {\n\t        document.getElementById('gv-legend-wrapper').style.display = 'none';\n\t        document.getElementById('gv-legend').style.width = '180px';\n\t      } else {\n\t        document.getElementById('gv-legend-wrapper').style.display = 'block';\n\t        document.getElementById('gv-legend').style.width = '260px';\n\t      }\n\t      this.show = !this.show;\n\t    },\n\t    showMapInfoPanel: function showMapInfoPanel(map) {\n\t      GV.config.schedaInfoCartografia = GV.config.getMapConfig(map.id).metaData;\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-map-info-panel',\n\t        containerId: GV.config.containerId,\n\t        clear: true,\n\t        vm: new _vue2.default({\n\t          template: '<gv-map-info-panel visible=\"true\" idMap=\"' + map.id + '\"></gv-map-info-panel>'\n\t        })\n\t      });\n\t    },\n\t    remove: function remove(map) {\n\t      GV.config.removeMap(map.id);\n\t    },\n\t    download: function download(map) {\n\t      this.openDownloadPanel(map.id);\n\t    },\n\t    openDownloadPanel: function openDownloadPanel(idMap) {\n\t      if (document.getElementById('gv-map-download')) {\n\t        var element = document.getElementById('gv-map-download');\n\t        element.parentNode.removeChild(element);\n\t      }\n\t      var closeWindow = this.options.downloadPanelCloseMode === 'closeWindow';\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-map-download',\n\t        containerId: GV.config.containerId,\n\t        toggleEl: false,\n\t        vm: new _vue2.default({\n\t          template: '<gv-map-download idMap=\"' + idMap + '\" closeWindow=\"' + closeWindow + '\"></gv-map-download>'\n\t        })\n\t      });\n\t    },\n\t\n\t    addMap: function addMap() {\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-map-catalog-panel',\n\t        containerId: GV.config.containerId,\n\t        toggleEl: true,\n\t        vm: new _vue2.default({\n\t          template: '<gv-map-catalog-panel></gv-map-catalog-panel>'\n\t        })\n\t      });\n\t    },\n\t    layerTransparency: function layerTransparency(map) {\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-layers-transparency',\n\t        containerId: GV.config.containerId,\n\t        toggleEl: false,\n\t        vm: new _vue2.default({\n\t          template: '<gv-layers-transparency idMap=\"' + map.id + '\"></gv-layers-transparency>'\n\t        })\n\t      });\n\t    },\n\t    iconUrl: function iconUrl(layer) {\n\t      return layer.legend.icon;\n\t    },\n\t    getClass: function getClass(layer) {\n\t      return layer.inRange ? 'gv-list-legend-layer-item' : 'gv-list-legend-layer-item gv-list-legend-layer-disabled-item';\n\t    },\n\t    setLayerVisible: function setLayerVisible(layer, event) {\n\t      GV.eventBus.$emit('set-layer-visible', {\n\t        layer: layer,\n\t        checked: event.currentTarget.checked\n\t      });\n\t    },\n\t    showLegendPanel: function showLegendPanel(layer) {\n\t      if (layer.inRange && (layer.multiClasse || layer.legend.popUpFlag)) {\n\t        var url = null,\n\t            html = null,\n\t            width,\n\t            height;\n\t        if (layer.legend.popUpUrl && layer.legend.popUpFlag) {\n\t          url = layer.legend.popUpUrl;\n\t          width = window.matchMedia('(max-width: 620px)').matches ? 400 : 600;\n\t          height = window.matchMedia('(max-height: 620px)').matches ? 400 : 600;\n\t        } else if (layer.multiClasse) {\n\t          if (layer.flagGeoserver) {\n\t            url = layer.wmsParams.url + 'LAYER=' + layer.name + '&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&';\n\t            width = window.matchMedia('(max-width: 450px)').matches ? 300 : 400;\n\t            height = 350;\n\t          } else {\n\t            var classes = layer.classes;\n\t            html = '<table width=100% border=0>';\n\t            classes.forEach(function (cls) {\n\t              html += '<tr>';\n\t              html += '<td width=30><img src=\"' + cls.legendIcon + '\"></td>';\n\t              html += '<td >' + cls.legendLabel + '</td>';\n\t              html += '</tr>';\n\t            });\n\t            html += '</table>';\n\t          }\n\t        }\n\t        (0, _mountComponent2.default)({\n\t          elId: 'gv-multi-legend-panel',\n\t          containerId: GV.config.containerId,\n\t          vm: new _vue2.default({\n\t            template: '<gv-multi-legend-panel visible=\"true\" :src=\"src\" :html=\"html\" :height=\"height\" :width=\"width\" :title=\"title\"></gv-multi-legend-panel>',\n\t            data: {\n\t              title: 'LEGENDA - ' + layer.legend.label,\n\t              src: url,\n\t              html: html,\n\t              width: width,\n\t              height: height\n\t            }\n\t          })\n\t        });\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 204 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _Map = __webpack_require__(218);\n\t\n\tvar _Map2 = _interopRequireDefault(_Map);\n\t\n\tvar _InfoWmsManager = __webpack_require__(90);\n\t\n\tvar _InfoWmsManager2 = _interopRequireDefault(_InfoWmsManager);\n\t\n\tvar _Coordinate = __webpack_require__(145);\n\t\n\tvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar events = ['click', 'dblclick', 'mousedown', 'mouseup', 'mouseover', 'mouseout', 'mousemove', 'contextmenu', 'focus', 'blur', 'preclick', 'load', 'unload', 'viewreset', 'movestart', 'move', 'moveend', 'dragstart', 'drag', 'dragend', 'zoomstart', 'zoomend', 'zoomanim', 'zoomlevelschange', 'resize', 'autopanstart', 'layeradd', 'layerremove', 'baselayerchange', 'overlayadd', 'overlayremove', 'locationfound', 'locationerror', 'popupopen', 'popupclose'];\n\t\n\texports.default = {\n\t  name: 'gv-map',\n\t  data: function data() {\n\t    var height = document.documentElement.clientHeight;\n\t    return {\n\t      style: 'height:' + height + 'px',\n\t      map: null\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    GV.app.map = new _Map2.default();\n\t    this.map = GV.app.map;\n\t\n\t    this.registerMapEvents();\n\t\n\t    this.subscribeConfigEvents();\n\t\n\t    window.addEventListener('resize', this.handleResize);\n\t    this.handleResize();\n\t\n\t    if (GV.config.application.mapOptions && GV.config.application.mapOptions.click) {\n\t      switch (GV.config.application.mapOptions.click) {\n\t        case 'info':\n\t          _InfoWmsManager2.default.activate();\n\t          break;\n\t        case 'coordinate':\n\t          _Coordinate2.default.activate();\n\t          break;\n\t      }\n\t    }\n\t\n\t    GV.log('gv-map: mounted');\n\t    GV.eventBus.$emit('gv-map-mounted', GV.app.map);\n\t  },\n\t\n\t  methods: {\n\t    handleResize: function handleResize(event) {\n\t      var height = document.documentElement.clientHeight - document.getElementById('gv-map').getBoundingClientRect().top;\n\t      this.style = 'height:' + height + 'px';\n\t    },\n\t    registerMapEvents: function registerMapEvents() {\n\t      events.forEach(function (eventName) {\n\t        var exposedName = 'map-' + eventName;\n\t        GV.app.map.on(eventName, function (ev) {\n\t          GV.eventBus.$emit(exposedName, ev);\n\t        });\n\t      });\n\t    },\n\t    subscribeConfigEvents: function subscribeConfigEvents() {\n\t      GV.eventBus.$on('config-add-map', function (ev) {\n\t        var mapConfig = ev.config;\n\t\n\t        GV.app.map.loadLayers(mapConfig.layers);\n\t        GV.app.map.loadLayers(mapConfig.layers);\n\t\n\t        if (mapConfig.extent_3857) {\n\t          GV.app.map.setExtent(mapConfig.extent_3857);\n\t        }\n\t      });\n\t\n\t      GV.eventBus.$on('config-remove-map', function (ev) {\n\t        var mapConfig = ev.config;\n\t\n\t        mapConfig.layers.forEach(function (layerConfig) {\n\t          var layer = GV.app.map.getLayerByName(layerConfig.name);\n\t          if (layer) {\n\t            GV.app.map.removeLayer(layer);\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            options: [{\n\t                value: 8,\n\t                label: '1:1.600.000'\n\t            }, {\n\t                value: 9,\n\t                label: '1:800.000'\n\t            }, {\n\t                value: 10,\n\t                label: '1:400.000'\n\t            }, {\n\t                value: 11,\n\t                label: '1:200.000'\n\t            }, {\n\t                value: 12,\n\t                label: '1:100.000'\n\t            }, {\n\t                value: 13,\n\t                label: '1:50.000'\n\t            }, {\n\t                value: 14,\n\t                label: '1:25.000'\n\t            }, {\n\t                value: 15,\n\t                label: '1:12.000'\n\t            }, {\n\t                value: 16,\n\t                label: '1:6.000'\n\t            }, {\n\t                value: 17,\n\t                label: '1:3.000'\n\t            }, {\n\t                value: 18,\n\t                label: '1:1.500'\n\t            }, {\n\t                value: 19,\n\t                label: '1:800'\n\t            }, {\n\t                value: 20,\n\t                label: '1:400'\n\t            }],\n\t            value: 9\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        onChange: function onChange(value) {\n\t            GV.app.map.setZoom(value);\n\t        }\n\t    },\n\t    mounted: function mounted() {\n\t        var me = this;\n\t        GV.eventBus.$on('map-zoom', function (zoom) {\n\t            me.value = zoom;\n\t        });\n\t    }\n\t};\n\n/***/ }),\n/* 209 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(65);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _option = __webpack_require__(23);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(19);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(24);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _select3 = __webpack_require__(20);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      results: [],\n\t      address: [],\n\t      recordsCache: {},\n\t      layers: null,\n\t      cachedLayers: [],\n\t      propertyName: null,\n\t      loading: false,\n\t      marker: null\n\t    };\n\t  },\n\t\n\t  mounted: function mounted() {\n\t    this.layers = GV.config.getToolOptions('gv-search').layers;\n\t    this.propertyName = GV.config.getToolOptions('gv-search').propertyName;\n\t  },\n\t  methods: {\n\t    search: function search(query) {\n\t      var _this = this;\n\t\n\t      this.results = [];\n\t      if (query.length < 4) {\n\t        return;\n\t      }\n\t      var results = this.filterData(query);\n\t\n\t      if ((0, _keys2.default)(results).length > 0) {\n\t        (0, _keys2.default)(results).forEach(function (key, index) {\n\t          _this.results.push({\n\t            label: key,\n\t            value: key,\n\t            location: results[key]\n\t          });\n\t        });\n\t      } else {\n\t        this.results = [];\n\t      }\n\t    },\n\t    filterData: function filterData(text) {\n\t      var _this2 = this;\n\t\n\t      var frecords = {};\n\t      text = text.replace(/[*+?^${}()|[\\]\\\\]/g, '');\n\t      if (text === '') {\n\t        return [];\n\t      }\n\t      this.layers.forEach(function (sLayer) {\n\t        GV.app.map.eachLayer(function (layer) {\n\t          if (layer.name === sLayer) {\n\t            if (layer instanceof L.LayerGroup) {\n\t              layer.eachLayer(function (m) {\n\t                var loc = m.getLatLng();\n\t                loc.layer = m;\n\t                var key = m.feature.properties[_this2.propertyName];\n\t                if (new RegExp(text, 'i').test(key)) {\n\t                  frecords[key] = loc;\n\t                }\n\t              });\n\t            }\n\t          }\n\t        });\n\t      });\n\t      return frecords;\n\t    },\n\t    onChange: function onChange(value) {\n\t      var marker = this.results.find(function (item) {\n\t        return item.value === value;\n\t      });\n\t      if (marker) {\n\t        marker.type = 'circle';\n\t        marker.zoomLevel = 16;\n\t        this.marker = GV.app.map.addMarker(marker);\n\t      } else {\n\t        if (this.marker) {\n\t          GV.app.map.removeLayer(this.marker);\n\t        }\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 210 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'gv-title',\n\t  props: ['divId', 'title', 'fullTitle', 'hide', 'noClose', 'collapsible', 'width'],\n\t  data: function data() {\n\t    return {\n\t      collapsed: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    closePanel: function closePanel() {\n\t      var div = document.getElementById(this.divId);\n\t      if (div) {\n\t        this.hide ? div.style.display = 'none' : div.parentNode.removeChild(div);\n\t      }\n\t    },\n\t    collapse: function collapse() {\n\t      if (this.collapsed) {\n\t        document.getElementById(this.collapsible).style.display = 'block';\n\t      } else {\n\t        document.getElementById(this.collapsible).style.display = 'none';\n\t      }\n\t      this.collapsed = !this.collapsed;\n\t    },\n\t    toggleCollapseClass: function toggleCollapseClass() {\n\t      return this.collapsed ? 'gv-title-collapse gv-color-scheme el-icon-arrow-down' : 'gv-title-collapse gv-color-scheme el-icon-arrow-up';\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    this.$el.id = this.divId + '-title';\n\t    if (this.width) {\n\t      this.$el.style.width = this.width;\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 211 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _button = __webpack_require__(21);\n\t\n\tvar _button2 = _interopRequireDefault(_button);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _button3 = __webpack_require__(18);\n\t\n\tvar _button4 = _interopRequireDefault(_button3);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_button4.default);\n\t\n\t_vue2.default.component('gv-map-catalog-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(0/* duplicate */, function (require) {\n\t      resolve(__webpack_require__(168));\n\t    });\n\t  });\n\t});\n\t\n\tvar name = 'gv-add-map-button';\n\t\n\texports.default = {\n\t  name: name,\n\t  data: function data() {\n\t    var options = GV.config.getButtonOptions(name);\n\t\n\t    return {\n\t      active: false,\n\t      options: options,\n\t      cssClass: 'gv-add-map gv-button fa fa-plus-square-o',\n\t      cssActiveClass: 'gv-button-selected'\n\t    };\n\t  },\n\t\n\t\n\t  methods: {\n\t    onClick: function onClick() {\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-map-catalog-panel',\n\t        containerId: GV.config.containerId,\n\t        toggleEl: true,\n\t        vm: new _vue2.default({\n\t          template: '<gv-map-catalog-panel></gv-map-catalog-panel>'\n\t        })\n\t      });\n\t    },\n\t    setClass: function setClass() {\n\t      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass;\n\t    }\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ }),\n/* 212 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _SwitchActiveButton = __webpack_require__(146);\n\t\n\tvar _SwitchActiveButton2 = _interopRequireDefault(_SwitchActiveButton);\n\t\n\tvar _Coordinate = __webpack_require__(145);\n\t\n\tvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar name = 'gv-coordinate-button';\n\t\n\texports.default = {\n\t  name: name,\n\t  data: function data() {\n\t    var options = GV.config.getToolOptions(name);\n\t    return {\n\t      name: name,\n\t      active: false,\n\t      control: _Coordinate2.default,\n\t      options: options,\n\t      cssClass: 'gv-button fa fa-hand-o-down',\n\t      cssActiveClass: 'gv-button-selected'\n\t    };\n\t  },\n\t\n\t  mixins: [_SwitchActiveButton2.default],\n\t  methods: {\n\t    onClick: function onClick() {\n\t      this.switchActiveButton();\n\t    },\n\t    setClass: function setClass() {\n\t      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass;\n\t    }\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ }),\n/* 213 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _SwitchActiveButton = __webpack_require__(146);\n\t\n\tvar _SwitchActiveButton2 = _interopRequireDefault(_SwitchActiveButton);\n\t\n\tvar _InfoWmsManager = __webpack_require__(90);\n\t\n\tvar _InfoWmsManager2 = _interopRequireDefault(_InfoWmsManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar name = 'gv-info-button';\n\t\n\texports.default = {\n\t  name: name,\n\t  data: function data() {\n\t    var options = GV.config.getToolOptions(name);\n\t    return {\n\t      name: name,\n\t      active: false,\n\t      control: _InfoWmsManager2.default,\n\t      options: options,\n\t      cssClass: 'gv-button fa fa-info',\n\t      cssActiveClass: 'gv-button-selected'\n\t    };\n\t  },\n\t\n\t  mixins: [_SwitchActiveButton2.default],\n\t  methods: {\n\t    onClick: function onClick() {\n\t      this.switchActiveButton();\n\t    },\n\t    setClass: function setClass() {\n\t      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass;\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t\n\t    this.active = this.options.active;\n\t  }\n\t};\n\n/***/ }),\n/* 214 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(17);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _button = __webpack_require__(21);\n\t\n\tvar _button2 = _interopRequireDefault(_button);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _button3 = __webpack_require__(18);\n\t\n\tvar _button4 = _interopRequireDefault(_button3);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_button4.default);\n\t\n\t_vue2.default.component('gv-layer-search', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(2, function (require) {\n\t      resolve(__webpack_require__(394));\n\t    });\n\t  });\n\t});\n\t\n\tvar name = 'gv-layer-search-button';\n\t\n\texports.default = {\n\t  name: name,\n\t  data: function data() {\n\t    var options = GV.config.getButtonOptions(name);\n\t\n\t    return {\n\t      active: false,\n\t      options: options,\n\t      cssClass: 'gv-layer-search-button gv-button fa fa-search',\n\t      cssActiveClass: 'gv-button-selected'\n\t    };\n\t  },\n\t\n\t\n\t  methods: {\n\t    onClick: function onClick() {\n\t\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-layer-search',\n\t        containerId: GV.config.containerId,\n\t        toggleEl: true,\n\t        vm: new _vue2.default({\n\t          template: '<gv-layer-search></gv-layer-search>'\n\t        })\n\t      });\n\t    },\n\t    setClass: function setClass() {\n\t      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass;\n\t    }\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ }),\n/* 215 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _notification = __webpack_require__(132);\n\t\n\tvar _notification2 = _interopRequireDefault(_notification);\n\t\n\tvar _base = __webpack_require__(8);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _notification3 = __webpack_require__(127);\n\t\n\tvar _notification4 = _interopRequireDefault(_notification3);\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _getConfig = __webpack_require__(103);\n\t\n\tvar _getConfig2 = _interopRequireDefault(_getConfig);\n\t\n\tvar _getCatalog = __webpack_require__(147);\n\t\n\tvar _getCatalog2 = _interopRequireDefault(_getCatalog);\n\t\n\tvar _getEnti = __webpack_require__(227);\n\t\n\tvar _getEnti2 = _interopRequireDefault(_getEnti);\n\t\n\tvar _mountComponent = __webpack_require__(9);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _getDownloadConfig = __webpack_require__(104);\n\t\n\tvar _getDownloadConfig2 = _interopRequireDefault(_getDownloadConfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    _lastZIndex: 21,\n\t    debug: false,\n\t    containerId: 'gv-container',\n\t    idMap: null,\n\t    title: null,\n\t    findOptions: null,\n\t    geoserverUrl: null,\n\t    application: {},\n\t    baseLayers: [{ type: 'ESRI_IMAGERY', visible: true }],\n\t    maps: [],\n\t    hilitedLayer: [],\n\t\n\t    init: function init(options) {\n\t        var _this = this;\n\t\n\t        if (!options) {\n\t            throw new Error('Opzioni di inizializzazione non impostate!');\n\t        }\n\t\n\t        this.debug = options.debug;\n\t        this.idMap = options.idMap;\n\t        this.findOptions = options.findOptions;\n\t\n\t        this.geoserverUrl = options.geoserverUrl;\n\t        if (options.application) {\n\t            this.application = options.application;\n\t        }\n\t        if (options.containerId) {\n\t            this.containerId = options.containerId;\n\t        }\n\t\n\t        this.application.layout = options.application && options.application.layout ? options.application.layout : {};\n\t\n\t        if (options.application) {\n\t            this.application.proxy = options.application.proxy || _globals2.default.DEFAULT_PROXY;\n\t        }\n\t        if (options.application && options.application.layout && options.application.layout.title) {\n\t            this.title = options.application.layout.title;\n\t        }\n\t\n\t        this.baseLayers = options.baseLayers;\n\t        this.baseLayers.forEach(function (layer) {\n\t            layer.name = layer.type;\n\t            layer.label = _globals2.default.BASE_LAYERS[layer.type].label;\n\t            layer.icon = _globals2.default.BASE_LAYERS[layer.type].icon;\n\t        });\n\t\n\t        if (options.idMap) {\n\t            var callback = options.application ? options.application.callback : null;\n\t            var idMaps = options.idMap.split(',');\n\t            this.initLoadingMaps = idMaps.length;\n\t            this.initLoadedMaps = 0;\n\t\n\t            idMaps.forEach(function (id) {\n\t                _this.addRlMap(id, true);\n\t            });\n\t            GV.eventBus.$on('gv-config-init', function (app) {\n\t                if (_this.application && _this.application.callback) {\n\t                    _this.application.callback(app);\n\t                }\n\t            });\n\t        } else {\n\t            GV.eventBus.$on('gv-app-mounted', function (app) {\n\t                options.maps.forEach(function (mapConfig) {\n\t                    _this.addMapConfig(mapConfig);\n\t                });\n\t                if (_this.application && _this.application.callback) {\n\t                    _this.application.callback(app);\n\t                }\n\t            });\n\t        }\n\t\n\t        GV.eventBus.$on('map-zoom', function (event) {\n\t            var layers = _this.getAllLayersConfig();\n\t            layers.forEach(function (layer) {\n\t                _this.setLayerAttribute(layer.name, 'inRange', GV.app.map.layerInRange(layer));\n\t            });\n\t        });\n\t    },\n\t    addMapConfig: function addMapConfig(mapConfig) {\n\t        var _this2 = this;\n\t\n\t        mapConfig.layers.forEach(function (layer) {\n\t            layer.minScale = layer.minScale === 0 ? 591657550 : layer.minScale;\n\t            layer.inRange = GV.app && GV.app.map ? GV.app.map.layerInRange(layer) : true;\n\t            layer.opacityBase100 = layer.opacity * 100;\n\t            layer.zIndex = _this2._lastZIndex++;\n\t        });\n\t        mapConfig.layers.reverse();\n\t\n\t        if (mapConfig.addLayerConfig && this.getMapConfig(mapConfig.id)) {\n\t            mapConfig.layers.forEach(function (layer) {\n\t                return _this2.getMapConfig(mapConfig.id).layers.push(layer);\n\t            });\n\t        } else {\n\t            if (this.getMapConfig(mapConfig.id)) {\n\t                return;\n\t            }\n\t            if (mapConfig.ancillaryMaps) {\n\t                mapConfig.ancillaryMaps.forEach(function (map) {\n\t                    return _this2.addMapConfig(map);\n\t                });\n\t            }\n\t            mapConfig.showLayersInLegend = true;\n\t            this.maps.unshift(mapConfig);\n\t        }\n\t\n\t        GV.eventBus.$emit('config-add-map', { config: mapConfig });\n\t    },\n\t    setLayerAttribute: function setLayerAttribute(layerName, attribute, value) {\n\t        this.maps.forEach(function (map) {\n\t            var layers = map.layers;\n\t            layers.forEach(function (layer) {\n\t                if (layer.name === layerName) {\n\t                    layer[attribute] = value;\n\t                }\n\t            });\n\t        });\n\t    },\n\t    removeMap: function removeMap(idMap) {\n\t        var mapConfig = this.getMapConfig(idMap);\n\t\n\t        if (!mapConfig) return;\n\t\n\t        GV.eventBus.$emit('config-remove-map', {\n\t            config: mapConfig\n\t        });\n\t\n\t        var index = this.maps.findIndex(function (map) {\n\t            return map.id === idMap;\n\t        });\n\t        if (index > -1) {\n\t            this.maps.splice(index, 1);\n\t        }\n\t    },\n\t    removeLayer: function removeLayer(idLayer) {\n\t        var _this3 = this;\n\t\n\t        this.maps.forEach(function (map) {\n\t            var layerIndex = -1;\n\t            map.layers.forEach(function (layer, index) {\n\t                if (layer.name === idLayer) {\n\t                    layerIndex = index;\n\t                }\n\t            });\n\t            if (layerIndex > -1) {\n\t                map.layers.splice(layerIndex, 1);\n\t            }\n\t            if (map.layers.length === 0) {\n\t                _this3.removeMap(map.id);\n\t            }\n\t        });\n\t        GV.eventBus.$emit('config-remove-layer', {\n\t            config: idLayer\n\t        });\n\t    },\n\t    addRlMap: function addRlMap(idMap, setBaseLayer) {\n\t        var _this4 = this;\n\t\n\t        if (this.getMapConfig(idMap)) {\n\t            return this.getMapConfig(idMap);\n\t        }\n\t\n\t        (0, _getConfig2.default)(idMap).then(function (response) {\n\t            if (!response.data.success) {\n\t                throw new Error('Errore Caricamento Mappa: ' + response.data.message);\n\t            }\n\t            if (!response.data.data) {\n\t                throw new Error('Errore Caricamento Mappa: configurazione non trovata');\n\t            }\n\t\n\t            var mapConfig = response.data.data;\n\t\n\t            _this4.addMapConfig(mapConfig);\n\t            if (GV.app && GV.app.map && mapConfig.type && mapConfig.type == 'R' && setBaseLayer && _this4.getBaseLayerConfig('BLANK')) {\n\t                GV.app.map.changeBaseLayer('BLANK');\n\t                if (GV.baseLayerSwitcher) GV.baseLayerSwitcher.activeBaseLayer = 'BLANK';\n\t            }\n\t\n\t            if (mapConfig.activeBaseLayer) {\n\t                GV.app.map.changeBaseLayer(mapConfig.activeBaseLayer);\n\t                if (GV.baseLayerSwitcher) GV.baseLayerSwitcher.activeBaseLayer = mapConfig.activeBaseLayer;\n\t            }\n\t\n\t            if (GV.config.findOptions) {\n\t                GV.app.map.find(GV.config.findOptions);\n\t            }\n\t\n\t            _this4.initLoadedMaps = _this4.initLoadedMaps + 1;\n\t            if (_this4.initLoadingMaps === _this4.initLoadedMaps) {\n\t                GV.eventBus.$emit('gv-config-init', GV.app);\n\t            }\n\t\n\t            if (mapConfig.metaData.flag_download) {\n\t                (0, _getDownloadConfig2.default)(idMap).then(function (resp) {\n\t                    _this4.maps.forEach(function (map) {\n\t                        if (map.id.toString() === idMap) {\n\t                            map.downloadConfig = resp;\n\t                            GV.eventBus.$emit('config-add-download', mapConfig);\n\t                        }\n\t                    });\n\t                });\n\t            }\n\t\n\t            return mapConfig;\n\t        }).catch(function (error) {\n\t            console.error(error);\n\t            _notification4.default.error({\n\t                title: 'Attenzione',\n\t                type: 'error',\n\t                duration: 5000,\n\t                offset: 70,\n\t                message: error.message\n\t            });\n\t        });\n\t    },\n\t    loadCatalog: function loadCatalog(params) {\n\t        var _this5 = this;\n\t\n\t        (0, _getCatalog2.default)().then(function (data) {\n\t            _this5.catalog = _this5.catalogFull = data.children;\n\t            (0, _getEnti2.default)().then(function (data) {\n\t                _this5.enti = data;\n\t                if (params.showMapCatalogPanel) {\n\t                    (0, _mountComponent2.default)({\n\t                        elId: 'gv-map-catalog-panel',\n\t                        toggleEl: false,\n\t                        vm: new _vue2.default({\n\t                            template: '<gv-map-catalog-panel></gv-map-catalog-panel>'\n\t                        })\n\t                    });\n\t                }\n\t            });\n\t        });\n\t    },\n\t    getAllLayersConfig: function getAllLayersConfig() {\n\t        var layers = [];\n\t        this.maps.forEach(function (map) {\n\t            map.layers.forEach(function (layer) {\n\t                layers.push(layer);\n\t            });\n\t        });\n\t        return layers;\n\t    },\n\t    getLayersNameByMapId: function getLayersNameByMapId(idMap) {\n\t        if (!idMap) {\n\t            console.error('Parametro \"idMap\" non definito');\n\t            return null;\n\t        }\n\t        var layers = [];\n\t        this.maps.forEach(function (map) {\n\t            if (map.id.toString() === idMap) {\n\t                map.layers.forEach(function (layer) {\n\t                    if (layer.idMap.toString() === idMap) layers.push(layer.name);\n\t                });\n\t            }\n\t        });\n\t        return layers;\n\t    },\n\t    getLayerConfig: function getLayerConfig(layerName) {\n\t        var foundLayer = null;\n\t        this.maps.forEach(function (map) {\n\t            map.layers.forEach(function (layer) {\n\t                if (layer.name === layerName) {\n\t                    foundLayer = layer;\n\t                }\n\t            });\n\t        });\n\t        return foundLayer;\n\t    },\n\t    getBaseLayerConfig: function getBaseLayerConfig(layerName) {\n\t        var foundLayer = this.baseLayers.find(function (layer) {\n\t            return layer.name === layerName;\n\t        });\n\t        return foundLayer;\n\t    },\n\t    getMapConfig: function getMapConfig(idMap) {\n\t        return this.maps.find(function (map) {\n\t            return map.id == idMap;\n\t        });\n\t    },\n\t    getToolOptions: function getToolOptions(toolName) {\n\t        var options = null;\n\t        if (!this.application.layout || !this.application.layout.tools) {\n\t            return null;\n\t        }\n\t        this.application.layout.tools.forEach(function (item) {\n\t            if (item.name === toolName && item.options) {\n\t                options = item.options;\n\t            }\n\t        });\n\t        return options;\n\t    },\n\t    getButtonOptions: function getButtonOptions(buttonName) {\n\t        var options = null;\n\t        if (!this.application.layout || !this.application.layout.toolbar) {\n\t            return null;\n\t        }\n\t        this.application.layout.toolbar.items.forEach(function (item) {\n\t            if (item.name === buttonName && item.options) {\n\t                options = item.options;\n\t            }\n\t        });\n\t        return options;\n\t    },\n\t    getActiveBaseLayer: function getActiveBaseLayer() {\n\t        var activeLayer = null;\n\t        this.baseLayers.forEach(function (layer) {\n\t            if (layer.visible) {\n\t                activeLayer = layer;\n\t            }\n\t        });\n\t        return activeLayer;\n\t    },\n\t    setActiveBaseLayer: function setActiveBaseLayer(layerName) {\n\t        this.baseLayers.forEach(function (layer) {\n\t            layer.visible = layer.name === layerName;\n\t        });\n\t    }\n\t};\n\n/***/ }),\n/* 216 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.directive('draggable', {\n\t  inserted: function inserted(el, binding, vnode) {\n\t    var id = el.id.replace('-title', '');\n\t    el.className += ' draggable';\n\t    el.setAttribute('draggable', 'true');\n\t    el.setAttribute('ondragstart', 'GV.dragbox.start(event)');\n\t    el.setAttribute('ondragend', 'GV.dragbox.end(event,\\'' + id + '\\')');\n\t  }\n\t});\n\n/***/ }),\n/* 217 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.create = undefined;\n\t\n\tvar _keys = __webpack_require__(65);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _assign = __webpack_require__(64);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _leaflet = __webpack_require__(166);\n\t\n\tvar _leaflet2 = _interopRequireDefault(_leaflet);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _interpolateString = __webpack_require__(247);\n\t\n\tvar _interpolateString2 = _interopRequireDefault(_interpolateString);\n\t\n\tvar _getParamString = __webpack_require__(150);\n\t\n\tvar _getParamString2 = _interopRequireDefault(_getParamString);\n\t\n\tvar _getZoomFromScaleDenom = __webpack_require__(246);\n\t\n\tvar _getZoomFromScaleDenom2 = _interopRequireDefault(_getZoomFromScaleDenom);\n\t\n\tvar _getGeoJSON = __webpack_require__(148);\n\t\n\tvar _getGeoJSON2 = _interopRequireDefault(_getGeoJSON);\n\t\n\tvar _getTmsMaxLevel = __webpack_require__(245);\n\t\n\tvar _getTmsMaxLevel2 = _interopRequireDefault(_getTmsMaxLevel);\n\t\n\tvar _togeojson = __webpack_require__(380);\n\t\n\tvar _togeojson2 = _interopRequireDefault(_togeojson);\n\t\n\tvar _parseXML = __webpack_require__(106);\n\t\n\tvar _parseXML2 = _interopRequireDefault(_parseXML);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(219);\n\t__webpack_require__(220);\n\t\n\tvar esriLink = '<a href=\"http://www.esri.com/\">Esri</a>';\n\t\n\tfunction buildGeoJson(data, esParams) {\n\t    'use strict';\n\t\n\t    var geoJson = void 0;\n\t    if (esParams) {\n\t        var geomField = esParams.geomField || 'location';\n\t        var features = data.hits.hits;\n\t        geoJson = {\n\t            type: 'FeatureCollection',\n\t            totalFeatures: data.hits.total,\n\t            features: [],\n\t            crs: {\n\t                type: 'name',\n\t                properties: {\n\t                    name: 'urn:ogc:def:crs:EPSG::4326'\n\t                }\n\t            }\n\t        };\n\t        features.forEach(function (feature) {\n\t            var coords = feature._source[geomField];\n\t            geoJson.features.push({\n\t                type: 'Feature',\n\t                id: feature._id,\n\t                geometry: { type: 'Point', coordinates: coords },\n\t                geometry_name: 'GEOMETRY',\n\t                properties: feature._source\n\t            });\n\t        });\n\t    } else {\n\t        geoJson = typeof data === 'string' ? JSON.parse(data) : data;\n\t    }\n\t    return geoJson;\n\t}\n\t\n\tvar layerFactory = {\n\t    BLANK: function BLANK(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Sfondo Bianco'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { opacity: 0.0 });\n\t    },\n\t    OSM: function OSM(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'OpenStreetMap'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n\t            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\n\t        });\n\t    },\n\t    ESRI_IMAGERY: function ESRI_IMAGERY(layerConfig) {\n\t        layerConfig.legend = { label: 'ESRI Imagery' };\n\t        layerConfig.name = layerConfig.type;\n\t        var attr = 'DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community';\n\t        return _leaflet2.default.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\n\t            attribution: '&copy; ' + esriLink + ', ' + attr,\n\t            maxZoom: 19 });\n\t    },\n\t    ESRI_STREETS: function ESRI_STREETS(layerConfig) {\n\t        layerConfig.legend = { label: 'ESRI Streets' };\n\t        layerConfig.name = layerConfig.type;\n\t        var attr = 'USGS, NOAA';\n\t        return _leaflet2.default.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {\n\t            attribution: '&copy; ' + esriLink + ', ' + attr,\n\t            maxZoom: 19 });\n\t    },\n\t    ESRI_TOPOGRAPHIC: function ESRI_TOPOGRAPHIC(layerConfig) {\n\t        layerConfig.legend = { label: 'ESRI Topographic' };\n\t        layerConfig.name = layerConfig.type;\n\t        var attr = 'USGS, NOAA';\n\t        return _leaflet2.default.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {\n\t            attribution: '&copy; ' + esriLink + ', ' + attr,\n\t            maxZoom: 19 });\n\t    },\n\t    ESRI_GRAY: function ESRI_GRAY(layerConfig) {\n\t        layerConfig.legend = { label: 'ESRI Gray' };\n\t        layerConfig.name = layerConfig.type;\n\t        var attr = 'HERE, DeLorme, MapmyIndia, OpenStreetMap contributors';\n\t        return _leaflet2.default.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {\n\t            attribution: '&copy; ' + esriLink + ', ' + attr,\n\t            maxZoom: 16 });\n\t    },\n\t    ESRI_DARKGRAY: function ESRI_DARKGRAY(layerConfig) {\n\t        layerConfig.legend = { label: 'ESRI Dark Gray' };\n\t        layerConfig.name = layerConfig.type;\n\t        var attr = 'HERE, DeLorme, MapmyIndia, OpenStreetMap contributors';\n\t        return _leaflet2.default.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}', {\n\t            attribution: '&copy; ' + esriLink + ', ' + attr,\n\t            maxZoom: 16 });\n\t    },\n\t    MAPBOX_STREETS: function MAPBOX_STREETS(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Mapbox Streets'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n\t            attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            id: 'mapbox.streets',\n\t            accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g'\n\t        });\n\t    },\n\t    MAPBOX_SATELLITE: function MAPBOX_SATELLITE(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Mapbox Satellite'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n\t            attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            id: 'mapbox.satellite',\n\t            accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g'\n\t        });\n\t    },\n\t    MAPBOX_OUTDOOR: function MAPBOX_OUTDOOR(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Mapox Outdoor'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n\t            attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            id: 'mapbox.outdoors',\n\t            accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g'\n\t        });\n\t    },\n\t    MAPBOX_LIGHT: function MAPBOX_LIGHT(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Mapox Light'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n\t            attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            id: 'mapbox.light',\n\t            accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g'\n\t        });\n\t    },\n\t    STAMEN_TERRAIN: function STAMEN_TERRAIN(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Stamen Terrain'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.{ext}', {\n\t            attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            minZoom: 0,\n\t            maxZoom: 18,\n\t            ext: 'png'\n\t        });\n\t    },\n\t    STAMEN_TONER_LIGHT: function STAMEN_TONER_LIGHT(layerConfig) {\n\t        layerConfig.legend = {\n\t            label: 'Stamen Toner Light'\n\t        };\n\t        return _leaflet2.default.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {\n\t            attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n\t            subdomains: 'abcd',\n\t            minZoom: 0,\n\t            maxZoom: 20,\n\t            ext: 'png'\n\t        });\n\t    },\n\t    RL_ORTOFOTO_2013: function RL_ORTOFOTO_2013() {\n\t        return this.TMS({\n\t            visible: false,\n\t            tmsParams: {\n\t                name: 'L4419/webmercator',\n\t                url: 'http://mapproxy.regione.liguria.it/mapproxy/1661/tiles/'\n\t            },\n\t            zIndex: 1\n\t        });\n\t    },\n\t    RL_ORTOFOTO_2016: function RL_ORTOFOTO_2016() {\n\t        return this.TMS({\n\t            visible: false,\n\t            tmsParams: {\n\t                name: 'L5802/webmercator',\n\t                url: 'http://mapproxy.regione.liguria.it/mapproxy/1828/tiles/'\n\t            },\n\t            zIndex: 1\n\t        });\n\t    },\n\t    RL_CARTE_BASE: function RL_CARTE_BASE() {\n\t        return this.TMS({\n\t            visible: false,\n\t            tmsParams: {\n\t                name: 'C1623/webmercator',\n\t                url: 'http://mapproxy.regione.liguria.it/mapproxy/1623/tiles/'\n\t            },\n\t            zIndex: 1\n\t        });\n\t    },\n\t    TMS: function TMS(layerConfig) {\n\t        var url = layerConfig.tmsParams.url.replace('/tms/', '/tiles/');\n\t        var name = layerConfig.tmsParams.name;\n\t        var tmsUrl = url + '/1.0.0/' + name + '/{z}/{x}/{y}.png';\n\t        var maxLevel = (0, _getTmsMaxLevel2.default)(layerConfig.maxScale);\n\t        var layer = _leaflet2.default.tileLayer(tmsUrl, {\n\t            minZoom: 1,\n\t            maxZoom: maxLevel\n\t        });\n\t        layer.setZIndex(layerConfig.zIndex);\n\t        layer.name = name.replace('/webmercator', '');\n\t        return layer;\n\t    },\n\t    WMS: function WMS(layerConfig) {\n\t        var name = layerConfig.name,\n\t            cacheMinZoomLevel = layerConfig.cacheMinZoomLevel,\n\t            minScale = layerConfig.minScale,\n\t            maxScale = layerConfig.maxScale,\n\t            wmsParams = layerConfig.wmsParams,\n\t            flagGeoserver = layerConfig.flagGeoserver,\n\t            zIndex = layerConfig.zIndex;\n\t\n\t        GV.log('layerFactory - Creazione Layer WMS: ' + name);\n\t        var layer = null;\n\t\n\t        var isCached = cacheMinZoomLevel ? true : false;\n\t        var format = wmsParams.format;\n\t        var minZoom = minScale ? (0, _getZoomFromScaleDenom2.default)(minScale) : 8;\n\t        var maxZoom = maxScale ? (0, _getZoomFromScaleDenom2.default)(maxScale) : 20;\n\t        var opacity = layerConfig.opacity || 1;\n\t        var options = {\n\t            subdomains: ['1', '2'],\n\t            transparent: true,\n\t            FORMAT_OPTIONS: 'antialias:text',\n\t            layers: name,\n\t            format: format,\n\t            opacity: opacity,\n\t            minZoom: minZoom,\n\t            maxZoom: maxZoom,\n\t            bounds: _leaflet2.default.latLngBounds(_leaflet2.default.latLng(_globals2.default.MAX_BOUNDS.X_MIN, _globals2.default.MAX_BOUNDS.Y_MIN), _leaflet2.default.latLng(_globals2.default.MAX_BOUNDS.X_MAX, _globals2.default.MAX_BOUNDS.Y_MAX))\n\t        };\n\t\n\t        var url = wmsParams.url;\n\t        if (isCached) {\n\t            if (_globals2.default.USE_SUBDOMAINS && url.indexOf('geoservizi.regione.liguria.it') > 0) {\n\t                url = url.replace('geoservizi', 'geoservizi{s}');\n\t            }\n\t            (0, _assign2.default)(options, {\n\t                tiled: true,\n\t                TILESORIGIN: '-20037508,-20037508',\n\t                tileSize: 256,\n\t                CACHE_VERSION: layerConfig.cacheVersion\n\t            });\n\t            layer = _leaflet2.default.tileLayer.wms(url, options);\n\t        } else {\n\t            (0, _assign2.default)(options, {\n\t                tiled: false,\n\t                pane: 'tilePane'\n\t            });\n\t            layer = _leaflet2.default.nonTiledLayer.wms(url, options);\n\t        }\n\t\n\t        layer.setZIndex(zIndex);\n\t        layer.type = 'WMS';\n\t        layer.name = name;\n\t\n\t        return layer;\n\t    },\n\t    JSON: function JSON(layerConfig) {\n\t        var data = layerConfig.data,\n\t            url = layerConfig.url,\n\t            name = layerConfig.name,\n\t            wfsParams = layerConfig.wfsParams,\n\t            esParams = layerConfig.esParams,\n\t            classes = layerConfig.classes,\n\t            style = layerConfig.style,\n\t            pointToLayer = layerConfig.pointToLayer,\n\t            tooltip = layerConfig.tooltip,\n\t            popup = layerConfig.popup,\n\t            basePopup = layerConfig.basePopup,\n\t            cluster = layerConfig.cluster,\n\t            subType = layerConfig.subType,\n\t            legend = layerConfig.legend,\n\t            onEachFeature = layerConfig.onEachFeature;\n\t\n\t        var clusterLayer = null;\n\t        var options = {};\n\t\n\t        if (classes && classes.length > 0) {\n\t            if (layerConfig.geomSubType === 'POINT') {\n\t                options.pointToLayer = function (feature, latlng) {\n\t                    var style;\n\t                    classes.forEach(function (cls) {\n\t                        if (cls.filter && cls.filter.key && cls.filter.value) {\n\t                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n\t                                style = cls.style;\n\t                            }\n\t                        } else {\n\t                            style = cls.style;\n\t                        }\n\t                    });\n\t                    if (style.iconUrl) {\n\t                        var icon;\n\t                        switch (style.iconUrl) {\n\t                            case 'default':\n\t                                icon = _leaflet2.default.icon({\n\t                                    iconUrl: 'http://geoportale.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\n\t                                    iconSize: [25, 41],\n\t                                    iconAnchor: [12, 41],\n\t                                    popupAnchor: [0, -41]\n\t                                });\n\t                                break;\n\t                            case 'default-small':\n\t                                icon = _leaflet2.default.icon({\n\t                                    iconUrl: 'http://geoportale.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\n\t                                    iconSize: [12, 20],\n\t                                    iconAnchor: [6, 10],\n\t                                    popupAnchor: [0, -20]\n\t                                });\n\t                                break;\n\t                            default:\n\t                                icon = _leaflet2.default.icon({\n\t                                    iconUrl: style.iconUrl,\n\t                                    iconSize: style.iconSize,\n\t                                    iconAnchor: style.iconAnchor,\n\t                                    popupAnchor: style.popupAnchor\n\t                                });\n\t                        }\n\t                        return _leaflet2.default.marker(latlng, { icon: icon });\n\t                    } else {\n\t                        return _leaflet2.default.circleMarker(latlng, style);\n\t                    }\n\t                };\n\t            } else {\n\t                options.style = function (feature) {\n\t                    var style;\n\t                    classes.forEach(function (cls) {\n\t                        if (cls.filter && cls.filter.key && cls.filter.value) {\n\t                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n\t                                style = cls.style;\n\t                            }\n\t                        } else {\n\t                            style = cls.style;\n\t                        }\n\t                    });\n\t                    return style;\n\t                };\n\t            }\n\t            options.filter = function (feature) {\n\t                var visible = false;\n\t                classes.forEach(function (cls) {\n\t                    if (!cls.filter) {\n\t                        visible = true;\n\t                    } else {\n\t                        if (cls.filter.key && cls.filter.value) {\n\t                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n\t                                visible = true;\n\t                            }\n\t                        }\n\t                    }\n\t                });\n\t                return visible;\n\t            };\n\t        }\n\t\n\t        if (style) {\n\t            options.style = style;\n\t        }\n\t        if (pointToLayer) {\n\t            options.pointToLayer = pointToLayer;\n\t        }\n\t\n\t        if (tooltip || popup) {\n\t            options.onEachFeature = function (feature, layer) {\n\t                if (tooltip) {\n\t                    layer.options.title = (0, _interpolateString2.default)(tooltip, feature.properties);\n\t                }\n\t                if (popup) {\n\t                    layer.bindPopup((0, _interpolateString2.default)(popup, feature.properties));\n\t                }\n\t            };\n\t        } else {\n\t            options.onEachFeature = onEachFeature;\n\t        }\n\t\n\t        var layer = _leaflet2.default.geoJson(data, options);\n\t        layer.name = name;\n\t\n\t        function simplePopup(props) {\n\t            var popUp = '<div><b>' + legend.label + '</b><br><br></div>';\n\t            popUp += \"<div>\";\n\t            props.forEach(function (prop) {\n\t                popUp += prop.key + ':' + prop.value + '<br>';\n\t            });\n\t            popUp += '</div>';\n\t            return popUp;\n\t        }\n\t\n\t        if (basePopup) {\n\t            layer.on('ready', function () {\n\t                layer.eachLayer(function (_layer) {\n\t                    var props = [];\n\t                    (0, _keys2.default)(_layer.feature.properties).forEach(function (key) {\n\t                        var value = _layer.feature.properties[key];\n\t                        if (typeof value === 'string' || value instanceof String || typeof value === 'number') {\n\t                            props.push({\n\t                                key: key,\n\t                                value: value\n\t                            });\n\t                        }\n\t                    });\n\t                    layer.bindPopup(simplePopup(props));\n\t                });\n\t            });\n\t        }\n\t\n\t        layer.setFilter = function (filters) {\n\t            layer.filter = filters;\n\t            if (filters) {\n\t                layer.eachLayer(function (marker) {\n\t                    var opacity = 0;\n\t                    filters.forEach(function (filter) {\n\t                        if (marker.feature.properties[filter.key] === filter.value) {\n\t                            opacity = layer.config.opacity || 1;\n\t                        }\n\t                    });\n\t                    marker.setOpacity(opacity);\n\t                });\n\t            } else {\n\t                layer.eachLayer(function (marker) {\n\t                    var opacity = layer.config.opacity || 1;\n\t                    marker.setOpacity(opacity);\n\t                });\n\t            }\n\t        };\n\t\n\t        var parameters;\n\t\n\t        if (wfsParams && wfsParams.typeName && wfsParams.url) {\n\t            parameters = {\n\t                service: 'WFS',\n\t                version: '2.0.0',\n\t                request: 'GetFeature',\n\t                srsName: 'EPSG:4326',\n\t                outputFormat: 'text/javascript',\n\t                format_options: 'callback: getJson',\n\t                typeName: wfsParams.typeName\n\t            };\n\t            url = wfsParams.url + (0, _getParamString2.default)(parameters);\n\t        }\n\t\n\t        if (esParams) {\n\t            parameters = {};\n\t            if (esParams.field) {\n\t                parameters.q = esParams.field + ':';\n\t                if (esParams.query) {\n\t                    parameters.q += esParams.query;\n\t                } else {\n\t                    parameters.q += '*';\n\t                }\n\t            } else {\n\t                if (esParams.query) {\n\t                    parameters.q = esParams.query;\n\t                }\n\t            }\n\t            parameters.pretty = 'true';\n\t            parameters.size = 100000;\n\t\n\t\n\t            url = GV.config.application.proxy + esParams.url + (0, _getParamString2.default)(parameters);\n\t        }\n\t\n\t        if (cluster) {\n\t            var clusterOptions = { showCoverageOnHover: false };\n\t            if (cluster.options) {\n\t                (0, _assign2.default)(clusterOptions, cluster.options);\n\t            }\n\t            clusterLayer = _leaflet2.default.markerClusterGroup(clusterOptions);\n\t            clusterLayer.name = name;\n\t        }\n\t\n\t        if (url) {\n\t            (0, _getGeoJSON2.default)(url).then(function (response) {\n\t                var geoJson = void 0;\n\t                if (subType === 'KML') {\n\t                    var xml = (0, _parseXML2.default)(response.data);\n\t                    geoJson = _togeojson2.default.kml(xml);\n\t                } else if (subType === 'GPX') {\n\t                    var _xml = (0, _parseXML2.default)(response.data);\n\t                    geoJson = _togeojson2.default.gpx(_xml);\n\t                } else {\n\t                    geoJson = buildGeoJson(response.data, esParams);\n\t                }\n\t                layer.addData(geoJson);\n\t                if (cluster) {\n\t                    clusterLayer.addLayer(layer);\n\t                }\n\t                layer.fire('ready');\n\t                GV.eventBus.$emit('layer-loaded-json', layer);\n\t            }).catch(function (error) {\n\t                return console.error(error);\n\t            });\n\t        }\n\t\n\t        if (data) {\n\t            if (cluster) {\n\t                clusterLayer.addLayer(layer);\n\t            }\n\t        }\n\t\n\t        return cluster ? clusterLayer : layer;\n\t    }\n\t};\n\t\n\tfunction create(layerConfig, map) {\n\t    if (layerFactory[layerConfig.type]) {\n\t        var layer = layerFactory[layerConfig.type](layerConfig, map);\n\t        layer.legend = layerConfig.legend;\n\t        layer.config = layerConfig;\n\t        return layer;\n\t    } else {\n\t        throw new Error('Layer di tipo ' + layerConfig.type + ' non gestito');\n\t    }\n\t}\n\t\n\texports.create = create;\n\n/***/ }),\n/* 218 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(64);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _LayerFactory = __webpack_require__(217);\n\t\n\tvar LayerFactory = _interopRequireWildcard(_LayerFactory);\n\t\n\tvar _leaflet = __webpack_require__(166);\n\t\n\tvar _leaflet2 = _interopRequireDefault(_leaflet);\n\t\n\tvar _getWFSFeature = __webpack_require__(105);\n\t\n\tvar _getWFSFeature2 = _interopRequireDefault(_getWFSFeature);\n\t\n\tvar _buildCqlFilter = __webpack_require__(239);\n\t\n\tvar _buildCqlFilter2 = _interopRequireDefault(_buildCqlFilter);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Map = _leaflet2.default.Map.extend({\n\t    layers: [],\n\t\n\t    baseLayers: [],\n\t\n\t    initialExtent: [],\n\t\n\t    buttons: [],\n\t\n\t    mapOptions: {\n\t        zoomControl: false,\n\t        maxBounds: _leaflet2.default.latLngBounds(_leaflet2.default.latLng(_globals2.default.MAX_BOUNDS.X_MIN, _globals2.default.MAX_BOUNDS.Y_MIN), _leaflet2.default.latLng(_globals2.default.MAX_BOUNDS.X_MAX, _globals2.default.MAX_BOUNDS.Y_MAX)),\n\t        maxBoundsViscosity: 1.0,\n\t        minZoom: 7\n\t    },\n\t\n\t    initialize: function initialize() {\n\t        (0, _assign2.default)(this.mapOptions, GV.config.application.mapOptions);\n\t\n\t        _leaflet2.default.Map.prototype.initialize.call(this, 'gv-map', _leaflet2.default.extend(_leaflet2.default.Map.prototype.options, this.mapOptions));\n\t\n\t        this.setInitialExtent();\n\t\n\t        this.setLoading();\n\t\n\t        this.loadBaseLayers();\n\t\n\t        this.loadControls();\n\t\n\t        this.eventMngr();\n\t    },\n\t    eventMngr: function eventMngr() {\n\t        var _this = this;\n\t\n\t        this.on('zoom', function () {\n\t            GV.eventBus.$emit('map-zoom', _this._zoom);\n\t        });\n\t        GV.eventBus.$on('set-layer-visible', function (event) {\n\t            _this.setLayerVisible(event.layer, event.checked);\n\t            _this.setHiliteLayerVisible(event);\n\t        });\n\t        GV.eventBus.$on('set-layer-transparency', function (event) {\n\t            var layer = _this.getLayerByName(event.layerName);\n\t            layer.setOpacity(event.opacity);\n\t        });\n\t        GV.eventBus.$on('change-base-layer', function (event) {\n\t            _this.changeBaseLayer(event.layer);\n\t        });\n\t    },\n\t    setHiliteLayerVisible: function setHiliteLayerVisible(event) {\n\t        var _this2 = this;\n\t\n\t        if (!GV.config.hilitedLayer) {\n\t            return;\n\t        }\n\t        GV.config.hilitedLayer.forEach(function (hl) {\n\t            if (hl === event.layer.name) {\n\t                var layer = _this2.getLayerByName('InfoWmsHilite');\n\t                layer.eachLayer(function (m) {\n\t                    var opacity = event.checked ? 0.6 : 0.0;\n\t                    m.setStyle({ opacity: opacity });\n\t                });\n\t            }\n\t        });\n\t    },\n\t    setInitialExtent: function setInitialExtent() {\n\t        'use strict';\n\t\n\t        var extent = this.mapOptions.initialExtent || '830036,5402959,1123018,5597635';\n\t        var extArray = extent.split(',');\n\t        var swPoint = _leaflet2.default.point(extArray[0], extArray[1]);\n\t        var nePoint = _leaflet2.default.point(extArray[2], extArray[3]);\n\t        var swLatLng = _leaflet2.default.Projection.SphericalMercator.unproject(swPoint);\n\t        var neLatLng = _leaflet2.default.Projection.SphericalMercator.unproject(nePoint);\n\t        this.initialExtent = _leaflet2.default.latLngBounds(swLatLng, neLatLng);\n\t        this.fitBounds(this.initialExtent);\n\t    },\n\t    setExtent: function setExtent(extent) {\n\t        'use strict';\n\t\n\t        var extArray = extent.split(',');\n\t        var swPoint = _leaflet2.default.point(extArray[0], extArray[1]);\n\t        var nePoint = _leaflet2.default.point(extArray[2], extArray[3]);\n\t        var swLatLng = _leaflet2.default.Projection.SphericalMercator.unproject(swPoint);\n\t        var neLatLng = _leaflet2.default.Projection.SphericalMercator.unproject(nePoint);\n\t        this.initialExtent = _leaflet2.default.latLngBounds(swLatLng, neLatLng);\n\t        this.fitBounds(this.initialExtent);\n\t    },\n\t    setLayerVisible: function setLayerVisible(layerConfig, visible) {\n\t        'use strict';\n\t\n\t        if (visible) {\n\t            layerConfig.visible = true;\n\t            this.loadLayers([layerConfig]);\n\t        } else {\n\t            var layer = this.getLayerByName(layerConfig.name);\n\t            if (layer) {\n\t                this.removeLayer(layer);\n\t            }\n\t        }\n\t    },\n\t    layerInRange: function layerInRange(layerConfig) {\n\t        'use strict';\n\t\n\t        if (!layerConfig.minScale && !layerConfig.minScale) {\n\t            return true;\n\t        }\n\t        return this.getScale() < layerConfig.minScale && this.getScale() > layerConfig.maxScale;\n\t    },\n\t    loadControls: function loadControls() {\n\t        'use strict';\n\t\n\t        if (this.mapOptions.controls) {\n\t            var cntrl;\n\t            this.controls = {};\n\t            this.mapOptions.controls.forEach(function (control) {\n\t                switch (control.name) {\n\t                    case 'scale':\n\t                        cntrl = _leaflet2.default.control.scale({ imperial: false }).addTo(this);\n\t                        this.controls[control] = cntrl;\n\t                        break;\n\t                }\n\t            }, this);\n\t        }\n\t    },\n\t    loadBaseLayers: function loadBaseLayers() {\n\t        'use strict';\n\t\n\t        GV.config.baseLayers.forEach(function (layerConfig) {\n\t            var layer = LayerFactory.create(layerConfig, this);\n\t            this.baseLayers[layer.config.type] = layer;\n\t            if (layer && layerConfig.visible) {\n\t                layer.on('loading', function () {\n\t                    this.loading(true, layer);\n\t                }, this);\n\t                layer.on('load', function () {\n\t                    this.loading(false, layer);\n\t                }, this);\n\t                layer.addTo(this);\n\t            }\n\t        }, this);\n\t    },\n\t    loadLayers: function loadLayers(layers) {\n\t        'use strict';\n\t\n\t        layers.forEach(function (layerConfig) {\n\t            var _this3 = this;\n\t\n\t            if (!this.getLayerByName(layerConfig.name)) {\n\t                var layer = LayerFactory.create(layerConfig, this);\n\t                if (layer && layerConfig.visible) {\n\t                    layer.on('loading', function () {\n\t                        this.loading(true, layer);\n\t                    }, this);\n\t                    layer.on('load', function () {\n\t                        this.loading(false, layer);\n\t                    }, this);\n\t                    layer.addTo(this);\n\t                    layer.on('ready', function () {\n\t                        if (layerConfig.zoomToLayerExtent) {\n\t                            var _layers;\n\t\n\t                            (function () {\n\t                                var bounds = new _leaflet2.default.latLngBounds();\n\t                                _layers = layer._layers;\n\t\n\t                                layer.eachLayer(function (_layer) {\n\t                                    if (_layer.getBounds) {\n\t                                        bounds.extend(_layer.getBounds());\n\t                                    } else {\n\t                                        bounds.extend(new _leaflet2.default.latLngBounds(_layer._latlng, _layer._latlng));\n\t                                    }\n\t                                });\n\t                                if (bounds) _this3.fitBounds(bounds);\n\t                            })();\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        }, this);\n\t    },\n\t    getLayerByName: function getLayerByName(layerName) {\n\t        var foundLayer = null;\n\t        this.eachLayer(function (layer) {\n\t            if (layer.config && layer.config.name && layer.config.name === layerName) {\n\t                foundLayer = layer;\n\t            }\n\t        });\n\t        return foundLayer;\n\t    },\n\t    changeBaseLayer: function changeBaseLayer(layerName) {\n\t        var activeLayerName = GV.config.getActiveBaseLayer().name;\n\t        if (activeLayerName !== layerName) {\n\t            this.removeLayer(this.baseLayers[activeLayerName]);\n\t            this.baseLayers[layerName].addTo(this);\n\t            GV.config.setActiveBaseLayer(layerName);\n\t        }\n\t    },\n\t    getScaleLabel: function getScaleLabel() {\n\t        'use strict';\n\t\n\t        return _globals2.default.BASE_SCALE_LABELS[this._zoom];\n\t    },\n\t    getScale: function getScale() {\n\t        'use strict';\n\t\n\t        return _globals2.default.BASE_SCALES[this._zoom];\n\t    },\n\t    setLoading: function setLoading() {\n\t        this._spinning = 0;\n\t        this.on('layerremove', function (e) {\n\t            if (e.layer.loading) {\n\t                this.loading(false);\n\t            }\n\t            if (typeof e.layer.on !== 'function') {\n\t                return;\n\t            }\n\t            e.layer.off('load');\n\t            e.layer.off('loading');\n\t        }, this);\n\t    },\n\t    loading: function loading(state, layer) {\n\t\n\t        if (state) {\n\t            if (this._spinning === 0) {\n\t                GV.log('start load: ' + layer.config.name);\n\t                this._container.style.cursor = 'progress';\n\t            }\n\t            this._spinning++;\n\t        } else {\n\t            this._spinning--;\n\t            if (this._spinning <= 0) {\n\t                GV.log('end load: ' + layer.config.name);\n\t                this._container.style.cursor = 'default';\n\t            }\n\t        }\n\t    },\n\t    addMarker: function addMarker(markerConfig) {\n\t        var icon = _leaflet2.default.icon({\n\t            iconUrl: 'http://srvcarto.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\n\t            iconSize: [25, 41],\n\t            iconAnchor: [12, 41],\n\t            popupAnchor: [0, -41]\n\t        });\n\t        var opts = {\n\t            opacity: 0.8,\n\t            icon: icon,\n\t            title: markerConfig.label\n\t        };\n\t\n\t        if (markerConfig.type === 'circle') {\n\t            _leaflet2.default.circleMarker(markerConfig.location, opts).addTo(this);\n\t        } else {\n\t            _leaflet2.default.marker(markerConfig.location, opts).addTo(this);\n\t        }\n\t        this.setView(markerConfig.location, markerConfig.zoomLevel || 14);\n\t    },\n\t    find: function find(findOptions) {\n\t        var _this4 = this;\n\t\n\t        if ((!findOptions.values || findOptions.values === 'null') && !findOptions.cqlFilter) {\n\t            console.error('Parametri FIND non completi: manca CQL_FILTER o VALUES');\n\t            return;\n\t        }\n\t\n\t        var cqlFilter = findOptions.cqlFilter || (0, _buildCqlFilter2.default)(findOptions);\n\t        var layers = findOptions.layers || GV.config.getLayersNameByMapId(findOptions.map);\n\t        (0, _getWFSFeature2.default)(layers, cqlFilter).then(function (features) {\n\t            var layer = _this4.getLayerByName('InfoWmsHilite');\n\t            if (features && features.length > 0) {\n\t                layer.clearLayers();\n\t                layer.addData(features);\n\t                _this4.fitBounds(layer.getBounds(), { maxZoom: 15 });\n\t                GV.config.hilitedLayer = layers;\n\t            }\n\t        }).catch(function (error) {\n\t            console.error(error);\n\t        });\n\t    },\n\t    zoomTo: function zoomTo(lat, lon, zoom) {\n\t        this.setView(new _leaflet2.default.LatLng(lat, lon), zoom);\n\t    }\n\t});\n\t\n\texports.default = Map;\n\n/***/ }),\n/* 219 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t;(function (window, document, undefined) {\n\t\n\t  L.MarkerClusterGroup = L.FeatureGroup.extend({\n\t\n\t    options: {\n\t      maxClusterRadius: 80,\n\t      iconCreateFunction: null,\n\t\n\t      spiderfyOnMaxZoom: true,\n\t      showCoverageOnHover: true,\n\t      zoomToBoundsOnClick: true,\n\t      singleMarkerMode: false,\n\t\n\t      disableClusteringAtZoom: null,\n\t\n\t      removeOutsideVisibleBounds: true,\n\t\n\t      animate: true,\n\t\n\t      animateAddingMarkers: false,\n\t\n\t      spiderfyDistanceMultiplier: 1,\n\t\n\t      spiderLegPolylineOptions: { weight: 1.5, color: '#222', opacity: 0.5 },\n\t\n\t      chunkedLoading: false,\n\t      chunkInterval: 200,\n\t      chunkDelay: 50,\n\t      chunkProgress: null,\n\t      polygonOptions: {}\n\t    },\n\t\n\t    initialize: function initialize(options) {\n\t      L.Util.setOptions(this, options);\n\t      if (!this.options.iconCreateFunction) {\n\t        this.options.iconCreateFunction = this._defaultIconCreateFunction;\n\t      }\n\t\n\t      this._featureGroup = L.featureGroup();\n\t      this._featureGroup.addEventParent(this);\n\t\n\t      this._nonPointGroup = L.featureGroup();\n\t      this._nonPointGroup.addEventParent(this);\n\t\n\t      this._inZoomAnimation = 0;\n\t      this._needsClustering = [];\n\t      this._needsRemoving = [];\n\t      this._currentShownBounds = null;\n\t\n\t      this._queue = [];\n\t\n\t      var animate = L.DomUtil.TRANSITION && this.options.animate;\n\t      L.extend(this, animate ? this._withAnimation : this._noAnimation);\n\t\n\t      this._markerCluster = animate ? L.MarkerCluster : L.MarkerClusterNonAnimated;\n\t    },\n\t\n\t    addLayer: function addLayer(layer) {\n\t\n\t      if (layer instanceof L.LayerGroup) {\n\t        return this.addLayers([layer]);\n\t      }\n\t\n\t      if (!layer.getLatLng) {\n\t        this._nonPointGroup.addLayer(layer);\n\t        return this;\n\t      }\n\t\n\t      if (!this._map) {\n\t        this._needsClustering.push(layer);\n\t        return this;\n\t      }\n\t\n\t      if (this.hasLayer(layer)) {\n\t        return this;\n\t      }\n\t\n\t      if (this._unspiderfy) {\n\t        this._unspiderfy();\n\t      }\n\t\n\t      this._addLayer(layer, this._maxZoom);\n\t\n\t      this._topClusterLevel._recalculateBounds();\n\t\n\t      var visibleLayer = layer,\n\t          currentZoom = this._map.getZoom();\n\t      if (layer.__parent) {\n\t        while (visibleLayer.__parent._zoom >= currentZoom) {\n\t          visibleLayer = visibleLayer.__parent;\n\t        }\n\t      }\n\t\n\t      if (this._currentShownBounds.contains(visibleLayer.getLatLng())) {\n\t        if (this.options.animateAddingMarkers) {\n\t          this._animationAddLayer(layer, visibleLayer);\n\t        } else {\n\t          this._animationAddLayerNonAnimated(layer, visibleLayer);\n\t        }\n\t      }\n\t      return this;\n\t    },\n\t\n\t    removeLayer: function removeLayer(layer) {\n\t\n\t      if (layer instanceof L.LayerGroup) {\n\t        return this.removeLayers([layer]);\n\t      }\n\t\n\t      if (!layer.getLatLng) {\n\t        this._nonPointGroup.removeLayer(layer);\n\t        return this;\n\t      }\n\t\n\t      if (!this._map) {\n\t        if (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer)) {\n\t          this._needsRemoving.push(layer);\n\t        }\n\t        return this;\n\t      }\n\t\n\t      if (!layer.__parent) {\n\t        return this;\n\t      }\n\t\n\t      if (this._unspiderfy) {\n\t        this._unspiderfy();\n\t        this._unspiderfyLayer(layer);\n\t      }\n\t\n\t      this._removeLayer(layer, true);\n\t\n\t      this._topClusterLevel._recalculateBounds();\n\t\n\t      layer.off('move', this._childMarkerMoved, this);\n\t\n\t      if (this._featureGroup.hasLayer(layer)) {\n\t        this._featureGroup.removeLayer(layer);\n\t        if (layer.clusterShow) {\n\t          layer.clusterShow();\n\t        }\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    addLayers: function addLayers(layersArray) {\n\t      if (!L.Util.isArray(layersArray)) {\n\t        return this.addLayer(layersArray);\n\t      }\n\t\n\t      var fg = this._featureGroup,\n\t          npg = this._nonPointGroup,\n\t          chunked = this.options.chunkedLoading,\n\t          chunkInterval = this.options.chunkInterval,\n\t          chunkProgress = this.options.chunkProgress,\n\t          l = layersArray.length,\n\t          offset = 0,\n\t          originalArray = true,\n\t          m;\n\t\n\t      if (this._map) {\n\t        var started = new Date().getTime();\n\t        var process = L.bind(function () {\n\t          var start = new Date().getTime();\n\t          for (; offset < l; offset++) {\n\t            if (chunked && offset % 200 === 0) {\n\t              var elapsed = new Date().getTime() - start;\n\t              if (elapsed > chunkInterval) {\n\t                break;\n\t              }\n\t            }\n\t\n\t            m = layersArray[offset];\n\t\n\t            if (m instanceof L.LayerGroup) {\n\t              if (originalArray) {\n\t                layersArray = layersArray.slice();\n\t                originalArray = false;\n\t              }\n\t              this._extractNonGroupLayers(m, layersArray);\n\t              l = layersArray.length;\n\t              continue;\n\t            }\n\t\n\t            if (!m.getLatLng) {\n\t              npg.addLayer(m);\n\t              continue;\n\t            }\n\t\n\t            if (this.hasLayer(m)) {\n\t              continue;\n\t            }\n\t\n\t            this._addLayer(m, this._maxZoom);\n\t\n\t            if (m.__parent) {\n\t              if (m.__parent.getChildCount() === 2) {\n\t                var markers = m.__parent.getAllChildMarkers(),\n\t                    otherMarker = markers[0] === m ? markers[1] : markers[0];\n\t                fg.removeLayer(otherMarker);\n\t              }\n\t            }\n\t          }\n\t\n\t          if (chunkProgress) {\n\t            chunkProgress(offset, l, new Date().getTime() - started);\n\t          }\n\t\n\t          if (offset === l) {\n\t            this._topClusterLevel._recalculateBounds();\n\t\n\t            this._featureGroup.eachLayer(function (c) {\n\t              if (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\n\t                c._updateIcon();\n\t              }\n\t            });\n\t\n\t            this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\t          } else {\n\t            setTimeout(process, this.options.chunkDelay);\n\t          }\n\t        }, this);\n\t\n\t        process();\n\t      } else {\n\t        var needsClustering = this._needsClustering;\n\t\n\t        for (; offset < l; offset++) {\n\t          m = layersArray[offset];\n\t\n\t          if (m instanceof L.LayerGroup) {\n\t            if (originalArray) {\n\t              layersArray = layersArray.slice();\n\t              originalArray = false;\n\t            }\n\t            this._extractNonGroupLayers(m, layersArray);\n\t            l = layersArray.length;\n\t            continue;\n\t          }\n\t\n\t          if (!m.getLatLng) {\n\t            npg.addLayer(m);\n\t            continue;\n\t          }\n\t\n\t          if (this.hasLayer(m)) {\n\t            continue;\n\t          }\n\t\n\t          needsClustering.push(m);\n\t        }\n\t      }\n\t      return this;\n\t    },\n\t\n\t    removeLayers: function removeLayers(layersArray) {\n\t      var i,\n\t          m,\n\t          l = layersArray.length,\n\t          fg = this._featureGroup,\n\t          npg = this._nonPointGroup,\n\t          originalArray = true;\n\t\n\t      if (!this._map) {\n\t        for (i = 0; i < l; i++) {\n\t          m = layersArray[i];\n\t\n\t          if (m instanceof L.LayerGroup) {\n\t            if (originalArray) {\n\t              layersArray = layersArray.slice();\n\t              originalArray = false;\n\t            }\n\t            this._extractNonGroupLayers(m, layersArray);\n\t            l = layersArray.length;\n\t            continue;\n\t          }\n\t\n\t          this._arraySplice(this._needsClustering, m);\n\t          npg.removeLayer(m);\n\t          if (this.hasLayer(m)) {\n\t            this._needsRemoving.push(m);\n\t          }\n\t        }\n\t        return this;\n\t      }\n\t\n\t      if (this._unspiderfy) {\n\t        this._unspiderfy();\n\t\n\t        var layersArray2 = layersArray.slice(),\n\t            l2 = l;\n\t        for (i = 0; i < l2; i++) {\n\t          m = layersArray2[i];\n\t\n\t          if (m instanceof L.LayerGroup) {\n\t            this._extractNonGroupLayers(m, layersArray2);\n\t            l2 = layersArray2.length;\n\t            continue;\n\t          }\n\t\n\t          this._unspiderfyLayer(m);\n\t        }\n\t      }\n\t\n\t      for (i = 0; i < l; i++) {\n\t        m = layersArray[i];\n\t\n\t        if (m instanceof L.LayerGroup) {\n\t          if (originalArray) {\n\t            layersArray = layersArray.slice();\n\t            originalArray = false;\n\t          }\n\t          this._extractNonGroupLayers(m, layersArray);\n\t          l = layersArray.length;\n\t          continue;\n\t        }\n\t\n\t        if (!m.__parent) {\n\t          npg.removeLayer(m);\n\t          continue;\n\t        }\n\t\n\t        this._removeLayer(m, true, true);\n\t\n\t        if (fg.hasLayer(m)) {\n\t          fg.removeLayer(m);\n\t          if (m.clusterShow) {\n\t            m.clusterShow();\n\t          }\n\t        }\n\t      }\n\t\n\t      this._topClusterLevel._recalculateBounds();\n\t\n\t      this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\t\n\t      fg.eachLayer(function (c) {\n\t        if (c instanceof L.MarkerCluster) {\n\t          c._updateIcon();\n\t        }\n\t      });\n\t\n\t      return this;\n\t    },\n\t\n\t    clearLayers: function clearLayers() {\n\t      if (!this._map) {\n\t        this._needsClustering = [];\n\t        delete this._gridClusters;\n\t        delete this._gridUnclustered;\n\t      }\n\t\n\t      if (this._noanimationUnspiderfy) {\n\t        this._noanimationUnspiderfy();\n\t      }\n\t\n\t      this._featureGroup.clearLayers();\n\t      this._nonPointGroup.clearLayers();\n\t\n\t      this.eachLayer(function (marker) {\n\t        marker.off('move', this._childMarkerMoved, this);\n\t        delete marker.__parent;\n\t      });\n\t\n\t      if (this._map) {\n\t        this._generateInitialClusters();\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    getBounds: function getBounds() {\n\t      var bounds = new L.LatLngBounds();\n\t\n\t      if (this._topClusterLevel) {\n\t        bounds.extend(this._topClusterLevel._bounds);\n\t      }\n\t\n\t      for (var i = this._needsClustering.length - 1; i >= 0; i--) {\n\t        bounds.extend(this._needsClustering[i].getLatLng());\n\t      }\n\t\n\t      bounds.extend(this._nonPointGroup.getBounds());\n\t\n\t      return bounds;\n\t    },\n\t\n\t    eachLayer: function eachLayer(method, context) {\n\t      var markers = this._needsClustering.slice(),\n\t          needsRemoving = this._needsRemoving,\n\t          i;\n\t\n\t      if (this._topClusterLevel) {\n\t        this._topClusterLevel.getAllChildMarkers(markers);\n\t      }\n\t\n\t      for (i = markers.length - 1; i >= 0; i--) {\n\t        if (needsRemoving.indexOf(markers[i]) === -1) {\n\t          method.call(context, markers[i]);\n\t        }\n\t      }\n\t\n\t      this._nonPointGroup.eachLayer(method, context);\n\t    },\n\t\n\t    getLayers: function getLayers() {\n\t      var layers = [];\n\t      this.eachLayer(function (l) {\n\t        layers.push(l);\n\t      });\n\t      return layers;\n\t    },\n\t\n\t    getLayer: function getLayer(id) {\n\t      var result = null;\n\t\n\t      id = parseInt(id, 10);\n\t\n\t      this.eachLayer(function (l) {\n\t        if (L.stamp(l) === id) {\n\t          result = l;\n\t        }\n\t      });\n\t\n\t      return result;\n\t    },\n\t\n\t    hasLayer: function hasLayer(layer) {\n\t      if (!layer) {\n\t        return false;\n\t      }\n\t\n\t      var i,\n\t          anArray = this._needsClustering;\n\t\n\t      for (i = anArray.length - 1; i >= 0; i--) {\n\t        if (anArray[i] === layer) {\n\t          return true;\n\t        }\n\t      }\n\t\n\t      anArray = this._needsRemoving;\n\t      for (i = anArray.length - 1; i >= 0; i--) {\n\t        if (anArray[i] === layer) {\n\t          return false;\n\t        }\n\t      }\n\t\n\t      return !!(layer.__parent && layer.__parent._group === this) || this._nonPointGroup.hasLayer(layer);\n\t    },\n\t\n\t    zoomToShowLayer: function zoomToShowLayer(layer, callback) {\n\t\n\t      if (typeof callback !== 'function') {\n\t        callback = function callback() {};\n\t      }\n\t\n\t      var showMarker = function showMarker() {\n\t        if ((layer._icon || layer.__parent._icon) && !this._inZoomAnimation) {\n\t          this._map.off('moveend', showMarker, this);\n\t          this.off('animationend', showMarker, this);\n\t\n\t          if (layer._icon) {\n\t            callback();\n\t          } else if (layer.__parent._icon) {\n\t            this.once('spiderfied', callback, this);\n\t            layer.__parent.spiderfy();\n\t          }\n\t        }\n\t      };\n\t\n\t      if (layer._icon && this._map.getBounds().contains(layer.getLatLng())) {\n\t        callback();\n\t      } else if (layer.__parent._zoom < this._map.getZoom()) {\n\t        this._map.on('moveend', showMarker, this);\n\t        this._map.panTo(layer.getLatLng());\n\t      } else {\n\t        var _moveStart = function moveStart() {\n\t          this._map.off('movestart', _moveStart, this);\n\t          _moveStart = null;\n\t        };\n\t\n\t        this._map.on('movestart', _moveStart, this);\n\t        this._map.on('moveend', showMarker, this);\n\t        this.on('animationend', showMarker, this);\n\t        layer.__parent.zoomToBounds();\n\t\n\t        if (_moveStart) {\n\t          showMarker.call(this);\n\t        }\n\t      }\n\t    },\n\t\n\t    onAdd: function onAdd(map) {\n\t      this._map = map;\n\t      var i, l, layer;\n\t\n\t      if (!isFinite(this._map.getMaxZoom())) {\n\t        throw \"Map has no maxZoom specified\";\n\t      }\n\t\n\t      this._featureGroup.addTo(map);\n\t      this._nonPointGroup.addTo(map);\n\t\n\t      if (!this._gridClusters) {\n\t        this._generateInitialClusters();\n\t      }\n\t\n\t      this._maxLat = map.options.crs.projection.MAX_LATITUDE;\n\t\n\t      for (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t        layer = this._needsRemoving[i];\n\t        this._removeLayer(layer, true);\n\t      }\n\t      this._needsRemoving = [];\n\t\n\t      this._zoom = this._map.getZoom();\n\t      this._currentShownBounds = this._getExpandedVisibleBounds();\n\t\n\t      this._map.on('zoomend', this._zoomEnd, this);\n\t      this._map.on('moveend', this._moveEnd, this);\n\t\n\t      if (this._spiderfierOnAdd) {\n\t        this._spiderfierOnAdd();\n\t      }\n\t\n\t      this._bindEvents();\n\t\n\t      l = this._needsClustering;\n\t      this._needsClustering = [];\n\t      this.addLayers(l);\n\t    },\n\t\n\t    onRemove: function onRemove(map) {\n\t      map.off('zoomend', this._zoomEnd, this);\n\t      map.off('moveend', this._moveEnd, this);\n\t\n\t      this._unbindEvents();\n\t\n\t      this._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\t\n\t      if (this._spiderfierOnRemove) {\n\t        this._spiderfierOnRemove();\n\t      }\n\t\n\t      delete this._maxLat;\n\t\n\t      this._hideCoverage();\n\t      this._featureGroup.remove();\n\t      this._nonPointGroup.remove();\n\t\n\t      this._featureGroup.clearLayers();\n\t\n\t      this._map = null;\n\t    },\n\t\n\t    getVisibleParent: function getVisibleParent(marker) {\n\t      var vMarker = marker;\n\t      while (vMarker && !vMarker._icon) {\n\t        vMarker = vMarker.__parent;\n\t      }\n\t      return vMarker || null;\n\t    },\n\t\n\t    _arraySplice: function _arraySplice(anArray, obj) {\n\t      for (var i = anArray.length - 1; i >= 0; i--) {\n\t        if (anArray[i] === obj) {\n\t          anArray.splice(i, 1);\n\t          return true;\n\t        }\n\t      }\n\t    },\n\t\n\t    _removeFromGridUnclustered: function _removeFromGridUnclustered(marker, z) {\n\t      var map = this._map,\n\t          gridUnclustered = this._gridUnclustered;\n\t\n\t      for (; z >= 0; z--) {\n\t        if (!gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z))) {\n\t          break;\n\t        }\n\t      }\n\t    },\n\t\n\t    _childMarkerMoved: function _childMarkerMoved(e) {\n\t      if (!this._ignoreMove) {\n\t        e.target._latlng = e.oldLatLng;\n\t        this.removeLayer(e.target);\n\t\n\t        e.target._latlng = e.latlng;\n\t        this.addLayer(e.target);\n\t      }\n\t    },\n\t\n\t    _removeLayer: function _removeLayer(marker, removeFromDistanceGrid, dontUpdateMap) {\n\t      var gridClusters = this._gridClusters,\n\t          gridUnclustered = this._gridUnclustered,\n\t          fg = this._featureGroup,\n\t          map = this._map;\n\t\n\t      if (removeFromDistanceGrid) {\n\t        this._removeFromGridUnclustered(marker, this._maxZoom);\n\t      }\n\t\n\t      var cluster = marker.__parent,\n\t          markers = cluster._markers,\n\t          otherMarker;\n\t\n\t      this._arraySplice(markers, marker);\n\t\n\t      while (cluster) {\n\t        cluster._childCount--;\n\t        cluster._boundsNeedUpdate = true;\n\t\n\t        if (cluster._zoom < 0) {\n\t          break;\n\t        } else if (removeFromDistanceGrid && cluster._childCount <= 1) {\n\t          otherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0];\n\t\n\t          gridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom));\n\t          gridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom));\n\t\n\t          this._arraySplice(cluster.__parent._childClusters, cluster);\n\t          cluster.__parent._markers.push(otherMarker);\n\t          otherMarker.__parent = cluster.__parent;\n\t\n\t          if (cluster._icon) {\n\t            fg.removeLayer(cluster);\n\t            if (!dontUpdateMap) {\n\t              fg.addLayer(otherMarker);\n\t            }\n\t          }\n\t        } else {\n\t          if (!dontUpdateMap || !cluster._icon) {\n\t            cluster._updateIcon();\n\t          }\n\t        }\n\t\n\t        cluster = cluster.__parent;\n\t      }\n\t\n\t      delete marker.__parent;\n\t    },\n\t\n\t    _isOrIsParent: function _isOrIsParent(el, oel) {\n\t      while (oel) {\n\t        if (el === oel) {\n\t          return true;\n\t        }\n\t        oel = oel.parentNode;\n\t      }\n\t      return false;\n\t    },\n\t\n\t    fire: function fire(type, data, propagate) {\n\t      if (data && data.layer instanceof L.MarkerCluster) {\n\t        if (data.originalEvent && this._isOrIsParent(data.layer._icon, data.originalEvent.relatedTarget)) {\n\t          return;\n\t        }\n\t        type = 'cluster' + type;\n\t      }\n\t\n\t      L.FeatureGroup.prototype.fire.call(this, type, data, propagate);\n\t    },\n\t\n\t    listens: function listens(type, propagate) {\n\t      return L.FeatureGroup.prototype.listens.call(this, type, propagate) || L.FeatureGroup.prototype.listens.call(this, 'cluster' + type, propagate);\n\t    },\n\t\n\t    _defaultIconCreateFunction: function _defaultIconCreateFunction(cluster) {\n\t      var childCount = cluster.getChildCount();\n\t\n\t      var c = ' marker-cluster-';\n\t      if (childCount < 10) {\n\t        c += 'small';\n\t      } else if (childCount < 100) {\n\t        c += 'medium';\n\t      } else {\n\t        c += 'large';\n\t      }\n\t\n\t      return new L.DivIcon({\n\t        html: '<div><span>' + childCount + '</span></div>',\n\t        className: 'marker-cluster' + c,\n\t        iconSize: new L.Point(40, 40)\n\t      });\n\t    },\n\t\n\t    _bindEvents: function _bindEvents() {\n\t      var map = this._map,\n\t          spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t          showCoverageOnHover = this.options.showCoverageOnHover,\n\t          zoomToBoundsOnClick = this.options.zoomToBoundsOnClick;\n\t\n\t      if (spiderfyOnMaxZoom || zoomToBoundsOnClick) {\n\t        this.on('clusterclick', this._zoomOrSpiderfy, this);\n\t      }\n\t\n\t      if (showCoverageOnHover) {\n\t        this.on('clustermouseover', this._showCoverage, this);\n\t        this.on('clustermouseout', this._hideCoverage, this);\n\t        map.on('zoomend', this._hideCoverage, this);\n\t      }\n\t    },\n\t\n\t    _zoomOrSpiderfy: function _zoomOrSpiderfy(e) {\n\t      var cluster = e.layer,\n\t          bottomCluster = cluster;\n\t\n\t      while (bottomCluster._childClusters.length === 1) {\n\t        bottomCluster = bottomCluster._childClusters[0];\n\t      }\n\t\n\t      if (bottomCluster._zoom === this._maxZoom && bottomCluster._childCount === cluster._childCount && this.options.spiderfyOnMaxZoom) {\n\t        cluster.spiderfy();\n\t      } else if (this.options.zoomToBoundsOnClick) {\n\t        cluster.zoomToBounds();\n\t      }\n\t\n\t      if (e.originalEvent && e.originalEvent.keyCode === 13) {\n\t        this._map._container.focus();\n\t      }\n\t    },\n\t\n\t    _showCoverage: function _showCoverage(e) {\n\t      var map = this._map;\n\t      if (this._inZoomAnimation) {\n\t        return;\n\t      }\n\t      if (this._shownPolygon) {\n\t        map.removeLayer(this._shownPolygon);\n\t      }\n\t      if (e.layer.getChildCount() > 2 && e.layer !== this._spiderfied) {\n\t        this._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions);\n\t        map.addLayer(this._shownPolygon);\n\t      }\n\t    },\n\t\n\t    _hideCoverage: function _hideCoverage() {\n\t      if (this._shownPolygon) {\n\t        this._map.removeLayer(this._shownPolygon);\n\t        this._shownPolygon = null;\n\t      }\n\t    },\n\t\n\t    _unbindEvents: function _unbindEvents() {\n\t      var spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t          showCoverageOnHover = this.options.showCoverageOnHover,\n\t          zoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t          map = this._map;\n\t\n\t      if (spiderfyOnMaxZoom || zoomToBoundsOnClick) {\n\t        this.off('clusterclick', this._zoomOrSpiderfy, this);\n\t      }\n\t      if (showCoverageOnHover) {\n\t        this.off('clustermouseover', this._showCoverage, this);\n\t        this.off('clustermouseout', this._hideCoverage, this);\n\t        map.off('zoomend', this._hideCoverage, this);\n\t      }\n\t    },\n\t\n\t    _zoomEnd: function _zoomEnd() {\n\t      if (!this._map) {\n\t        return;\n\t      }\n\t      this._mergeSplitClusters();\n\t\n\t      this._zoom = Math.round(this._map._zoom);\n\t      this._currentShownBounds = this._getExpandedVisibleBounds();\n\t    },\n\t\n\t    _moveEnd: function _moveEnd() {\n\t      if (this._inZoomAnimation) {\n\t        return;\n\t      }\n\t\n\t      var newBounds = this._getExpandedVisibleBounds();\n\t\n\t      this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, newBounds);\n\t      this._topClusterLevel._recursivelyAddChildrenToMap(null, Math.round(this._map._zoom), newBounds);\n\t\n\t      this._currentShownBounds = newBounds;\n\t      return;\n\t    },\n\t\n\t    _generateInitialClusters: function _generateInitialClusters() {\n\t      var maxZoom = this._map.getMaxZoom(),\n\t          radius = this.options.maxClusterRadius,\n\t          radiusFn = radius;\n\t\n\t      if (typeof radius !== \"function\") {\n\t        radiusFn = function radiusFn() {\n\t          return radius;\n\t        };\n\t      }\n\t\n\t      if (this.options.disableClusteringAtZoom) {\n\t        maxZoom = this.options.disableClusteringAtZoom - 1;\n\t      }\n\t      this._maxZoom = maxZoom;\n\t      this._gridClusters = {};\n\t      this._gridUnclustered = {};\n\t\n\t      for (var zoom = maxZoom; zoom >= 0; zoom--) {\n\t        this._gridClusters[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t        this._gridUnclustered[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t      }\n\t\n\t      this._topClusterLevel = new this._markerCluster(this, -1);\n\t    },\n\t\n\t    _addLayer: function _addLayer(layer, zoom) {\n\t      var gridClusters = this._gridClusters,\n\t          gridUnclustered = this._gridUnclustered,\n\t          markerPoint,\n\t          z;\n\t\n\t      if (this.options.singleMarkerMode) {\n\t        this._overrideMarkerIcon(layer);\n\t      }\n\t\n\t      layer.on('move', this._childMarkerMoved, this);\n\t\n\t      for (; zoom >= 0; zoom--) {\n\t        markerPoint = this._map.project(layer.getLatLng(), zoom);\n\t        var closest = gridClusters[zoom].getNearObject(markerPoint);\n\t        if (closest) {\n\t          closest._addChild(layer);\n\t          layer.__parent = closest;\n\t          return;\n\t        }\n\t\n\t        closest = gridUnclustered[zoom].getNearObject(markerPoint);\n\t        if (closest) {\n\t          var parent = closest.__parent;\n\t          if (parent) {\n\t            this._removeLayer(closest, false);\n\t          }\n\t\n\t          var newCluster = new this._markerCluster(this, zoom, closest, layer);\n\t          gridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom));\n\t          closest.__parent = newCluster;\n\t          layer.__parent = newCluster;\n\t\n\t          var lastParent = newCluster;\n\t          for (z = zoom - 1; z > parent._zoom; z--) {\n\t            lastParent = new this._markerCluster(this, z, lastParent);\n\t            gridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));\n\t          }\n\t          parent._addChild(lastParent);\n\t\n\t          this._removeFromGridUnclustered(closest, zoom);\n\t\n\t          return;\n\t        }\n\t\n\t        gridUnclustered[zoom].addObject(layer, markerPoint);\n\t      }\n\t\n\t      this._topClusterLevel._addChild(layer);\n\t      layer.__parent = this._topClusterLevel;\n\t      return;\n\t    },\n\t\n\t    _enqueue: function _enqueue(fn) {\n\t      this._queue.push(fn);\n\t      if (!this._queueTimeout) {\n\t        this._queueTimeout = setTimeout(L.bind(this._processQueue, this), 300);\n\t      }\n\t    },\n\t    _processQueue: function _processQueue() {\n\t      for (var i = 0; i < this._queue.length; i++) {\n\t        this._queue[i].call(this);\n\t      }\n\t      this._queue.length = 0;\n\t      clearTimeout(this._queueTimeout);\n\t      this._queueTimeout = null;\n\t    },\n\t\n\t    _mergeSplitClusters: function _mergeSplitClusters() {\n\t      var mapZoom = Math.round(this._map._zoom);\n\t\n\t      this._processQueue();\n\t\n\t      if (this._zoom < mapZoom && this._currentShownBounds.intersects(this._getExpandedVisibleBounds())) {\n\t        this._animationStart();\n\t\n\t        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, this._getExpandedVisibleBounds());\n\t\n\t        this._animationZoomIn(this._zoom, mapZoom);\n\t      } else if (this._zoom > mapZoom) {\n\t        this._animationStart();\n\t\n\t        this._animationZoomOut(this._zoom, mapZoom);\n\t      } else {\n\t        this._moveEnd();\n\t      }\n\t    },\n\t\n\t    _getExpandedVisibleBounds: function _getExpandedVisibleBounds() {\n\t      if (!this.options.removeOutsideVisibleBounds) {\n\t        return this._mapBoundsInfinite;\n\t      } else if (L.Browser.mobile) {\n\t        return this._checkBoundsMaxLat(this._map.getBounds());\n\t      }\n\t\n\t      return this._checkBoundsMaxLat(this._map.getBounds().pad(1));\n\t    },\n\t\n\t    _checkBoundsMaxLat: function _checkBoundsMaxLat(bounds) {\n\t      var maxLat = this._maxLat;\n\t\n\t      if (maxLat !== undefined) {\n\t        if (bounds.getNorth() >= maxLat) {\n\t          bounds._northEast.lat = Infinity;\n\t        }\n\t        if (bounds.getSouth() <= -maxLat) {\n\t          bounds._southWest.lat = -Infinity;\n\t        }\n\t      }\n\t\n\t      return bounds;\n\t    },\n\t\n\t    _animationAddLayerNonAnimated: function _animationAddLayerNonAnimated(layer, newCluster) {\n\t      if (newCluster === layer) {\n\t        this._featureGroup.addLayer(layer);\n\t      } else if (newCluster._childCount === 2) {\n\t        newCluster._addToMap();\n\t\n\t        var markers = newCluster.getAllChildMarkers();\n\t        this._featureGroup.removeLayer(markers[0]);\n\t        this._featureGroup.removeLayer(markers[1]);\n\t      } else {\n\t        newCluster._updateIcon();\n\t      }\n\t    },\n\t\n\t    _extractNonGroupLayers: function _extractNonGroupLayers(group, output) {\n\t      var layers = group.getLayers(),\n\t          i = 0,\n\t          layer;\n\t\n\t      output = output || [];\n\t\n\t      for (; i < layers.length; i++) {\n\t        layer = layers[i];\n\t\n\t        if (layer instanceof L.LayerGroup) {\n\t          this._extractNonGroupLayers(layer, output);\n\t          continue;\n\t        }\n\t\n\t        output.push(layer);\n\t      }\n\t\n\t      return output;\n\t    },\n\t\n\t    _overrideMarkerIcon: function _overrideMarkerIcon(layer) {\n\t      var icon = layer.options.icon = this.options.iconCreateFunction({\n\t        getChildCount: function getChildCount() {\n\t          return 1;\n\t        },\n\t        getAllChildMarkers: function getAllChildMarkers() {\n\t          return [layer];\n\t        }\n\t      });\n\t\n\t      return icon;\n\t    }\n\t  });\n\t\n\t  L.MarkerClusterGroup.include({\n\t    _mapBoundsInfinite: new L.LatLngBounds(new L.LatLng(-Infinity, -Infinity), new L.LatLng(Infinity, Infinity))\n\t  });\n\t\n\t  L.MarkerClusterGroup.include({\n\t    _noAnimation: {\n\t      _animationStart: function _animationStart() {},\n\t      _animationZoomIn: function _animationZoomIn(previousZoomLevel, newZoomLevel) {\n\t        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel);\n\t        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\n\t        this.fire('animationend');\n\t      },\n\t      _animationZoomOut: function _animationZoomOut(previousZoomLevel, newZoomLevel) {\n\t        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel);\n\t        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\n\t        this.fire('animationend');\n\t      },\n\t      _animationAddLayer: function _animationAddLayer(layer, newCluster) {\n\t        this._animationAddLayerNonAnimated(layer, newCluster);\n\t      }\n\t    },\n\t\n\t    _withAnimation: {\n\t      _animationStart: function _animationStart() {\n\t        this._map._mapPane.className += ' leaflet-cluster-anim';\n\t        this._inZoomAnimation++;\n\t      },\n\t\n\t      _animationZoomIn: function _animationZoomIn(previousZoomLevel, newZoomLevel) {\n\t        var bounds = this._getExpandedVisibleBounds(),\n\t            fg = this._featureGroup,\n\t            i;\n\t\n\t        this._ignoreMove = true;\n\t\n\t        this._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function (c) {\n\t          var startPos = c._latlng,\n\t              markers = c._markers,\n\t              m;\n\t\n\t          if (!bounds.contains(startPos)) {\n\t            startPos = null;\n\t          }\n\t\n\t          if (c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel) {\n\t            fg.removeLayer(c);\n\t            c._recursivelyAddChildrenToMap(null, newZoomLevel, bounds);\n\t          } else {\n\t            c.clusterHide();\n\t            c._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds);\n\t          }\n\t\n\t          for (i = markers.length - 1; i >= 0; i--) {\n\t            m = markers[i];\n\t            if (!bounds.contains(m._latlng)) {\n\t              fg.removeLayer(m);\n\t            }\n\t          }\n\t        });\n\t\n\t        this._forceLayout();\n\t\n\t        this._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel);\n\t\n\t        fg.eachLayer(function (n) {\n\t          if (!(n instanceof L.MarkerCluster) && n._icon) {\n\t            n.clusterShow();\n\t          }\n\t        });\n\t\n\t        this._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function (c) {\n\t          c._recursivelyRestoreChildPositions(newZoomLevel);\n\t        });\n\t\n\t        this._ignoreMove = false;\n\t\n\t        this._enqueue(function () {\n\t          this._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function (c) {\n\t            fg.removeLayer(c);\n\t            c.clusterShow();\n\t          });\n\t\n\t          this._animationEnd();\n\t        });\n\t      },\n\t\n\t      _animationZoomOut: function _animationZoomOut(previousZoomLevel, newZoomLevel) {\n\t        this._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel);\n\t\n\t        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\n\t        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel, this._getExpandedVisibleBounds());\n\t      },\n\t\n\t      _animationAddLayer: function _animationAddLayer(layer, newCluster) {\n\t        var me = this,\n\t            fg = this._featureGroup;\n\t\n\t        fg.addLayer(layer);\n\t        if (newCluster !== layer) {\n\t          if (newCluster._childCount > 2) {\n\t\n\t            newCluster._updateIcon();\n\t            this._forceLayout();\n\t            this._animationStart();\n\t\n\t            layer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng()));\n\t            layer.clusterHide();\n\t\n\t            this._enqueue(function () {\n\t              fg.removeLayer(layer);\n\t              layer.clusterShow();\n\t\n\t              me._animationEnd();\n\t            });\n\t          } else {\n\t            this._forceLayout();\n\t\n\t            me._animationStart();\n\t            me._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._map.getZoom());\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    _animationZoomOutSingle: function _animationZoomOutSingle(cluster, previousZoomLevel, newZoomLevel) {\n\t      var bounds = this._getExpandedVisibleBounds();\n\t\n\t      cluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, previousZoomLevel + 1, newZoomLevel);\n\t\n\t      var me = this;\n\t\n\t      this._forceLayout();\n\t      cluster._recursivelyBecomeVisible(bounds, newZoomLevel);\n\t\n\t      this._enqueue(function () {\n\t        if (cluster._childCount === 1) {\n\t          var m = cluster._markers[0];\n\t\n\t          this._ignoreMove = true;\n\t          m.setLatLng(m.getLatLng());\n\t          this._ignoreMove = false;\n\t          if (m.clusterShow) {\n\t            m.clusterShow();\n\t          }\n\t        } else {\n\t          cluster._recursively(bounds, newZoomLevel, 0, function (c) {\n\t            c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel + 1);\n\t          });\n\t        }\n\t        me._animationEnd();\n\t      });\n\t    },\n\t\n\t    _animationEnd: function _animationEnd() {\n\t      if (this._map) {\n\t        this._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\t      }\n\t      this._inZoomAnimation--;\n\t      this.fire('animationend');\n\t    },\n\t\n\t    _forceLayout: function _forceLayout() {\n\t\n\t      L.Util.falseFn(document.body.offsetWidth);\n\t    }\n\t  });\n\t\n\t  L.markerClusterGroup = function (options) {\n\t    return new L.MarkerClusterGroup(options);\n\t  };\n\t\n\t  L.MarkerCluster = L.Marker.extend({\n\t    initialize: function initialize(group, zoom, a, b) {\n\t\n\t      L.Marker.prototype.initialize.call(this, a ? a._cLatLng || a.getLatLng() : new L.LatLng(0, 0), { icon: this });\n\t\n\t      this._group = group;\n\t      this._zoom = zoom;\n\t\n\t      this._markers = [];\n\t      this._childClusters = [];\n\t      this._childCount = 0;\n\t      this._iconNeedsUpdate = true;\n\t      this._boundsNeedUpdate = true;\n\t\n\t      this._bounds = new L.LatLngBounds();\n\t\n\t      if (a) {\n\t        this._addChild(a);\n\t      }\n\t      if (b) {\n\t        this._addChild(b);\n\t      }\n\t    },\n\t\n\t    getAllChildMarkers: function getAllChildMarkers(storageArray) {\n\t      storageArray = storageArray || [];\n\t\n\t      for (var i = this._childClusters.length - 1; i >= 0; i--) {\n\t        this._childClusters[i].getAllChildMarkers(storageArray);\n\t      }\n\t\n\t      for (var j = this._markers.length - 1; j >= 0; j--) {\n\t        storageArray.push(this._markers[j]);\n\t      }\n\t\n\t      return storageArray;\n\t    },\n\t\n\t    getChildCount: function getChildCount() {\n\t      return this._childCount;\n\t    },\n\t\n\t    zoomToBounds: function zoomToBounds() {\n\t      var childClusters = this._childClusters.slice(),\n\t          map = this._group._map,\n\t          boundsZoom = map.getBoundsZoom(this._bounds),\n\t          zoom = this._zoom + 1,\n\t          mapZoom = map.getZoom(),\n\t          i;\n\t\n\t      while (childClusters.length > 0 && boundsZoom > zoom) {\n\t        zoom++;\n\t        var newClusters = [];\n\t        for (i = 0; i < childClusters.length; i++) {\n\t          newClusters = newClusters.concat(childClusters[i]._childClusters);\n\t        }\n\t        childClusters = newClusters;\n\t      }\n\t\n\t      if (boundsZoom > zoom) {\n\t        this._group._map.setView(this._latlng, zoom);\n\t      } else if (boundsZoom <= mapZoom) {\n\t        this._group._map.setView(this._latlng, mapZoom + 1);\n\t      } else {\n\t        this._group._map.fitBounds(this._bounds);\n\t      }\n\t    },\n\t\n\t    getBounds: function getBounds() {\n\t      var bounds = new L.LatLngBounds();\n\t      bounds.extend(this._bounds);\n\t      return bounds;\n\t    },\n\t\n\t    _updateIcon: function _updateIcon() {\n\t      this._iconNeedsUpdate = true;\n\t      if (this._icon) {\n\t        this.setIcon(this);\n\t      }\n\t    },\n\t\n\t    createIcon: function createIcon() {\n\t      if (this._iconNeedsUpdate) {\n\t        this._iconObj = this._group.options.iconCreateFunction(this);\n\t        this._iconNeedsUpdate = false;\n\t      }\n\t      return this._iconObj.createIcon();\n\t    },\n\t    createShadow: function createShadow() {\n\t      return this._iconObj.createShadow();\n\t    },\n\t\n\t    _addChild: function _addChild(new1, isNotificationFromChild) {\n\t\n\t      this._iconNeedsUpdate = true;\n\t\n\t      this._boundsNeedUpdate = true;\n\t      this._setClusterCenter(new1);\n\t\n\t      if (new1 instanceof L.MarkerCluster) {\n\t        if (!isNotificationFromChild) {\n\t          this._childClusters.push(new1);\n\t          new1.__parent = this;\n\t        }\n\t        this._childCount += new1._childCount;\n\t      } else {\n\t        if (!isNotificationFromChild) {\n\t          this._markers.push(new1);\n\t        }\n\t        this._childCount++;\n\t      }\n\t\n\t      if (this.__parent) {\n\t        this.__parent._addChild(new1, true);\n\t      }\n\t    },\n\t\n\t    _setClusterCenter: function _setClusterCenter(child) {\n\t      if (!this._cLatLng) {\n\t        this._cLatLng = child._cLatLng || child._latlng;\n\t      }\n\t    },\n\t\n\t    _resetBounds: function _resetBounds() {\n\t      var bounds = this._bounds;\n\t\n\t      if (bounds._southWest) {\n\t        bounds._southWest.lat = Infinity;\n\t        bounds._southWest.lng = Infinity;\n\t      }\n\t      if (bounds._northEast) {\n\t        bounds._northEast.lat = -Infinity;\n\t        bounds._northEast.lng = -Infinity;\n\t      }\n\t    },\n\t\n\t    _recalculateBounds: function _recalculateBounds() {\n\t      var markers = this._markers,\n\t          childClusters = this._childClusters,\n\t          latSum = 0,\n\t          lngSum = 0,\n\t          totalCount = this._childCount,\n\t          i,\n\t          child,\n\t          childLatLng,\n\t          childCount;\n\t\n\t      if (totalCount === 0) {\n\t        return;\n\t      }\n\t\n\t      this._resetBounds();\n\t\n\t      for (i = 0; i < markers.length; i++) {\n\t        childLatLng = markers[i]._latlng;\n\t\n\t        this._bounds.extend(childLatLng);\n\t\n\t        latSum += childLatLng.lat;\n\t        lngSum += childLatLng.lng;\n\t      }\n\t\n\t      for (i = 0; i < childClusters.length; i++) {\n\t        child = childClusters[i];\n\t\n\t        if (child._boundsNeedUpdate) {\n\t          child._recalculateBounds();\n\t        }\n\t\n\t        this._bounds.extend(child._bounds);\n\t\n\t        childLatLng = child._wLatLng;\n\t        childCount = child._childCount;\n\t\n\t        latSum += childLatLng.lat * childCount;\n\t        lngSum += childLatLng.lng * childCount;\n\t      }\n\t\n\t      this._latlng = this._wLatLng = new L.LatLng(latSum / totalCount, lngSum / totalCount);\n\t\n\t      this._boundsNeedUpdate = false;\n\t    },\n\t\n\t    _addToMap: function _addToMap(startPos) {\n\t      if (startPos) {\n\t        this._backupLatlng = this._latlng;\n\t        this.setLatLng(startPos);\n\t      }\n\t      this._group._featureGroup.addLayer(this);\n\t    },\n\t\n\t    _recursivelyAnimateChildrenIn: function _recursivelyAnimateChildrenIn(bounds, center, maxZoom) {\n\t      this._recursively(bounds, 0, maxZoom - 1, function (c) {\n\t        var markers = c._markers,\n\t            i,\n\t            m;\n\t        for (i = markers.length - 1; i >= 0; i--) {\n\t          m = markers[i];\n\t\n\t          if (m._icon) {\n\t            m._setPos(center);\n\t            m.clusterHide();\n\t          }\n\t        }\n\t      }, function (c) {\n\t        var childClusters = c._childClusters,\n\t            j,\n\t            cm;\n\t        for (j = childClusters.length - 1; j >= 0; j--) {\n\t          cm = childClusters[j];\n\t          if (cm._icon) {\n\t            cm._setPos(center);\n\t            cm.clusterHide();\n\t          }\n\t        }\n\t      });\n\t    },\n\t\n\t    _recursivelyAnimateChildrenInAndAddSelfToMap: function _recursivelyAnimateChildrenInAndAddSelfToMap(bounds, previousZoomLevel, newZoomLevel) {\n\t      this._recursively(bounds, newZoomLevel, 0, function (c) {\n\t        c._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel);\n\t\n\t        if (c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel) {\n\t          c.clusterShow();\n\t          c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel);\n\t        } else {\n\t          c.clusterHide();\n\t        }\n\t\n\t        c._addToMap();\n\t      });\n\t    },\n\t\n\t    _recursivelyBecomeVisible: function _recursivelyBecomeVisible(bounds, zoomLevel) {\n\t      this._recursively(bounds, 0, zoomLevel, null, function (c) {\n\t        c.clusterShow();\n\t      });\n\t    },\n\t\n\t    _recursivelyAddChildrenToMap: function _recursivelyAddChildrenToMap(startPos, zoomLevel, bounds) {\n\t      this._recursively(bounds, -1, zoomLevel, function (c) {\n\t        if (zoomLevel === c._zoom) {\n\t          return;\n\t        }\n\t\n\t        for (var i = c._markers.length - 1; i >= 0; i--) {\n\t          var nm = c._markers[i];\n\t\n\t          if (!bounds.contains(nm._latlng)) {\n\t            continue;\n\t          }\n\t\n\t          if (startPos) {\n\t            nm._backupLatlng = nm.getLatLng();\n\t\n\t            nm.setLatLng(startPos);\n\t            if (nm.clusterHide) {\n\t              nm.clusterHide();\n\t            }\n\t          }\n\t\n\t          c._group._featureGroup.addLayer(nm);\n\t        }\n\t      }, function (c) {\n\t        c._addToMap(startPos);\n\t      });\n\t    },\n\t\n\t    _recursivelyRestoreChildPositions: function _recursivelyRestoreChildPositions(zoomLevel) {\n\t      for (var i = this._markers.length - 1; i >= 0; i--) {\n\t        var nm = this._markers[i];\n\t        if (nm._backupLatlng) {\n\t          nm.setLatLng(nm._backupLatlng);\n\t          delete nm._backupLatlng;\n\t        }\n\t      }\n\t\n\t      if (zoomLevel - 1 === this._zoom) {\n\t        for (var j = this._childClusters.length - 1; j >= 0; j--) {\n\t          this._childClusters[j]._restorePosition();\n\t        }\n\t      } else {\n\t        for (var k = this._childClusters.length - 1; k >= 0; k--) {\n\t          this._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);\n\t        }\n\t      }\n\t    },\n\t\n\t    _restorePosition: function _restorePosition() {\n\t      if (this._backupLatlng) {\n\t        this.setLatLng(this._backupLatlng);\n\t        delete this._backupLatlng;\n\t      }\n\t    },\n\t\n\t    _recursivelyRemoveChildrenFromMap: function _recursivelyRemoveChildrenFromMap(previousBounds, zoomLevel, exceptBounds) {\n\t      var m, i;\n\t      this._recursively(previousBounds, -1, zoomLevel - 1, function (c) {\n\t        for (i = c._markers.length - 1; i >= 0; i--) {\n\t          m = c._markers[i];\n\t          if (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t            c._group._featureGroup.removeLayer(m);\n\t            if (m.clusterShow) {\n\t              m.clusterShow();\n\t            }\n\t          }\n\t        }\n\t      }, function (c) {\n\t        for (i = c._childClusters.length - 1; i >= 0; i--) {\n\t          m = c._childClusters[i];\n\t          if (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t            c._group._featureGroup.removeLayer(m);\n\t            if (m.clusterShow) {\n\t              m.clusterShow();\n\t            }\n\t          }\n\t        }\n\t      });\n\t    },\n\t\n\t    _recursively: function _recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {\n\t      var childClusters = this._childClusters,\n\t          zoom = this._zoom,\n\t          i,\n\t          c;\n\t\n\t      if (zoomLevelToStart > zoom) {\n\t        for (i = childClusters.length - 1; i >= 0; i--) {\n\t          c = childClusters[i];\n\t          if (boundsToApplyTo.intersects(c._bounds)) {\n\t            c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\n\t          }\n\t        }\n\t      } else {\n\t\n\t        if (runAtEveryLevel) {\n\t          runAtEveryLevel(this);\n\t        }\n\t        if (runAtBottomLevel && this._zoom === zoomLevelToStop) {\n\t          runAtBottomLevel(this);\n\t        }\n\t\n\t        if (zoomLevelToStop > zoom) {\n\t          for (i = childClusters.length - 1; i >= 0; i--) {\n\t            c = childClusters[i];\n\t            if (boundsToApplyTo.intersects(c._bounds)) {\n\t              c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\n\t            }\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    _isSingleParent: function _isSingleParent() {\n\t      return this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;\n\t    }\n\t  });\n\t\n\t  L.Marker.include({\n\t\n\t    clusterHide: function clusterHide() {\n\t      this.options.opacityWhenUnclustered = this.options.opacity || 1;\n\t      return this.setOpacity(0);\n\t    },\n\t\n\t    clusterShow: function clusterShow() {\n\t      var ret = this.setOpacity(this.options.opacity || this.options.opacityWhenUnclustered);\n\t      delete this.options.opacityWhenUnclustered;\n\t      return ret;\n\t    }\n\t\n\t  });\n\t\n\t  L.DistanceGrid = function (cellSize) {\n\t    this._cellSize = cellSize;\n\t    this._sqCellSize = cellSize * cellSize;\n\t    this._grid = {};\n\t    this._objectPoint = {};\n\t  };\n\t\n\t  L.DistanceGrid.prototype = {\n\t\n\t    addObject: function addObject(obj, point) {\n\t      var x = this._getCoord(point.x),\n\t          y = this._getCoord(point.y),\n\t          grid = this._grid,\n\t          row = grid[y] = grid[y] || {},\n\t          cell = row[x] = row[x] || [],\n\t          stamp = L.Util.stamp(obj);\n\t\n\t      this._objectPoint[stamp] = point;\n\t\n\t      cell.push(obj);\n\t    },\n\t\n\t    updateObject: function updateObject(obj, point) {\n\t      this.removeObject(obj);\n\t      this.addObject(obj, point);\n\t    },\n\t\n\t    removeObject: function removeObject(obj, point) {\n\t      var x = this._getCoord(point.x),\n\t          y = this._getCoord(point.y),\n\t          grid = this._grid,\n\t          row = grid[y] = grid[y] || {},\n\t          cell = row[x] = row[x] || [],\n\t          i,\n\t          len;\n\t\n\t      delete this._objectPoint[L.Util.stamp(obj)];\n\t\n\t      for (i = 0, len = cell.length; i < len; i++) {\n\t        if (cell[i] === obj) {\n\t\n\t          cell.splice(i, 1);\n\t\n\t          if (len === 1) {\n\t            delete row[x];\n\t          }\n\t\n\t          return true;\n\t        }\n\t      }\n\t    },\n\t\n\t    eachObject: function eachObject(fn, context) {\n\t      var i,\n\t          j,\n\t          k,\n\t          len,\n\t          row,\n\t          cell,\n\t          removed,\n\t          grid = this._grid;\n\t\n\t      for (i in grid) {\n\t        row = grid[i];\n\t\n\t        for (j in row) {\n\t          cell = row[j];\n\t\n\t          for (k = 0, len = cell.length; k < len; k++) {\n\t            removed = fn.call(context, cell[k]);\n\t            if (removed) {\n\t              k--;\n\t              len--;\n\t            }\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    getNearObject: function getNearObject(point) {\n\t      var x = this._getCoord(point.x),\n\t          y = this._getCoord(point.y),\n\t          i,\n\t          j,\n\t          k,\n\t          row,\n\t          cell,\n\t          len,\n\t          obj,\n\t          dist,\n\t          objectPoint = this._objectPoint,\n\t          closestDistSq = this._sqCellSize,\n\t          closest = null;\n\t\n\t      for (i = y - 1; i <= y + 1; i++) {\n\t        row = this._grid[i];\n\t        if (row) {\n\t\n\t          for (j = x - 1; j <= x + 1; j++) {\n\t            cell = row[j];\n\t            if (cell) {\n\t\n\t              for (k = 0, len = cell.length; k < len; k++) {\n\t                obj = cell[k];\n\t                dist = this._sqDist(objectPoint[L.Util.stamp(obj)], point);\n\t                if (dist < closestDistSq) {\n\t                  closestDistSq = dist;\n\t                  closest = obj;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t      return closest;\n\t    },\n\t\n\t    _getCoord: function _getCoord(x) {\n\t      return Math.floor(x / this._cellSize);\n\t    },\n\t\n\t    _sqDist: function _sqDist(p, p2) {\n\t      var dx = p2.x - p.x,\n\t          dy = p2.y - p.y;\n\t      return dx * dx + dy * dy;\n\t    }\n\t  };\n\t\n\t  (function () {\n\t    L.QuickHull = {\n\t      getDistant: function getDistant(cpt, bl) {\n\t        var vY = bl[1].lat - bl[0].lat,\n\t            vX = bl[0].lng - bl[1].lng;\n\t        return vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng);\n\t      },\n\t\n\t      findMostDistantPointFromBaseLine: function findMostDistantPointFromBaseLine(baseLine, latLngs) {\n\t        var maxD = 0,\n\t            maxPt = null,\n\t            newPoints = [],\n\t            i,\n\t            pt,\n\t            d;\n\t\n\t        for (i = latLngs.length - 1; i >= 0; i--) {\n\t          pt = latLngs[i];\n\t          d = this.getDistant(pt, baseLine);\n\t\n\t          if (d > 0) {\n\t            newPoints.push(pt);\n\t          } else {\n\t            continue;\n\t          }\n\t\n\t          if (d > maxD) {\n\t            maxD = d;\n\t            maxPt = pt;\n\t          }\n\t        }\n\t\n\t        return { maxPoint: maxPt, newPoints: newPoints };\n\t      },\n\t\n\t      buildConvexHull: function buildConvexHull(baseLine, latLngs) {\n\t        var convexHullBaseLines = [],\n\t            t = this.findMostDistantPointFromBaseLine(baseLine, latLngs);\n\t\n\t        if (t.maxPoint) {\n\t          convexHullBaseLines = convexHullBaseLines.concat(this.buildConvexHull([baseLine[0], t.maxPoint], t.newPoints));\n\t          convexHullBaseLines = convexHullBaseLines.concat(this.buildConvexHull([t.maxPoint, baseLine[1]], t.newPoints));\n\t          return convexHullBaseLines;\n\t        } else {\n\t          return [baseLine[0]];\n\t        }\n\t      },\n\t\n\t      getConvexHull: function getConvexHull(latLngs) {\n\t        var maxLat = false,\n\t            minLat = false,\n\t            maxLng = false,\n\t            minLng = false,\n\t            maxLatPt = null,\n\t            minLatPt = null,\n\t            maxLngPt = null,\n\t            minLngPt = null,\n\t            maxPt = null,\n\t            minPt = null,\n\t            i;\n\t\n\t        for (i = latLngs.length - 1; i >= 0; i--) {\n\t          var pt = latLngs[i];\n\t          if (maxLat === false || pt.lat > maxLat) {\n\t            maxLatPt = pt;\n\t            maxLat = pt.lat;\n\t          }\n\t          if (minLat === false || pt.lat < minLat) {\n\t            minLatPt = pt;\n\t            minLat = pt.lat;\n\t          }\n\t          if (maxLng === false || pt.lng > maxLng) {\n\t            maxLngPt = pt;\n\t            maxLng = pt.lng;\n\t          }\n\t          if (minLng === false || pt.lng < minLng) {\n\t            minLngPt = pt;\n\t            minLng = pt.lng;\n\t          }\n\t        }\n\t\n\t        if (minLat !== maxLat) {\n\t          minPt = minLatPt;\n\t          maxPt = maxLatPt;\n\t        } else {\n\t          minPt = minLngPt;\n\t          maxPt = maxLngPt;\n\t        }\n\t\n\t        var ch = [].concat(this.buildConvexHull([minPt, maxPt], latLngs), this.buildConvexHull([maxPt, minPt], latLngs));\n\t        return ch;\n\t      }\n\t    };\n\t  })();\n\t\n\t  L.MarkerCluster.include({\n\t    getConvexHull: function getConvexHull() {\n\t      var childMarkers = this.getAllChildMarkers(),\n\t          points = [],\n\t          p,\n\t          i;\n\t\n\t      for (i = childMarkers.length - 1; i >= 0; i--) {\n\t        p = childMarkers[i].getLatLng();\n\t        points.push(p);\n\t      }\n\t\n\t      return L.QuickHull.getConvexHull(points);\n\t    }\n\t  });\n\t\n\t  L.MarkerCluster.include({\n\t\n\t    _2PI: Math.PI * 2,\n\t    _circleFootSeparation: 25,\n\t    _circleStartAngle: Math.PI / 6,\n\t\n\t    _spiralFootSeparation: 28,\n\t    _spiralLengthStart: 11,\n\t    _spiralLengthFactor: 5,\n\t\n\t    _circleSpiralSwitchover: 9,\n\t\n\t    spiderfy: function spiderfy() {\n\t      if (this._group._spiderfied === this || this._group._inZoomAnimation) {\n\t        return;\n\t      }\n\t\n\t      var childMarkers = this.getAllChildMarkers(),\n\t          group = this._group,\n\t          map = group._map,\n\t          center = map.latLngToLayerPoint(this._latlng),\n\t          positions;\n\t\n\t      this._group._unspiderfy();\n\t      this._group._spiderfied = this;\n\t\n\t      if (childMarkers.length >= this._circleSpiralSwitchover) {\n\t        positions = this._generatePointsSpiral(childMarkers.length, center);\n\t      } else {\n\t        center.y += 10;\n\t        positions = this._generatePointsCircle(childMarkers.length, center);\n\t      }\n\t\n\t      this._animationSpiderfy(childMarkers, positions);\n\t    },\n\t\n\t    unspiderfy: function unspiderfy(zoomDetails) {\n\t      if (this._group._inZoomAnimation) {\n\t        return;\n\t      }\n\t      this._animationUnspiderfy(zoomDetails);\n\t\n\t      this._group._spiderfied = null;\n\t    },\n\t\n\t    _generatePointsCircle: function _generatePointsCircle(count, centerPt) {\n\t      var circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count),\n\t          legLength = circumference / this._2PI,\n\t          angleStep = this._2PI / count,\n\t          res = [],\n\t          i,\n\t          angle;\n\t\n\t      res.length = count;\n\t\n\t      for (i = count - 1; i >= 0; i--) {\n\t        angle = this._circleStartAngle + i * angleStep;\n\t        res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t      }\n\t\n\t      return res;\n\t    },\n\t\n\t    _generatePointsSpiral: function _generatePointsSpiral(count, centerPt) {\n\t      var spiderfyDistanceMultiplier = this._group.options.spiderfyDistanceMultiplier,\n\t          legLength = spiderfyDistanceMultiplier * this._spiralLengthStart,\n\t          separation = spiderfyDistanceMultiplier * this._spiralFootSeparation,\n\t          lengthFactor = spiderfyDistanceMultiplier * this._spiralLengthFactor * this._2PI,\n\t          angle = 0,\n\t          res = [],\n\t          i;\n\t\n\t      res.length = count;\n\t\n\t      for (i = count - 1; i >= 0; i--) {\n\t        angle += separation / legLength + i * 0.0005;\n\t        res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t        legLength += lengthFactor / angle;\n\t      }\n\t      return res;\n\t    },\n\t\n\t    _noanimationUnspiderfy: function _noanimationUnspiderfy() {\n\t      var group = this._group,\n\t          map = group._map,\n\t          fg = group._featureGroup,\n\t          childMarkers = this.getAllChildMarkers(),\n\t          m,\n\t          i;\n\t\n\t      group._ignoreMove = true;\n\t\n\t      this.setOpacity(1);\n\t      for (i = childMarkers.length - 1; i >= 0; i--) {\n\t        m = childMarkers[i];\n\t\n\t        fg.removeLayer(m);\n\t\n\t        if (m._preSpiderfyLatlng) {\n\t          m.setLatLng(m._preSpiderfyLatlng);\n\t          delete m._preSpiderfyLatlng;\n\t        }\n\t        if (m.setZIndexOffset) {\n\t          m.setZIndexOffset(0);\n\t        }\n\t\n\t        if (m._spiderLeg) {\n\t          map.removeLayer(m._spiderLeg);\n\t          delete m._spiderLeg;\n\t        }\n\t      }\n\t\n\t      group.fire('unspiderfied', {\n\t        cluster: this,\n\t        markers: childMarkers\n\t      });\n\t      group._ignoreMove = false;\n\t      group._spiderfied = null;\n\t    }\n\t  });\n\t\n\t  L.MarkerClusterNonAnimated = L.MarkerCluster.extend({\n\t    _animationSpiderfy: function _animationSpiderfy(childMarkers, positions) {\n\t      var group = this._group,\n\t          map = group._map,\n\t          fg = group._featureGroup,\n\t          legOptions = this._group.options.spiderLegPolylineOptions,\n\t          i,\n\t          m,\n\t          leg,\n\t          newPos;\n\t\n\t      group._ignoreMove = true;\n\t\n\t      for (i = 0; i < childMarkers.length; i++) {\n\t        newPos = map.layerPointToLatLng(positions[i]);\n\t        m = childMarkers[i];\n\t\n\t        leg = new L.Polyline([this._latlng, newPos], legOptions);\n\t        map.addLayer(leg);\n\t        m._spiderLeg = leg;\n\t\n\t        m._preSpiderfyLatlng = m._latlng;\n\t        m.setLatLng(newPos);\n\t        if (m.setZIndexOffset) {\n\t          m.setZIndexOffset(1000000);\n\t        }\n\t\n\t        fg.addLayer(m);\n\t      }\n\t      this.setOpacity(0.3);\n\t\n\t      group._ignoreMove = false;\n\t      group.fire('spiderfied', {\n\t        cluster: this,\n\t        markers: childMarkers\n\t      });\n\t    },\n\t\n\t    _animationUnspiderfy: function _animationUnspiderfy() {\n\t      this._noanimationUnspiderfy();\n\t    }\n\t  });\n\t\n\t  L.MarkerCluster.include({\n\t\n\t    _animationSpiderfy: function _animationSpiderfy(childMarkers, positions) {\n\t      var me = this,\n\t          group = this._group,\n\t          map = group._map,\n\t          fg = group._featureGroup,\n\t          thisLayerLatLng = this._latlng,\n\t          thisLayerPos = map.latLngToLayerPoint(thisLayerLatLng),\n\t          svg = L.Path.SVG,\n\t          legOptions = L.extend({}, this._group.options.spiderLegPolylineOptions),\n\t          finalLegOpacity = legOptions.opacity,\n\t          i,\n\t          m,\n\t          leg,\n\t          legPath,\n\t          legLength,\n\t          newPos;\n\t\n\t      if (finalLegOpacity === undefined) {\n\t        finalLegOpacity = L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity;\n\t      }\n\t\n\t      if (svg) {\n\t        legOptions.opacity = 0;\n\t\n\t        legOptions.className = (legOptions.className || '') + ' leaflet-cluster-spider-leg';\n\t      } else {\n\t        legOptions.opacity = finalLegOpacity;\n\t      }\n\t\n\t      group._ignoreMove = true;\n\t\n\t      for (i = 0; i < childMarkers.length; i++) {\n\t        m = childMarkers[i];\n\t\n\t        newPos = map.layerPointToLatLng(positions[i]);\n\t\n\t        leg = new L.Polyline([thisLayerLatLng, newPos], legOptions);\n\t        map.addLayer(leg);\n\t        m._spiderLeg = leg;\n\t\n\t        if (svg) {\n\t          legPath = leg._path;\n\t          legLength = legPath.getTotalLength() + 0.1;\n\t          legPath.style.strokeDasharray = legLength;\n\t          legPath.style.strokeDashoffset = legLength;\n\t        }\n\t\n\t        if (m.setZIndexOffset) {\n\t          m.setZIndexOffset(1000000);\n\t        }\n\t        if (m.clusterHide) {\n\t          m.clusterHide();\n\t        }\n\t\n\t        fg.addLayer(m);\n\t\n\t        if (m._setPos) {\n\t          m._setPos(thisLayerPos);\n\t        }\n\t      }\n\t\n\t      group._forceLayout();\n\t      group._animationStart();\n\t\n\t      for (i = childMarkers.length - 1; i >= 0; i--) {\n\t        newPos = map.layerPointToLatLng(positions[i]);\n\t        m = childMarkers[i];\n\t\n\t        m._preSpiderfyLatlng = m._latlng;\n\t        m.setLatLng(newPos);\n\t\n\t        if (m.clusterShow) {\n\t          m.clusterShow();\n\t        }\n\t\n\t        if (svg) {\n\t          leg = m._spiderLeg;\n\t          legPath = leg._path;\n\t          legPath.style.strokeDashoffset = 0;\n\t\n\t          leg.setStyle({ opacity: finalLegOpacity });\n\t        }\n\t      }\n\t      this.setOpacity(0.3);\n\t\n\t      group._ignoreMove = false;\n\t\n\t      setTimeout(function () {\n\t        group._animationEnd();\n\t        group.fire('spiderfied', {\n\t          cluster: me,\n\t          markers: childMarkers\n\t        });\n\t      }, 200);\n\t    },\n\t\n\t    _animationUnspiderfy: function _animationUnspiderfy(zoomDetails) {\n\t      var me = this,\n\t          group = this._group,\n\t          map = group._map,\n\t          fg = group._featureGroup,\n\t          thisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng),\n\t          childMarkers = this.getAllChildMarkers(),\n\t          svg = L.Path.SVG,\n\t          m,\n\t          i,\n\t          leg,\n\t          legPath,\n\t          legLength,\n\t          nonAnimatable;\n\t\n\t      group._ignoreMove = true;\n\t      group._animationStart();\n\t\n\t      this.setOpacity(1);\n\t      for (i = childMarkers.length - 1; i >= 0; i--) {\n\t        m = childMarkers[i];\n\t\n\t        if (!m._preSpiderfyLatlng) {\n\t          continue;\n\t        }\n\t\n\t        m.setLatLng(m._preSpiderfyLatlng);\n\t        delete m._preSpiderfyLatlng;\n\t\n\t        nonAnimatable = true;\n\t        if (m._setPos) {\n\t          m._setPos(thisLayerPos);\n\t          nonAnimatable = false;\n\t        }\n\t        if (m.clusterHide) {\n\t          m.clusterHide();\n\t          nonAnimatable = false;\n\t        }\n\t        if (nonAnimatable) {\n\t          fg.removeLayer(m);\n\t        }\n\t\n\t        if (svg) {\n\t          leg = m._spiderLeg;\n\t          legPath = leg._path;\n\t          legLength = legPath.getTotalLength() + 0.1;\n\t          legPath.style.strokeDashoffset = legLength;\n\t          leg.setStyle({ opacity: 0 });\n\t        }\n\t      }\n\t\n\t      group._ignoreMove = false;\n\t\n\t      setTimeout(function () {\n\t        var stillThereChildCount = 0;\n\t        for (i = childMarkers.length - 1; i >= 0; i--) {\n\t          m = childMarkers[i];\n\t          if (m._spiderLeg) {\n\t            stillThereChildCount++;\n\t          }\n\t        }\n\t\n\t        for (i = childMarkers.length - 1; i >= 0; i--) {\n\t          m = childMarkers[i];\n\t\n\t          if (!m._spiderLeg) {\n\t            continue;\n\t          }\n\t\n\t          if (m.clusterShow) {\n\t            m.clusterShow();\n\t          }\n\t          if (m.setZIndexOffset) {\n\t            m.setZIndexOffset(0);\n\t          }\n\t\n\t          if (stillThereChildCount > 1) {\n\t            fg.removeLayer(m);\n\t          }\n\t\n\t          map.removeLayer(m._spiderLeg);\n\t          delete m._spiderLeg;\n\t        }\n\t        group._animationEnd();\n\t        group.fire('unspiderfied', {\n\t          cluster: me,\n\t          markers: childMarkers\n\t        });\n\t      }, 200);\n\t    }\n\t  });\n\t\n\t  L.MarkerClusterGroup.include({\n\t    _spiderfied: null,\n\t\n\t    unspiderfy: function unspiderfy() {\n\t      this._unspiderfy.apply(this, arguments);\n\t    },\n\t\n\t    _spiderfierOnAdd: function _spiderfierOnAdd() {\n\t      this._map.on('click', this._unspiderfyWrapper, this);\n\t\n\t      if (this._map.options.zoomAnimation) {\n\t        this._map.on('zoomstart', this._unspiderfyZoomStart, this);\n\t      }\n\t\n\t      this._map.on('zoomend', this._noanimationUnspiderfy, this);\n\t\n\t      if (!L.Browser.touch) {\n\t        this._map.getRenderer(this);\n\t      }\n\t    },\n\t\n\t    _spiderfierOnRemove: function _spiderfierOnRemove() {\n\t      this._map.off('click', this._unspiderfyWrapper, this);\n\t      this._map.off('zoomstart', this._unspiderfyZoomStart, this);\n\t      this._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t      this._map.off('zoomend', this._noanimationUnspiderfy, this);\n\t\n\t      this._noanimationUnspiderfy();\n\t    },\n\t\n\t    _unspiderfyZoomStart: function _unspiderfyZoomStart() {\n\t      if (!this._map) {\n\t        return;\n\t      }\n\t\n\t      this._map.on('zoomanim', this._unspiderfyZoomAnim, this);\n\t    },\n\t\n\t    _unspiderfyZoomAnim: function _unspiderfyZoomAnim(zoomDetails) {\n\t      if (L.DomUtil.hasClass(this._map._mapPane, 'leaflet-touching')) {\n\t        return;\n\t      }\n\t\n\t      this._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t      this._unspiderfy(zoomDetails);\n\t    },\n\t\n\t    _unspiderfyWrapper: function _unspiderfyWrapper() {\n\t      this._unspiderfy();\n\t    },\n\t\n\t    _unspiderfy: function _unspiderfy(zoomDetails) {\n\t      if (this._spiderfied) {\n\t        this._spiderfied.unspiderfy(zoomDetails);\n\t      }\n\t    },\n\t\n\t    _noanimationUnspiderfy: function _noanimationUnspiderfy() {\n\t      if (this._spiderfied) {\n\t        this._spiderfied._noanimationUnspiderfy();\n\t      }\n\t    },\n\t\n\t    _unspiderfyLayer: function _unspiderfyLayer(layer) {\n\t      if (layer._spiderLeg) {\n\t        this._featureGroup.removeLayer(layer);\n\t\n\t        if (layer.clusterShow) {\n\t          layer.clusterShow();\n\t        }\n\t\n\t        if (layer.setZIndexOffset) {\n\t          layer.setZIndexOffset(0);\n\t        }\n\t\n\t        this._map.removeLayer(layer._spiderLeg);\n\t        delete layer._spiderLeg;\n\t      }\n\t    }\n\t  });\n\t\n\t  L.MarkerClusterGroup.include({\n\t    refreshClusters: function refreshClusters(layers) {\n\t      if (!layers) {\n\t        layers = this._topClusterLevel.getAllChildMarkers();\n\t      } else if (layers instanceof L.MarkerClusterGroup) {\n\t        layers = layers._topClusterLevel.getAllChildMarkers();\n\t      } else if (layers instanceof L.LayerGroup) {\n\t        layers = layers._layers;\n\t      } else if (layers instanceof L.MarkerCluster) {\n\t        layers = layers.getAllChildMarkers();\n\t      } else if (layers instanceof L.Marker) {\n\t        layers = [layers];\n\t      }\n\t      this._flagParentsIconsNeedUpdate(layers);\n\t      this._refreshClustersIcons();\n\t\n\t      if (this.options.singleMarkerMode) {\n\t        this._refreshSingleMarkerModeMarkers(layers);\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    _flagParentsIconsNeedUpdate: function _flagParentsIconsNeedUpdate(layers) {\n\t      var id, parent;\n\t\n\t      for (id in layers) {\n\t        parent = layers[id].__parent;\n\t        while (parent) {\n\t          parent._iconNeedsUpdate = true;\n\t          parent = parent.__parent;\n\t        }\n\t      }\n\t    },\n\t\n\t    _refreshClustersIcons: function _refreshClustersIcons() {\n\t      this._featureGroup.eachLayer(function (c) {\n\t        if (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\n\t          c._updateIcon();\n\t        }\n\t      });\n\t    },\n\t\n\t    _refreshSingleMarkerModeMarkers: function _refreshSingleMarkerModeMarkers(layers) {\n\t      var id, layer;\n\t\n\t      for (id in layers) {\n\t        layer = layers[id];\n\t\n\t        if (this.hasLayer(layer)) {\n\t          layer.setIcon(this._overrideMarkerIcon(layer));\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  L.Marker.include({\n\t    refreshIconOptions: function refreshIconOptions(options, directlyRefreshClusters) {\n\t      var icon = this.options.icon;\n\t\n\t      L.setOptions(icon, options);\n\t\n\t      this.setIcon(icon);\n\t\n\t      if (directlyRefreshClusters && this.__parent) {\n\t        this.__parent._group.refreshClusters(this);\n\t      }\n\t\n\t      return this;\n\t    }\n\t  });\n\t})(window, document);\n\n/***/ }),\n/* 220 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tL.NonTiledLayer = L.Layer.extend({\n\t  includes: L.Evented,\n\t  options: {\n\t    attribution: '',\n\t    opacity: 1.0,\n\t    zIndex: undefined,\n\t    minZoom: 0,\n\t    maxZoom: 18,\n\t    pointerEvents: null,\n\t    errorImageUrl: 'data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==',\n\t    bounds: L.latLngBounds([-85.05, -180], [85.05, 180])\n\t  },\n\t  url: '',\n\t\n\t  initialize: function initialize(options) {\n\t    L.setOptions(this, options);\n\t  },\n\t\n\t  onAdd: function onAdd(map) {\n\t    this._map = map;\n\t\n\t    if (!this._div) {\n\t      this._div = L.DomUtil.create('div', 'leaflet-image-layer');\n\t      if (this.options.pointerEvents) {\n\t        this._div.style['pointer-events'] = this.options.pointerEvents;\n\t      }\n\t      if (this.options.zIndex !== undefined) {\n\t        this._div.style.zIndex = this.options.zIndex;\n\t      }\n\t      if (this.options.opacity !== undefined) {\n\t        this._div.style.opacity = this.options.opacity;\n\t      }\n\t    }\n\t\n\t    this.getPane().appendChild(this._div);\n\t\n\t    this._bufferImage = this._initImage();\n\t    this._currentImage = this._initImage();\n\t\n\t    this._update();\n\t  },\n\t\n\t  onRemove: function onRemove(map) {\n\t    this.getPane().removeChild(this._div);\n\t\n\t    this._div.removeChild(this._bufferImage);\n\t    this._div.removeChild(this._currentImage);\n\t  },\n\t\n\t  addTo: function addTo(map) {\n\t    map.addLayer(this);\n\t    return this;\n\t  },\n\t\n\t  getEvents: function getEvents() {\n\t    var events = {\n\t      moveend: this._update,\n\t      zoom: this._viewreset\n\t    };\n\t\n\t    if (this._zoomAnimated) {\n\t      events.zoomanim = this._animateZoom;\n\t    }\n\t\n\t    return events;\n\t  },\n\t\n\t  getElement: function getElement() {\n\t    return this._div;\n\t  },\n\t\n\t  setOpacity: function setOpacity(opacity) {\n\t    this.options.opacity = opacity;\n\t    if (this._div) {\n\t      L.DomUtil.setOpacity(this._div, this.options.opacity);\n\t    }\n\t    return this;\n\t  },\n\t\n\t  setZIndex: function setZIndex(zIndex) {\n\t    if (zIndex) {\n\t      this.options.zIndex = zIndex;\n\t      if (this._div) {\n\t        this._div.style.zIndex = zIndex;\n\t      }\n\t    }\n\t    return this;\n\t  },\n\t\n\t  bringToFront: function bringToFront() {\n\t    if (this._div) {\n\t      this._pane.appendChild(this._div);\n\t    }\n\t    return this;\n\t  },\n\t\n\t  bringToBack: function bringToBack() {\n\t    if (this._div) {\n\t      this._pane.insertBefore(this._div, this._pane.firstChild);\n\t    }\n\t    return this;\n\t  },\n\t\n\t  getAttribution: function getAttribution() {\n\t    return this.options.attribution;\n\t  },\n\t\n\t  _initImage: function _initImage(_image) {\n\t    var _image = L.DomUtil.create('img', 'leaflet-image-layer');\n\t\n\t    this._div.appendChild(_image);\n\t\n\t    if (this._map.options.zoomAnimation && L.Browser.any3d) {\n\t      L.DomUtil.addClass(_image, 'leaflet-zoom-animated');\n\t    } else {\n\t      L.DomUtil.addClass(_image, 'leaflet-zoom-hide');\n\t    }\n\t\n\t    L.extend(_image, {\n\t      galleryimg: 'no',\n\t      onselectstart: L.Util.falseFn,\n\t      onmousemove: L.Util.falseFn,\n\t      onload: L.bind(this._onImageLoad, this),\n\t      onerror: L.bind(this._onImageError, this)\n\t    });\n\t\n\t    return _image;\n\t  },\n\t\n\t  redraw: function redraw() {\n\t    if (this._map) {\n\t      this._update();\n\t    }\n\t    return this;\n\t  },\n\t\n\t  _animateZoom: function _animateZoom(e) {\n\t    if (this._currentImage._bounds) {\n\t      this._animateImage(this._currentImage, e);\n\t    }\n\t    if (this._bufferImage._bounds) {\n\t      this._animateImage(this._bufferImage, e);\n\t    }\n\t  },\n\t\n\t  _animateImage: function _animateImage(image, e) {\n\t    var scale = this._map.getZoomScale(e.zoom),\n\t        offset = this._map._latLngToNewLayerPoint(image._bounds.getNorthWest(), e.zoom, e.center);\n\t\n\t    L.DomUtil.setTransform(image, offset, scale);\n\t  },\n\t\n\t  _resetImage: function _resetImage(image) {\n\t    var bounds = new L.Bounds(this._map.latLngToLayerPoint(image._bounds.getNorthWest()), this._map.latLngToLayerPoint(image._bounds.getSouthEast())),\n\t        size = bounds.getSize();\n\t\n\t    L.DomUtil.setPosition(image, bounds.min);\n\t\n\t    image.style.width = size.x + 'px';\n\t    image.style.height = size.y + 'px';\n\t  },\n\t\n\t  _getClippedBounds: function _getClippedBounds() {\n\t    var wgsBounds = this._map.getBounds();\n\t\n\t    var mSouth = wgsBounds.getSouth();\n\t    var mNorth = wgsBounds.getNorth();\n\t    var mWest = wgsBounds.getWest();\n\t    var mEast = wgsBounds.getEast();\n\t\n\t    var lSouth = this.options.bounds.getSouth();\n\t    var lNorth = this.options.bounds.getNorth();\n\t    var lWest = this.options.bounds.getWest();\n\t    var lEast = this.options.bounds.getEast();\n\t\n\t    if (mSouth < lSouth) {\n\t      mSouth = lSouth;\n\t    }\n\t    if (mNorth > lNorth) {\n\t      mNorth = lNorth;\n\t    }\n\t    if (mWest < lWest) {\n\t      mWest = lWest;\n\t    }\n\t    if (mEast > lEast) {\n\t      mEast = lEast;\n\t    }\n\t\n\t    var world1 = new L.LatLng(mNorth, mWest);\n\t    var world2 = new L.LatLng(mSouth, mEast);\n\t\n\t    return new L.LatLngBounds(world1, world2);\n\t  },\n\t\n\t  _viewreset: function _viewreset() {\n\t    if (this._bufferImage._bounds) {\n\t      this._resetImage(this._bufferImage);\n\t    }\n\t    if (this._currentImage._bounds) {\n\t      this._resetImage(this._currentImage);\n\t    }\n\t  },\n\t\n\t  _update: function _update() {\n\t    if (this._map.getZoom() < this.options.minZoom || this._map.getZoom() > this.options.maxZoom) {\n\t      this._div.style.visibility = 'hidden';\n\t      return;\n\t    } else {\n\t      this._div.style.visibility = 'visible';\n\t    }\n\t\n\t    if (this._bufferImage._bounds) {\n\t      this._resetImage(this._bufferImage);\n\t    }\n\t\n\t    var bounds = this._getClippedBounds();\n\t\n\t    var pix1 = this._map.latLngToContainerPoint(bounds.getNorthWest());\n\t    var pix2 = this._map.latLngToContainerPoint(bounds.getSouthEast());\n\t\n\t    var width = pix2.x - pix1.x;\n\t    var height = pix2.y - pix1.y;\n\t\n\t    if (width < 32 || height < 32) {\n\t      return;\n\t    }\n\t\n\t    this._currentImage._bounds = bounds;\n\t\n\t    this._resetImage(this._currentImage);\n\t\n\t    var i = this._currentImage;\n\t    if (this.getImageUrl) {\n\t      i.src = this.getImageUrl(bounds.getNorthWest(), bounds.getSouthEast(), width, height);\n\t    } else {\n\t      this.getImageUrlAsync(bounds.getNorthWest(), bounds.getSouthEast(), width, height, function (url, tag) {\n\t        i.src = url;\n\t        i.tag = tag;\n\t      });\n\t    }\n\t\n\t    this.url = i.src;\n\t\n\t    L.DomUtil.setOpacity(this._currentImage, 0);\n\t  },\n\t  _onImageError: function _onImageError(e) {\n\t    this.fire('error', e);\n\t    L.DomUtil.addClass(e.target, 'invalid');\n\t    if (e.target.src !== this.options.errorImageUrl) {\n\t      e.target.src = this.options.errorImageUrl;\n\t      this._onImageDone(false, e);\n\t    }\n\t  },\n\t  _onImageLoad: function _onImageLoad(e) {\n\t    if (e.target.src !== this.options.errorImageUrl) {\n\t      L.DomUtil.removeClass(e.target, 'invalid');\n\t      if (e.target.src !== this.url) {\n\t        return;\n\t      }\n\t      this._onImageDone(true, e);\n\t    }\n\t  },\n\t  _onImageDone: function _onImageDone(success, e) {\n\t    L.DomUtil.setOpacity(this._currentImage, 1);\n\t    L.DomUtil.setOpacity(this._bufferImage, 0);\n\t\n\t    if (this._addInteraction) {\n\t      this._addInteraction(this._currentImage.tag);\n\t    }\n\t\n\t    var tmp = this._bufferImage;\n\t    this._bufferImage = this._currentImage;\n\t    this._currentImage = tmp;\n\t    this.fire('load', e);\n\t  }\n\t});\n\t\n\tL.nonTiledLayer = function () {\n\t  return new L.NonTiledLayer();\n\t};\n\t\n\tL.NonTiledLayer.WMS = L.NonTiledLayer.extend({\n\t\n\t  defaultWmsParams: {\n\t    service: 'WMS',\n\t    request: 'GetMap',\n\t    version: '1.1.1',\n\t    layers: '',\n\t    styles: '',\n\t    format: 'image/jpeg',\n\t    transparent: false\n\t  },\n\t\n\t  options: {\n\t    crs: null,\n\t    uppercase: false\n\t  },\n\t\n\t  initialize: function initialize(url, options) {\n\t    this._wmsUrl = url;\n\t\n\t    var wmsParams = L.extend({}, this.defaultWmsParams);\n\t\n\t    for (var i in options) {\n\t      if (!L.NonTiledLayer.prototype.options.hasOwnProperty(i) && !L.Layer.prototype.options.hasOwnProperty(i)) {\n\t        wmsParams[i] = options[i];\n\t      }\n\t    }\n\t\n\t    this.wmsParams = wmsParams;\n\t\n\t    L.setOptions(this, options);\n\t  },\n\t\n\t  onAdd: function onAdd(map) {\n\t\n\t    this._crs = this.options.crs || map.options.crs;\n\t    this._wmsVersion = parseFloat(this.wmsParams.version);\n\t\n\t    var projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\n\t    this.wmsParams[projectionKey] = this._crs.code;\n\t\n\t    L.NonTiledLayer.prototype.onAdd.call(this, map);\n\t  },\n\t\n\t  getImageUrl: function getImageUrl(world1, world2, width, height) {\n\t    var wmsParams = this.wmsParams;\n\t    wmsParams.width = width;\n\t    wmsParams.height = height;\n\t\n\t    var nw = this._crs.project(world1);\n\t    var se = this._crs.project(world2);\n\t\n\t    var url = this._wmsUrl;\n\t\n\t    var bbox = bbox = (this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ? [se.y, nw.x, nw.y, se.x] : [nw.x, se.y, se.x, nw.y]).join(',');\n\t\n\t    return url + L.Util.getParamString(this.wmsParams, url, this.options.uppercase) + (this.options.uppercase ? '&BBOX=' : '&bbox=') + bbox;\n\t  },\n\t\n\t  setParams: function setParams(params, noRedraw) {\n\t\n\t    L.extend(this.wmsParams, params);\n\t\n\t    if (!noRedraw) {\n\t      this.redraw();\n\t    }\n\t\n\t    return this;\n\t  }\n\t});\n\t\n\tL.nonTiledLayer.wms = function (url, options) {\n\t  return new L.NonTiledLayer.WMS(url, options);\n\t};\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tif (!Array.prototype.find) {\n\t  Object.defineProperty(Array.prototype, 'find', {\n\t    value: function value(predicate) {\n\t      'use strict';\n\t\n\t      if (this == null) {\n\t        throw new TypeError('Array.prototype.find called on null or undefined');\n\t      }\n\t      if (typeof predicate !== 'function') {\n\t        throw new TypeError('predicate must be a function');\n\t      }\n\t      var list = Object(this);\n\t      var length = list.length >>> 0;\n\t      var thisArg = arguments[1];\n\t\n\t      for (var i = 0; i !== length; i++) {\n\t        if (predicate.call(thisArg, this[i], i, list)) {\n\t          return this[i];\n\t        }\n\t      }\n\t      return undefined;\n\t    }\n\t  });\n\t}\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tif (!Array.prototype.findIndex) {\n\t  Object.defineProperty(Array.prototype, 'findIndex', {\n\t    value: function value(predicate) {\n\t      if (this == null) {\n\t        throw new TypeError('\"this\" is null or not defined');\n\t      }\n\t\n\t      var o = Object(this);\n\t\n\t      var len = o.length >>> 0;\n\t\n\t      if (typeof predicate !== 'function') {\n\t        throw new TypeError('predicate must be a function');\n\t      }\n\t\n\t      var thisArg = arguments[1];\n\t\n\t      var k = 0;\n\t\n\t      while (k < len) {\n\t        var kValue = o[k];\n\t        if (predicate.call(thisArg, kValue, k, o)) {\n\t          return k;\n\t        }\n\t\n\t        k++;\n\t      }\n\t\n\t      return -1;\n\t    }\n\t  });\n\t}\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tif (!String.prototype.startsWith) {\n\t  String.prototype.startsWith = function (searchString, position) {\n\t    return this.substr(position || 0, searchString.length) === searchString;\n\t  };\n\t}\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  return _axios2.default.get('/geoservices/REST/atlante_geochimico/livelli/').then(function (response) {\n\t    return response.data.data.livelli;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 225 */,\n/* 226 */,\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getEnti;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getEnti() {\n\t  var url = _globals2.default.RL_ENTI_SERVICE;\n\t  return _axios2.default.get(url).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t}\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getFeatureInfo;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getFeatureInfo(url) {\n\t  var params = {};\n\t  return _axios2.default.get(url, {\n\t    params: params\n\t  }).then(function (response) {\n\t    return response.data.features;\n\t  });\n\t}\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(65);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\texports.default = getFeatureInfo;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar X2JS = __webpack_require__(149);\n\t\n\tfunction parseGml(gml) {\n\t  var data = new X2JS().xml_str2json(gml);\n\t  var features = [];\n\t  (0, _keys2.default)(data.msGMLOutput).forEach(function (key, index) {\n\t    if (key.indexOf('_layer') >= 0) {\n\t      (function () {\n\t        var layerName = key.replace('_layer', '');\n\t        var layer = data.msGMLOutput[key];\n\t        (0, _keys2.default)(layer).forEach(function (key2, index2) {\n\t          var feature = layer[key2];\n\t          if (Array.isArray(feature)) {\n\t            feature.forEach(function (value) {\n\t              var properties = value;\n\t              features.push({ type: 'Feature', id: layerName + '.' + index2, geometry: null, properties: properties });\n\t            });\n\t          } else {\n\t            var value = feature;\n\t            var properties = value;\n\t            features.push({ type: 'Feature', id: layerName + '.' + index2, geometry: null, properties: properties });\n\t          }\n\t        });\n\t      })();\n\t    }\n\t  });\n\t  return features;\n\t}\n\t\n\tfunction getFeatureInfo(url) {\n\t  var params = {};\n\t\n\t  return _axios2.default.get(url, {\n\t    params: params\n\t  }).then(function (response) {\n\t    var gml = response.data;\n\t    var features = parseGml(gml);\n\t    return features;\n\t  });\n\t}\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = getFeatureXSLT;\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _parseXML = __webpack_require__(106);\n\t\n\tvar _parseXML2 = _interopRequireDefault(_parseXML);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getFeatureXSLT(infoUrl, data) {\n\t    return _axios2.default.post(_globals2.default.RL_XSL_INFO_SERVICE, {\n\t        headers: { Accept: 'text/xml' },\n\t        data: { xslUrl: infoUrl, ambiente: null, idLayer: data.layerName.replace('L', ''), featureAttributes: data.properties }\n\t    }).then(function (response) {\n\t        return response.data;\n\t    }).then(function (data) {\n\t        return (0, _parseXML2.default)(data);\n\t    });\n\t}\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (query) {\n\t  var params = {\n\t    app_id: 'uHFYCdocrLoinMf8j6RK',\n\t    app_code: 'XKQe3be7-30iGWPuh3dbtQ',\n\t    mapview: '7.43,43.75;10.00,44.70',\n\t    searchtext: query\n\t  };\n\t\n\t  return _axios2.default.get(_globals2.default.HERE_GEOCODE_PROXY, { params: params }).then(function (response) {\n\t    return response.data.Response.View[0].Result.map(function (result) {\n\t      return {\n\t        relevance: result.Relevance,\n\t        match_level: result.MatchLevel,\n\t        match_type: result.MatchType,\n\t        formatted_address: result.Location.Address.Label,\n\t        place_id: result.Location.LocationId,\n\t        geometry: { location: { lat: result.Location.DisplayPosition.Latitude, lng: result.Location.DisplayPosition.Longitude } }\n\t      };\n\t    });\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 232 */,\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (idLayer, geoserverUrl, flagGeoserver) {\n\t  if (!idLayer || idLayer === 'null') {\n\t    throw new Error('Parametro idLayer mancante');\n\t  }\n\t\n\t  var params = {};\n\t  if (geoserverUrl) {\n\t    params.geoserverUrl = geoserverUrl;\n\t  }\n\t  if (flagGeoserver) {\n\t    params.flagGeoserver = flagGeoserver;\n\t  }\n\t\n\t  return _axios2.default.get('' + _globals2.default.RL_LAYER_CONFIG_SERVICE + idLayer, {\n\t    params: params\n\t  }).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(7);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (findOptions) {\n\t    var expressions = [];\n\t    var field = findOptions.fields;\n\t    findOptions.values.split(',').forEach(function (value) {\n\t        expressions.push(field + '=\\'' + value + '\\'');\n\t    });\n\t    var cqlFilter = encodeURIComponent(expressions.join(' OR '));\n\t    return cqlFilter;\n\t};\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function () {\n\t    var map = (0, _getUrlParam2.default)('FIND_MAP');\n\t    var layers = (0, _getUrlParam2.default)('FIND_LAYERS') ? (0, _getUrlParam2.default)('FIND_LAYERS').split(',') : null;\n\t    var fields = (0, _getUrlParam2.default)('FIND_FIELDS');\n\t    var values = (0, _getUrlParam2.default)('FIND_VALUES');\n\t    var cqlFilter = (0, _getUrlParam2.default)('FIND_CQL_FILTER');\n\t    return {\n\t        map: map,\n\t        layers: layers,\n\t        fields: fields,\n\t        values: values,\n\t        cqlFilter: cqlFilter\n\t    };\n\t};\n\t\n\tvar _getUrlParam = __webpack_require__(151);\n\t\n\tvar _getUrlParam2 = _interopRequireDefault(_getUrlParam);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 241 */,\n/* 242 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (options) {\n\t  var elType = options.elType || 'div';\n\t  var containerId = options.containerId || 'gv-container';\n\t  var elId = options.elId;\n\t  var clear = options.clear;\n\t\n\t  if (clear && document.getElementById(elId)) {\n\t    document.getElementById(elId).remove();\n\t  }\n\t\n\t  var el = document.createElement(elType);\n\t  el.id = elId;\n\t  if (document.getElementById(containerId)) {\n\t    document.getElementById(containerId).appendChild(el);\n\t  } else {\n\t    console.log('Elemento ' + containerId + ' non trovato faccio mount su body');\n\t    document.body.appendChild(el);\n\t  }\n\t\n\t  return el;\n\t};\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar startpos = null;\n\t\n\twindow.document.body.setAttribute('ondrop', 'GV.dragbox.drop(event)');\n\t\n\texports.default = {\n\t  start: function start(ev) {\n\t    startpos = [ev.screenX, ev.screenY];\n\t    ev.dataTransfer.setData('text/plain', ev.target.id);\n\t  },\n\t  end: function end(ev, elId) {\n\t    var el = document.getElementById(elId);\n\t    var style = window.getComputedStyle(el, null);\n\t    var endpos = [ev.screenX, ev.screenY];\n\t    el.style.top = Number(style.top.replace('px', '')) + (endpos[1] - startpos[1]) + 'px';\n\t    el.style.left = Number(style.left.replace('px', '')) + (endpos[0] - startpos[0]) + 'px';\n\t  },\n\t  drop: function drop(ev) {\n\t    if (ev.target.type === 'text') {\n\t      ev.preventDefault();\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getProtocol;\n\tfunction getProtocol() {\n\t  'use strict';\n\t\n\t  return window.location.href.split(':')[0];\n\t}\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getTmsMaxLevel;\n\tfunction getTmsMaxLevel(maxScale) {\n\t  var maxLevel = 12;\n\t  if (maxScale <= 2000 || maxScale == null) {\n\t    maxLevel = 17;\n\t  }\n\t  if (maxScale > 2000 && maxScale <= 6250) {\n\t    maxLevel = 16;\n\t  }\n\t  if (maxScale > 6250 && maxScale <= 12500) {\n\t    maxLevel = 15;\n\t  }\n\t  if (maxScale > 12500 && maxScale <= 25000) {\n\t    maxLevel = 14;\n\t  }\n\t  if (maxScale > 25000 && maxScale <= 50000) {\n\t    maxLevel = 13;\n\t  }\n\t  return maxLevel;\n\t}\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getZoomFromScaleDenom;\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getZoomFromScaleDenom(scaleDenom) {\n\t  var zoom = _globals2.default.BASE_SCALES.findIndex(function (scale) {\n\t    return scaleDenom > scale;\n\t  });\n\t  return zoom - 1;\n\t}\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (str, data) {\n\t  var templateRe = /\\{ *([\\w_\\-]+) *\\}/g;\n\t  return str.replace(templateRe, function (str, key) {\n\t    var value = data[key];\n\t\n\t    if (value === undefined) {\n\t      throw new Error('No value provided for variable ' + str);\n\t    } else if (typeof value === 'function') {\n\t      value = value(data);\n\t    }\n\t    return value;\n\t  });\n\t};\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isBrowserIE;\n\tfunction isBrowserIE() {\n\t  return navigator.userAgent.indexOf('MSIE ') > 0 || navigator.userAgent.indexOf('Trident') > 0 || navigator.userAgent.indexOf('Edge') > 0;\n\t}\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isTouch;\n\tfunction isTouch() {\n\t  return window.matchMedia('(pointer: coarse)').matches;\n\t}\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = log;\n\tfunction log(msg) {\n\t  if (GV.config.debug) {\n\t    console.log(msg);\n\t  }\n\t}\n\n/***/ }),\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */,\n/* 257 */,\n/* 258 */,\n/* 259 */,\n/* 260 */,\n/* 261 */,\n/* 262 */,\n/* 263 */,\n/* 264 */,\n/* 265 */,\n/* 266 */,\n/* 267 */,\n/* 268 */,\n/* 269 */,\n/* 270 */,\n/* 271 */,\n/* 272 */,\n/* 273 */,\n/* 274 */,\n/* 275 */,\n/* 276 */,\n/* 277 */,\n/* 278 */,\n/* 279 */,\n/* 280 */,\n/* 281 */,\n/* 282 */,\n/* 283 */,\n/* 284 */,\n/* 285 */,\n/* 286 */,\n/* 287 */,\n/* 288 */,\n/* 289 */,\n/* 290 */,\n/* 291 */,\n/* 292 */,\n/* 293 */,\n/* 294 */,\n/* 295 */,\n/* 296 */,\n/* 297 */,\n/* 298 */,\n/* 299 */,\n/* 300 */,\n/* 301 */,\n/* 302 */,\n/* 303 */,\n/* 304 */,\n/* 305 */,\n/* 306 */,\n/* 307 */,\n/* 308 */,\n/* 309 */,\n/* 310 */,\n/* 311 */,\n/* 312 */,\n/* 313 */,\n/* 314 */,\n/* 315 */,\n/* 316 */,\n/* 317 */,\n/* 318 */,\n/* 319 */,\n/* 320 */,\n/* 321 */,\n/* 322 */,\n/* 323 */,\n/* 324 */,\n/* 325 */,\n/* 326 */,\n/* 327 */,\n/* 328 */,\n/* 329 */,\n/* 330 */,\n/* 331 */,\n/* 332 */,\n/* 333 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 334 */,\n/* 335 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 336 */,\n/* 337 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 338 */,\n/* 339 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 340 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 341 */,\n/* 342 */,\n/* 343 */,\n/* 344 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 345 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 346 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 347 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 348 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 349 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 350 */,\n/* 351 */,\n/* 352 */,\n/* 353 */,\n/* 354 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 355 */,\n/* 356 */,\n/* 357 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 358 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 359 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 360 */,\n/* 361 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 362 */,\n/* 363 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 364 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 365 */,\n/* 366 */,\n/* 367 */,\n/* 368 */,\n/* 369 */,\n/* 370 */,\n/* 371 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 372 */,\n/* 373 */,\n/* 374 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(333);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(89)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./font-awesome.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./font-awesome.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 375 */,\n/* 376 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(335);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(89)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./leaflet.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./leaflet.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 377 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(364);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(89)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../node_modules/vue-style-loader/index.js!./../../../node_modules/css-loader/index.js?sourceMap!./base.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../node_modules/vue-style-loader/index.js!./../../../node_modules/css-loader/index.js?sourceMap!./base.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 378 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(371);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(89)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../../../node_modules/vue-style-loader/index.js!./../../../../../node_modules/css-loader/index.js?sourceMap!./mapskin.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../../../node_modules/vue-style-loader/index.js!./../../../../../node_modules/css-loader/index.js?sourceMap!./mapskin.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 379 */,\n/* 380 */,\n/* 381 */,\n/* 382 */,\n/* 383 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(348)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(190)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(415)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 384 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(354)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(191)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(420)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-74778fa6\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 385 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(344)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(192)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(411)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-39472a4f\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 386 */,\n/* 387 */,\n/* 388 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(363)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(195)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(428)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-eb2c59d4\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 389 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(345)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(196)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(412)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-3f78502f\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 390 */,\n/* 391 */,\n/* 392 */,\n/* 393 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(358)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(200)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(423)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-a5a38922\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 394 */,\n/* 395 */,\n/* 396 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(357)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(203)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(422)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 397 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(346)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(204)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(413)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-4020fcaa\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 398 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(339)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(208)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(407)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-17ec4bab\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 399 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(361)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(209)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(426)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 400 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(347)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(211)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(414)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 401 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(359)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(212)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(424)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 402 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(340)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(213)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(408)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 403 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(337)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(214)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(405)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n/* 404 */,\n/* 405 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('button', {\n\t    class: _vm.setClass(),\n\t    attrs: {\n\t      \"title\": \"Ricerca sui Livelli\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.onClick\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 406 */,\n/* 407 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"scalebar\",\n\t    attrs: {\n\t      \"id\": \"gv-scalebar\"\n\t    }\n\t  }, [_vm._c('el-select', {\n\t    attrs: {\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.onChange\n\t    },\n\t    model: {\n\t      value: (_vm.value),\n\t      callback: function($$v) {\n\t        _vm.value = $$v\n\t      },\n\t      expression: \"value\"\n\t    }\n\t  }, _vm._l((_vm.options), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.value,\n\t      attrs: {\n\t        \"label\": item.label,\n\t        \"value\": item.value\n\t      }\n\t    })\n\t  }))], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 408 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('button', {\n\t    class: _vm.setClass(),\n\t    attrs: {\n\t      \"title\": \"Info sui livelli della mappa\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.onClick\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 409 */,\n/* 410 */,\n/* 411 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('el-select', {\n\t    attrs: {\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Sfondo\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.onChange\n\t    },\n\t    model: {\n\t      value: (_vm.activeBaseLayer),\n\t      callback: function($$v) {\n\t        _vm.activeBaseLayer = $$v\n\t      },\n\t      expression: \"activeBaseLayer\"\n\t    }\n\t  }, _vm._l((_vm.baseLayers), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.name,\n\t      attrs: {\n\t        \"label\": item.label,\n\t        \"value\": item.name\n\t      }\n\t    }, [_vm._c('span', {\n\t      staticStyle: {\n\t        \"float\": \"left\"\n\t      }\n\t    }, [_vm._c('img', {\n\t      staticClass: \"gv-sfondi-icon\",\n\t      attrs: {\n\t        \"src\": item.icon\n\t      }\n\t    }), _vm._v(\" \"), _vm._c('span', {\n\t      staticClass: \"gv-sfondi-label\"\n\t    }, [_vm._v(_vm._s(item.label))])])])\n\t  }))\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 412 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    style: (_vm.style),\n\t    attrs: {\n\t      \"id\": \"gv-header\"\n\t    }\n\t  }, [_vm._t(\"default\")], 2)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 413 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    style: (_vm.style),\n\t    attrs: {\n\t      \"id\": \"gv-map\"\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 414 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('button', {\n\t    class: _vm.setClass(),\n\t    attrs: {\n\t      \"id\": \"gv-button-add-map\",\n\t      \"title\": \"Aggiungi Mappe\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.onClick\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 415 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    attrs: {\n\t      \"id\": \"gv-container\"\n\t    }\n\t  }, [(_vm.showHeader) ? _vm._c('gv-header') : _vm._e(), _vm._v(\" \"), (_vm.leafletMap) ? _vm._c('gv-map', {\n\t    ref: \"gv-map\"\n\t  }) : _vm._e(), _vm._v(\" \"), (_vm.showLegend) ? _vm._c('gv-legend', {\n\t    ref: \"gv-legend\"\n\t  }) : _vm._e(), _vm._v(\" \"), _vm._m(0)], 1)\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-tool-container\"\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-tool-top gv-tool-left\",\n\t    attrs: {\n\t      \"id\": \"gv-tool-topleft\"\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-tool-top gv-tool-right\",\n\t    attrs: {\n\t      \"id\": \"gv-tool-topright\"\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-tool-bottom gv-tool-left\",\n\t    attrs: {\n\t      \"id\": \"gv-tool-bottomleft\"\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-tool-bottom gv-tool-right\",\n\t    attrs: {\n\t      \"id\": \"gv-tool-bottomright\"\n\t    }\n\t  })])\n\t}]}\n\n/***/ }),\n/* 416 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-panel-title gv-color-scheme\"\n\t  }, [_vm._c('span', {\n\t    staticClass: \"gv-color-scheme\",\n\t    attrs: {\n\t      \"title\": _vm.fullTitle\n\t    }\n\t  }, [_vm._v(\"\\n        \" + _vm._s(_vm.title) + \"\\n    \")]), _vm._v(\" \"), (!_vm.noClose) ? _vm._c('el-button', {\n\t    staticClass: \"gv-close gv-color-scheme\",\n\t    attrs: {\n\t      \"icon\": \"el-icon-close\",\n\t      \"type\": \"button\",\n\t      \"title\": \"Chiudi Panello\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.closePanel\n\t    }\n\t  }) : _vm._e(), _vm._v(\" \"), (_vm.collapsible) ? _vm._c('button', {\n\t    class: _vm.toggleCollapseClass(),\n\t    attrs: {\n\t      \"size\": \"mini\",\n\t      \"title\": \"Minimizza Panello\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.collapse\n\t    }\n\t  }) : _vm._e()], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 417 */,\n/* 418 */,\n/* 419 */,\n/* 420 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"atlante-geochimico gv-color-scheme\"\n\t  }, [_vm._c('el-select', {\n\t    attrs: {\n\t      \"placeholder\": \"Seleziona Livello\",\n\t      \"size\": \"mini\",\n\t      \"filterable\": \"\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.onChange\n\t    },\n\t    model: {\n\t      value: (_vm.livello),\n\t      callback: function($$v) {\n\t        _vm.livello = $$v\n\t      },\n\t      expression: \"livello\"\n\t    }\n\t  }, _vm._l((_vm.livelli), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"value\": item.codice,\n\t        \"label\": item.nome\n\t      }\n\t    })\n\t  }))], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 421 */,\n/* 422 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-inverted-color-scheme\",\n\t    attrs: {\n\t      \"id\": \"gv-legend\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-legend-title gv-color-scheme\"\n\t  }, [_vm._c('b', [_vm._v(\"LEGENDA\")]), _vm._v(\" \"), _vm._c('button', {\n\t    class: _vm.toggleCollapseClass(),\n\t    attrs: {\n\t      \"size\": \"mini\",\n\t      \"title\": \"Minimizza Panello\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.hideLegend\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('el-button', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.options.showAddMap),\n\t      expression: \"options.showAddMap\"\n\t    }],\n\t    staticClass: \"gv-color-scheme gv-legend-buttons ms ms-layers-add\",\n\t    attrs: {\n\t      \"id\": \"gv-legend-add-map\",\n\t      \"title\": \"Aggiungi Mappe\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.addMap\n\t    }\n\t  })], 1), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-legend-wrapper\",\n\t    attrs: {\n\t      \"id\": \"gv-legend-wrapper\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    attrs: {\n\t      \"id\": \"gv-legend-body\"\n\t    }\n\t  }, _vm._l((_vm.maps), function(map) {\n\t    return _vm._c('ul', {\n\t      key: map.id,\n\t      staticClass: \"gv-list-group\"\n\t    }, [_vm._c('div', {\n\t      staticClass: \"gv-list-legend-map-item gv-inverted-color-scheme\"\n\t    }, [_vm._c('li', [_vm._v(\"\\n                        \" + _vm._s(map.name) + \"\\n                    \")]), _vm._v(\" \"), _vm._c('div', {\n\t      staticClass: \"gv-legend-map-tools gv-inverted-color-scheme\"\n\t    }, [_vm._c('el-button', {\n\t      class: _vm.getToggleLayersClass(map),\n\t      attrs: {\n\t        \"title\": \"Nascondi/Mostra Livelli in Legenda\",\n\t        \"size\": \"mini\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.toggleLayers(map)\n\t        }\n\t      }\n\t    }), _vm._v(\" \"), (_vm.checkAddMap(map)) ? _vm._c('el-button', {\n\t      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n\t      attrs: {\n\t        \"id\": 'gv-legend-scheda-' + map.id,\n\t        \"title\": \"Visualizza Scheda\",\n\t        \"icon\": \"el-icon-document\",\n\t        \"size\": \"mini\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.showMapInfoPanel(map)\n\t        }\n\t      }\n\t    }) : _vm._e(), _vm._v(\" \"), (!_vm.options.noDeleteButton) ? _vm._c('el-button', {\n\t      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n\t      attrs: {\n\t        \"id\": 'gv-legend-delete-' + map.id,\n\t        \"title\": \"Elimina Mappa\",\n\t        \"icon\": \"el-icon-delete\",\n\t        \"size\": \"mini\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.remove(map)\n\t        }\n\t      }\n\t    }) : _vm._e(), _vm._v(\" \"), (_vm.options.showLayersTransparency) ? _vm._c('el-button', {\n\t      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button fa fa-sliders\",\n\t      attrs: {\n\t        \"title\": \"Trasparenza Livelli\",\n\t        \"size\": \"mini\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.layerTransparency(map)\n\t        }\n\t      }\n\t    }) : _vm._e(), _vm._v(\" \"), (_vm.isDownloadable(map)) ? _vm._c('el-button', {\n\t      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n\t      attrs: {\n\t        \"id\": 'gv-legend-download-' + map.id,\n\t        \"title\": \"Download Mappa\",\n\t        \"icon\": \"el-icon-download\",\n\t        \"size\": \"mini\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.download(map)\n\t        }\n\t      }\n\t    }) : _vm._e()], 1)]), _vm._v(\" \"), _vm._c('ul', {\n\t      directives: [{\n\t        name: \"show\",\n\t        rawName: \"v-show\",\n\t        value: (_vm.showMapLayers(map)),\n\t        expression: \"showMapLayers(map)\"\n\t      }],\n\t      staticClass: \"gv-list-group\"\n\t    }, _vm._l((map.layers), function(layer) {\n\t      return _vm._c('li', {\n\t        key: layer.id,\n\t        class: _vm.getClass(layer),\n\t        attrs: {\n\t          \"id\": 'gv-legend-layer-' + layer.id,\n\t          \"layer\": layer\n\t        }\n\t      }, [_vm._c('img', {\n\t        staticClass: \"gv-legend-layer-icon\",\n\t        attrs: {\n\t          \"src\": _vm.iconUrl(layer)\n\t        },\n\t        on: {\n\t          \"click\": function($event) {\n\t            _vm.showLegendPanel(layer)\n\t          }\n\t        }\n\t      }), _vm._v(\" \"), _vm._c('span', {\n\t        staticClass: \"gv-layer-visibility-span\"\n\t      }, [_vm._c('input', {\n\t        directives: [{\n\t          name: \"model\",\n\t          rawName: \"v-model\",\n\t          value: (layer.visible),\n\t          expression: \"layer.visible\"\n\t        }],\n\t        staticClass: \"gv-layer-visibility-cb\",\n\t        attrs: {\n\t          \"type\": \"checkbox\"\n\t        },\n\t        domProps: {\n\t          \"checked\": Array.isArray(layer.visible) ? _vm._i(layer.visible, null) > -1 : (layer.visible)\n\t        },\n\t        on: {\n\t          \"click\": function($event) {\n\t            _vm.setLayerVisible(layer, $event)\n\t          },\n\t          \"change\": function($event) {\n\t            var $$a = layer.visible,\n\t              $$el = $event.target,\n\t              $$c = $$el.checked ? (true) : (false);\n\t            if (Array.isArray($$a)) {\n\t              var $$v = null,\n\t                $$i = _vm._i($$a, $$v);\n\t              if ($$el.checked) {\n\t                $$i < 0 && (layer.visible = $$a.concat([$$v]))\n\t              } else {\n\t                $$i > -1 && (layer.visible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t              }\n\t            } else {\n\t              _vm.$set(layer, \"visible\", $$c)\n\t            }\n\t          }\n\t        }\n\t      })]), _vm._v(\" \"), _vm._c('span', {\n\t        staticClass: \"gv-layer-title-span\"\n\t      }, [_vm._v(_vm._s(layer.legend.label))])])\n\t    }))])\n\t  })), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-legend-footer gv-inverted-color-scheme\"\n\t  }, [(_vm.options.showBaseLayerSwitcher) ? _vm._c('gv-base-layer-switcher', {\n\t    ref: \"gv-base-layer-switcher\"\n\t  }) : _vm._e()], 1)])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 423 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    domProps: {\n\t      \"innerHTML\": _vm._s(_vm.html)\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 424 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('button', {\n\t    class: _vm.setClass(),\n\t    attrs: {\n\t      \"title\": \"Acquisizione Coordinate\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.onClick\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 425 */,\n/* 426 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-search\",\n\t    attrs: {\n\t      \"id\": \"gv-search\"\n\t    }\n\t  }, [_vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-seach-input\",\n\t      \"filterable\": \"\",\n\t      \"clearable\": \"\",\n\t      \"remote\": \"\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Ricerca...\",\n\t      \"remote-method\": _vm.search,\n\t      \"loading\": _vm.loading,\n\t      \"loading-text\": \"Caricamento... \",\n\t      \"no-match-text\": \"Nessun elemento trovato\",\n\t      \"no-data-text\": \"Nessun elemento trovato\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.onChange\n\t    },\n\t    model: {\n\t      value: (_vm.address),\n\t      callback: function($$v) {\n\t        _vm.address = $$v\n\t      },\n\t      expression: \"address\"\n\t    }\n\t  }, _vm._l((_vm.results), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.value,\n\t      attrs: {\n\t        \"label\": item.label,\n\t        \"value\": item.value\n\t      }\n\t    })\n\t  }))], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 427 */,\n/* 428 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('el-select', {\n\t    staticClass: \"gv-geocoder\",\n\t    attrs: {\n\t      \"filterable\": \"\",\n\t      \"clearable\": \"\",\n\t      \"remote\": \"\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Ricerca Indirizzo...\",\n\t      \"remote-method\": _vm.remoteMethod,\n\t      \"loading\": _vm.loading,\n\t      \"loading-text\": \"Caricamento... \",\n\t      \"no-match-text\": \"Nessun indirizzo trovato\",\n\t      \"no-data-text\": \"Nessun indirizzo trovato\",\n\t      \"id\": \"gv-geocoder\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.onChange\n\t    },\n\t    model: {\n\t      value: (_vm.address),\n\t      callback: function($$v) {\n\t        _vm.address = $$v\n\t      },\n\t      expression: \"address\"\n\t    }\n\t  }, _vm._l((_vm.results), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.value,\n\t      staticClass: \"gv-geocoder-options\",\n\t      attrs: {\n\t        \"label\": item.label,\n\t        \"value\": item.value\n\t      }\n\t    })\n\t  }))\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 429 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }),\n/* 430 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/GV.js","// -------------------------------------------------------------------------------- //\r\n// CSS\r\nrequire('style!../node_modules/leaflet/dist/leaflet.css')\r\nrequire('style!./assets/css/base.css')\r\nrequire('style!./assets/css/mapskin/css/mapskin.css')\r\nrequire('style!font-awesome/css/font-awesome.css')\r\n// -------------------------------------------------------------------------------- //\r\n// Shims/Polyfill\r\nrequire('./polyfill/findIndex')\r\nrequire('./polyfill/find')\r\nrequire('./polyfill/startsWith')\r\nrequire('es6-promise').polyfill()\r\n// -------------------------------------------------------------------------------- //\r\n// Imports\r\nimport draggable from './directives/draggable'\r\nimport globals from './globals'\r\nimport getUrlParam from './util/getUrlParam'\r\nimport log from './util/log'\r\nimport dragbox from './util/dragbox'\r\nimport mountComponent from './util/mountComponent'\r\nimport buildFindOptionsFromQueryStringParams from './util/buildFindOptionsFromQueryStringParams'\r\nimport config from './config'\r\nimport Vue from 'vue'\r\nimport App from './components/App.vue'\r\n// -------------------------------------------------------------------------------- //\r\n// Tools\r\nlet tools = []\r\ntools.push({ name: 'gv-geocoder'})\r\nimport Geocoder from './components/Geocoder.vue'\r\nVue.component('gv-geocoder', Geocoder)\r\ntools.push({ name: 'gv-search'})\r\nimport Search from './components/Search.vue'\r\nVue.component('gv-search', Search)\r\ntools.push({ name: 'gv-scalebar'})\r\nimport Scalebar from './components/Scalebar.vue'\r\nVue.component('gv-scalebar', Scalebar)\r\ntools.push({ name: 'gv-inner-html'})\r\nimport InnerHtml from './components/InnerHtml.vue'\r\nVue.component('gv-inner-html', InnerHtml)\r\ntools.push({ name: 'gv-add-map-button'})\r\nimport AddMap from './components/buttons/AddMap.vue'\r\nVue.component('gv-add-map-button', AddMap)\r\ntools.push({ name: 'gv-info-button'})\r\nimport Info from './components/buttons/Info.vue'\r\nVue.component('gv-info-button', Info)\r\ntools.push({ name: 'gv-coordinate-button' })\r\nimport Coordinate from './components/buttons/Coordinate.vue'\r\nVue.component('gv-coordinate-button', Coordinate)\r\n\r\ntools.push({ name: 'gv-layer-search-button' })\r\nimport LayerSearch from './components/buttons/LayerSearch.vue'\r\nVue.component('gv-layer-search-button', LayerSearch)\r\n\r\ntools.push({ name: 'atlante-geochimico-livelli'})\r\nimport AtlanteGeochimicoLivelli from './components/AtlanteGeochimicoLivelli.vue'\r\nVue.component('atlante-geochimico-livelli', AtlanteGeochimicoLivelli)\r\n\r\n\r\n// -------------------------------------------------------------------------------- //\r\nwindow.GV = {\r\n  init(options) {\r\n    this.initConfig(options)\r\n    Vue.component('gv-app', App)\r\n    const vm = new Vue({\r\n      el: '#gv-container',\r\n      template: '<gv-app></gv-app>',\r\n    })\r\n    return vm\r\n  },\r\n  initConfig(options) {\r\n    GV.config = config\r\n    config.init(options)\r\n  },\r\n  mountLegend() {\r\n    mountComponent({\r\n      elId: 'gv-legend',\r\n      clear: true,\r\n      containerId: GV.config.containerId,\r\n      vm: new Vue({\r\n        template: `<gv-legend ref=\"gv-legend\"></gv-legend>`,\r\n      }),\r\n    })\r\n  },\r\n  dragbox,\r\n  globals,\r\n  log,\r\n  eventBus: new Vue(),\r\n  utils: {\r\n    getUrlParam: getUrlParam,\r\n    buildFindOptionsFromQueryStringParams: buildFindOptionsFromQueryStringParams,\r\n  },\r\n  tools: tools,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/index.js","export default {\r\n    DEFAULT_PROXY: '/geoservices/apps/proxy/proxy.jsp?url=',\r\n\r\n    USE_SUBDOMAINS: true,\r\n\r\n    RL_MAP_CONFIG_SERVICE: '/geoservices/REST/geoportale/map/',\r\n    RL_LAYER_CONFIG_SERVICE: '/geoservices/REST/config/layer/',\r\n    RL_QUERY_LAYER_VALUE_LIST_SERVICE: '/geoservices/REST/config/query_layer_valuelist/',\r\n    RL_QUERY_LAYER_SERVICE: '/geoservices/REST/config/query_layer/',\r\n    RL_DYN_MAP_CONFIG_SERVICE: '/geoservices/REST/config/map/',\r\n    RL_CREATE_SLD_SERVICE: '/geoservices/REST/config/create_sld/',\r\n    RL_XSL_INFO_SERVICE: '/geoservices/REST/config/xsl_info_service?',\r\n    RL_CATALOG_SERVICE: '/geoservices/REST/geoportale/catalogo/',\r\n    RL_CANALI_SERVICE: '/geoservices/REST/config/ag_app_canali_tree/',\r\n    RL_SCHEDA_SERVICE: '/geoservices/REST/geoportale/scheda/',\r\n    RL_DOWNLOAD_CONFIG_SERVICE: '/geoservices/REST/download/map/',\r\n    RL_DOWNLOAD_INSERT_SERVICE: '/geoservices/REST/download/insert_richiesta/',\r\n    RL_ENTI_SERVICE: '/geoservices/REST/geoportale/enti/',\r\n    RL_METADATA_URL: '/geoservices/REST/metadata/scheda_xml/',\r\n\r\n    HERE_GEOCODE_PROXY: '/geoservices/REST/proxy/here_geocode',\r\n\r\n    MAX_BOUNDS: {\r\n        X_MIN: 43.4,\r\n        Y_MIN: 7.3,\r\n        X_MAX: 44.8,\r\n        Y_MAX: 10.5\r\n    },\r\n\r\n    INFO_WMS_MAX_FEATURES: 10,\r\n\r\n    BASE_SCALES: [\r\n        591657550.500000,\r\n        295828775.300000,\r\n        147914387.600000,\r\n        73957193.820000,\r\n        36978596.910000,\r\n        18489298.450000,\r\n        9244649.227000,\r\n        4622324.614000,\r\n        2311162.307000,\r\n        1155581.153000,\r\n        577790.576700,\r\n        288895.288400,\r\n        144447.644200,\r\n        72223.822090,\r\n        36111.911040,\r\n        18055.955520,\r\n        9027.977761,\r\n        4513.988880,\r\n        2256.994440,\r\n        1128.497220,\r\n        564.24861,\r\n        282.124305\r\n    ],\r\n\r\n    BASE_SCALE_LABELS: {\r\n        8: '1:1.600.000',\r\n        9: '1:800.000',\r\n        10: '1:400.000',\r\n        11: '1:200.000',\r\n        12: '1:100.000',\r\n        13: '1:50.000',\r\n        14: '1:25.000',\r\n        15: '1:12.500',\r\n        16: '1:6.250',\r\n        17: '1:3.125',\r\n        18: '1:1.560',\r\n        19: '1:800',\r\n        20: '1:400'\r\n    },\r\n\r\n    BASE_LAYERS: {\r\n        'BLANK': {\r\n            label: 'Sfondo Bianco',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/bianco.gif'\r\n        },\r\n        'RL_ORTOFOTO_2013': {\r\n            label: 'AGEA: Ortofoto 2013',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\r\n        },\r\n        'RL_ORTOFOTO_2016': {\r\n            label: 'AGEA: Ortofoto 2016',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\r\n        },\r\n        'RL_CARTE_BASE': {\r\n            label: 'Carte di base regionali',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/sfondi_rl.jpg'\r\n        },\r\n        'OSM': {\r\n            label: 'OpenStreetMap',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/openstreetmap.png'\r\n        },\r\n        'ESRI_IMAGERY': {\r\n            label: 'ESRI Imagery',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\r\n        },\r\n        'ESRI_TOPOGRAPHIC': {\r\n            label: 'ESRI Topographic',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\r\n        },\r\n        'ESRI_GRAY': {\r\n            label: 'ESRI Gray',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\r\n        },\r\n        'ESRI_DARKGRAY': {\r\n            label: 'ESRI Dark Gray',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/esri.gif'\r\n        },\r\n        'MAPBOX_STREETS': {\r\n            label: 'Mapbox Streets',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'MAPBOX_SATELLITE': {\r\n            label: 'Mapbox Satellite',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'MAPBOX_OUTDOOR': {\r\n            label: 'Mapbox Outdoor',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'MAPBOX_LIGHT': {\r\n            label: 'Mapbox Light',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'STAMEN_TERRAIN': {\r\n            label: 'Stamen Terrain',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'STAMEN_TONER_LIGHT': {\r\n            label: 'Stamen Toner Light',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/mapbox.png'\r\n        },\r\n        'GOOGLE_ROADMAP': {\r\n            label: 'Google Stradario',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\r\n        },\r\n        'GOOGLE_HYBRID': {\r\n            label: 'Google Ibrido',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\r\n        },\r\n        'GOOGLE_TERRAIN': {\r\n            label: 'Google Terreno',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\r\n        },\r\n        'GOOGLE_SATELLITE': {\r\n            label: 'Google Satellite',\r\n            icon: 'http://srvcarto.regione.liguria.it/geoviewer/img/legend/google.png'\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/globals.js","import createElement from './createElement'\r\n\r\nexport default function (options) {\r\n  'use strict'\r\n  let { elId, vm, toggleEl } = options\r\n\r\n  const el = document.getElementById(elId)\r\n  // Flag toggleEl determina comportamento nel caso componente esiste già\r\n  // Se toggleEl=true e componente esiste già non lo sostituisco ma lo rendo visibile/invisibile\r\n  if (toggleEl && el) {\r\n    el.style.display = (el.style.display === 'none' || !el.style.display) ? 'block' : 'none'\r\n  } else {\r\n    const el = createElement(options)\r\n    vm.$mount(el)\r\n  }\r\n\r\n  return vm\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/mountComponent.js","import globals from '../globals'\r\nimport Vue from 'vue'\r\nimport mountComponent from '../util/mountComponent'\r\nimport parseXML from '../util/parseXML'\r\nimport getParamString from '../util/getParamString'\r\nimport getFeatureInfo from '../services/getFeatureInfo'\r\nimport getFeatureInfoMapserver from '../services/getFeatureInfoMapserver'\r\nimport getWFSFeature from '../services/getWFSFeature'\r\nimport getFeatureXSLT from '../services/getFeatureXSLT'\r\n// import startLoadingService from './util/startLoadingService'\r\n// import stopLoadingService from './util/stopLoadingService'\r\n\r\nvar _requestCount = 0\r\nvar _numRequests = 0\r\nvar _features = []\r\n\r\nfunction _request(e) {\r\n    GV.log('start info request: ' + new Date())\r\n\r\n    _requestCount = 0\r\n    _numRequests = 0\r\n    _features = []\r\n\r\n    // startLoadingService('Interrogazione livello...')\r\n\r\n    var buildWMSOptions = function(mapConfig, url, layers, latlng) {\r\n        const point = GV.app.map.latLngToContainerPoint(latlng, GV.app.map.getZoom())\r\n        const size = GV.app.map.getSize()\r\n        const bounds = GV.app.map.getBounds()\r\n        const sw = GV.app.map.options.crs.project(bounds.getSouthWest())\r\n        const ne = GV.app.map.options.crs.project(bounds.getNorthEast())\r\n        const infoFormat = mapConfig.flagGeoserver ? 'application/json' : 'application/vnd.ogc.gml'\r\n        const params = {\r\n            request: 'GetFeatureInfo',\r\n            service: 'WMS',\r\n            crs: 'EPSG:3857',\r\n            styles: '',\r\n            version: '1.3.0',\r\n            bbox: `${sw.x},${sw.y},${ne.x},${ne.y}`,\r\n            height: size.y,\r\n            width: size.x,\r\n            layers: layers,\r\n            query_layers: layers,\r\n            FEATURE_COUNT: 100,\r\n            buffer: 10,\r\n            //      format: infoFormat,\r\n            info_format: infoFormat,\r\n            i: point.x,\r\n            j: point.y,\r\n        }\r\n\r\n        return url + getParamString(params, url, true)\r\n    }\r\n\r\n    // Ciclo sulle mappe caricate\r\n    GV.config.maps.forEach(function(mapConfig) {\r\n        var url = null\r\n        var layersArray = []\r\n\r\n        // Ciclo sui layer caricati sulla mappa\r\n        mapConfig.layers.forEach(function(layerConfig) {\r\n            if (\r\n                layerConfig.idMap === mapConfig.id &&\r\n                layerConfig.type === 'WMS' &&\r\n                layerConfig.queryable &&\r\n                layerConfig.visible &&\r\n                GV.app.map.layerInRange(layerConfig)\r\n            ) {\r\n                url = layerConfig.wmsParams.url\r\n                url = globals.DEFAULT_PROXY + url\r\n                layersArray.push(layerConfig.wmsParams.name)\r\n            }\r\n        })\r\n\r\n        if (url && layersArray.length > 0) {\r\n            const layers = layersArray.join(',')\r\n            var wmsUrl = buildWMSOptions(mapConfig, url, layers, e.latlng)\r\n            _numRequests++\r\n            GV.app.map._container.style.cursor = 'progress'\r\n            if (mapConfig.flagGeoserver) {\r\n                getFeatureInfo(wmsUrl)\r\n                    .then(features => _handleResponse(features))\r\n                    .catch(error => console.error(error))\r\n            } else {\r\n                getFeatureInfoMapserver(wmsUrl)\r\n                    .then(features => _handleResponse(features))\r\n                    .catch(error => console.error(error))\r\n            }\r\n        } else {}\r\n    })\r\n}\r\n\r\nfunction _handleResponse(features) {\r\n    _requestCount++\r\n    features.forEach(function(feature) {\r\n        var layerName = feature.id.split('.')[0]\r\n        feature.layerName = layerName\r\n        feature.layer = GV.app.map.getLayerByName(layerName)\r\n            // TODO gestione attributi per livelli PostGIS\r\n        feature.properties = setFeatureProperties(layerName, feature.properties)\r\n        feature.label = setFeatureLabel(layerName, feature.properties)\r\n        feature.infoOptions = feature.layer.config.infoOptions\r\n    })\r\n    Array.prototype.push.apply(_features, features)\r\n    if (_requestCount === _numRequests) {\r\n        GV.app.map._container.style.cursor = 'default'\r\n\r\n        if (_features.length === 0) {\r\n            GV.log('Nessun elemento trovato')\r\n            return\r\n        }\r\n\r\n        if (_features.length === 1) {\r\n            var listDiv = document.getElementById('gv-info-wms-list')\r\n            if (listDiv) {\r\n                listDiv.parentNode.removeChild(listDiv)\r\n            }\r\n            _showFeatureInfo(_features[0])\r\n        } else {\r\n            mountComponent({\r\n                elId: 'gv-info-wms-list',\r\n                clear: true,\r\n                vm: new Vue({\r\n                    template: `<gv-info-wms-list :items=\"items\"></gv-info-wms-list>`,\r\n                    data: {\r\n                        items: _features,\r\n                    },\r\n                }),\r\n            })\r\n        }\r\n\r\n        GV.log('end info request: ' + new Date())\r\n            // stopLoadingService()\r\n    }\r\n\r\n    function setFeatureProperties(layerName, properties) {\r\n        const layerConfig = GV.app.map.getLayerByName(layerName).config\r\n        const newProperties = setProperties(properties, layerConfig.cachePostGIS)\r\n\r\n        // if (layerConfig.cachePostGIS) {\r\n        //   newProperties = upperProperties(properties)\r\n        // } else {\r\n        //   newProperties = properties\r\n        // }\r\n        return newProperties\r\n    }\r\n\r\n    function setProperties(props, postGis) {\r\n        var newProps = {}\r\n        for (var key in props) {\r\n            if (key !== 'bbox' && props.hasOwnProperty(key)) {\r\n                if (postGis) {\r\n                    newProps[key.toUpperCase()] = props[key]\r\n                } else {\r\n                    newProps[key] = props[key]\r\n                }\r\n            }\r\n        }\r\n        return newProps\r\n    }\r\n\r\n    function upperProperties(props) {\r\n        var newProps = {}\r\n        for (var key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                newProps[key.toUpperCase()] = props[key]\r\n            }\r\n        }\r\n        return newProps\r\n    }\r\n\r\n    function setFeatureLabel(layerName, attributes) {\r\n        var infoLabelAttr, infoIdAttr\r\n        infoLabelAttr = getField(layerName, 'infoLabelAttr')\r\n        infoIdAttr = getField(layerName, 'infoIdAttr')\r\n        if (infoLabelAttr && attributes[infoLabelAttr]) {\r\n            return attributes[infoLabelAttr]\r\n        }\r\n        if (infoIdAttr && attributes[infoIdAttr]) {\r\n            return attributes[infoIdAttr]\r\n        }\r\n        return attributes[getFirstAttribute(attributes)]\r\n    }\r\n\r\n    function getField(layerName, fieldName) {\r\n        var layerConfig = GV.app.map.getLayerByName(layerName).config\r\n        return layerConfig && layerConfig.infoOptions && layerConfig.infoOptions[fieldName] ? layerConfig.infoOptions[fieldName] : null\r\n    }\r\n\r\n    function getFirstAttribute(attributes) {\r\n        for (var i in attributes) {\r\n            if (attributes.hasOwnProperty(i) && typeof i !== 'function') {\r\n                return i\r\n            }\r\n        }\r\n        return null\r\n    }\r\n}\r\n\r\nfunction _showFeatureInfo(feature) {\r\n    var infoOptions = feature.infoOptions\r\n    var infoUrl = infoOptions.infoUrl\r\n    if (infoUrl.substr(infoUrl.length - 4) === '.xsl' || infoUrl.substr(infoUrl.length - 5) === '.xslt') {\r\n        // Gestione xsl\r\n        buildAndShowHtml(infoOptions, feature)\r\n    } else {\r\n        // Gestione html/asp\r\n        if (!infoOptions.infoTarget || infoOptions.infoTarget === 'panel') {\r\n            showPanel(infoUrl, null, infoOptions)\r\n        } else {\r\n            openPopup(infoUrl, null, infoOptions)\r\n        }\r\n    }\r\n\r\n    const layerName = [feature.layerName]\r\n    const layerConfig = feature.layer.config\r\n    const idAttr = layerConfig.cachePostGIS ? layerConfig.infoOptions.infoIdAttr.toLowerCase() : layerConfig.infoOptions.infoIdAttr\r\n    const cqlFilter = `${idAttr}=${feature.properties[layerConfig.infoOptions.infoIdAttr]}`\r\n\r\n    getWFSFeature(layerName, cqlFilter)\r\n        .then(features => {\r\n            const layer = GV.app.map.getLayerByName('InfoWmsHilite')\r\n            if (features && features[0] && features[0].geometry) {\r\n                layer.clearLayers()\r\n\r\n                layer.addData(features[0].geometry)\r\n                GV.app.map.fitBounds(layer.getBounds(), { maxZoom: 15 })\r\n                GV.app.map._container.style.cursor = 'default'\r\n                GV.config.hilitedLayer.push(layerName)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(error)\r\n        })\r\n\r\n    function buildAndShowHtml(infoOptions, data) {\r\n        // costruisco il gml in formato getFeatureInfo Mapserver\r\n        let xmlDoc = buildGml(data)\r\n        let { infoUrl, infoTarget } = infoOptions\r\n\r\n        getFeatureXSLT(infoUrl, data).then(xslDoc => {\r\n            // Aggiungo Nome Layer\r\n            Array.prototype.slice.call(xslDoc.getElementsByTagName('td')).forEach(function(value, index, ar) {\r\n                    if (value.id === 'Titolo') {\r\n                        value.textContent = data.layer.legend.label\r\n                        value.text = data.layer.legend.label\r\n                    }\r\n                })\r\n                // applico la trasformazione xslt\r\n            var result = xslTransform(xmlDoc, xslDoc)\r\n                // levo i caratteri di encoding %0A e %09 dai link\r\n                // result = result.replace(new RegExp('%0A', 'g'), '').replace(new RegExp('%09', 'g'), '').replace(new RegExp('%20', 'g'), '')\r\n                // visualizzo il risultato\r\n            if (!infoTarget || infoTarget === 'panel') {\r\n                showPanel(result, null, infoOptions)\r\n            } else {\r\n                openPopup(result, null, infoOptions)\r\n            }\r\n        })\r\n\r\n        // costruisce un documento GML in formato getFeatureInfo Mapserver\r\n        function buildGml(feature) {\r\n            try {\r\n                var baseXml =\r\n                    '<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><msGMLOutput xmlns:gml=\"http://www.opengis.net/gml\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"></msGMLOutput>'\r\n                var xmlDoc = parseXML(baseXml)\r\n                var layerName = `${feature.layerName}_layer`\r\n                var layerNode = xmlDoc.createElement(layerName)\r\n                var featureName = `${feature.layerName}_feature`\r\n                var featureNode = xmlDoc.createElement(featureName)\r\n                var attributes = feature.properties\r\n\r\n                for (var key in attributes) {\r\n                    if (attributes.hasOwnProperty(key) && key !== 'boundedBy') {\r\n                        var text = null\r\n                        if (attributes[key]) {\r\n                            text = xmlDoc.createTextNode(attributes[key])\r\n                        } else {\r\n                            text = xmlDoc.createTextNode('')\r\n                        }\r\n                        var attrNode = xmlDoc.createElement(key)\r\n                        attrNode.appendChild(text)\r\n                        featureNode.appendChild(attrNode)\r\n                    }\r\n                }\r\n                layerNode.appendChild(featureNode)\r\n                xmlDoc.documentElement.appendChild(layerNode)\r\n                return xmlDoc\r\n            } catch (exception) {\r\n                console.error(exception)\r\n            }\r\n        }\r\n\r\n        // trasformo xml in html applicando xslt\r\n        function xslTransform(xmlDoc, xslDoc) {\r\n            try {\r\n                if (window.XSLTProcessor) {\r\n                    var xsltProcessor = new XSLTProcessor()\r\n                    xsltProcessor.importStylesheet(xslDoc)\r\n                    var transformedDoc = xsltProcessor.transformToDocument(xmlDoc)\r\n                    return new XMLSerializer().serializeToString(transformedDoc)\r\n                } else {\r\n                    return xmlDoc.transformNode(xslDoc)\r\n                }\r\n            } catch (exception) {\r\n                console.error(exception)\r\n            }\r\n        }\r\n    }\r\n\r\n    // apre una panel div con un documento html\r\n    function showPanel(html, url, configOptions) {\r\n        if (html) {\r\n            mountComponent({\r\n                elId: 'gv-info-wms-html',\r\n                vm: new Vue({\r\n                    template: '<gv-info-wms-html :html=\"html\" :height=\"height\" :width=\"width\" :title=\"title\"></gv-info-wms-html>',\r\n                    data: {\r\n                        title: 'Risultato Info',\r\n                        html: html,\r\n                        width: configOptions.infoWidth || 400,\r\n                        height: configOptions.infoHeight || 400,\r\n                    },\r\n                }),\r\n            })\r\n        } else {\r\n            // TODO\r\n            // 1 - faccio request dell'html\r\n            // 2 - sostituisco variabile con valore - prerequisito: deve esistere un attributo con nome uguale alla variabile\r\n            // es: se infoUrl e' http://pippo/pluto.asp?id=${gid} deve esistere attributo \"gid\" in attributes della feature\r\n            // var infoUrl = OpenLayers.String.format(configOptions.infoUrl, data.attributes)\r\n            // 3 - creo il pannello html\r\n            // createHtmlPanel (html, configOptions)\r\n        }\r\n    }\r\n\r\n    function openPopup(html, url, options) {\r\n        var width = options.infoWidth || 400\r\n        var height = options.infoHeight || 500\r\n        var popup = window.open(url, '', `status=yes, toolbar=yes, menubar=no, width=${width}, height=${height}, resizable=yes, scrollbars=yes`)\r\n        popup.document.open()\r\n        popup.document.write(html)\r\n        popup.document.close()\r\n        popup.focus()\r\n    }\r\n}\r\n\r\nfunction addHiliteLayer(map) {\r\n    map.loadLayers([{\r\n        name: 'InfoWmsHilite',\r\n        type: 'JSON',\r\n        style: {\r\n            color: '#ffcc00',\r\n            fillOpacity: 0,\r\n            weight: 6,\r\n            opacity: 0.6,\r\n        },\r\n        pointToLayer: function(feature, latlng) {\r\n            return L.circleMarker(latlng, {\r\n                radius: 8,\r\n                color: '#ffcc00',\r\n                fillColor: '#ffcc00',\r\n                fill: true,\r\n                fillOpacity: 0.6,\r\n                weight: 6,\r\n                opacity: 0.6,\r\n            })\r\n        },\r\n        visible: true,\r\n    }, ])\r\n}\r\nexport default {\r\n    id: 'info-wms-manager',\r\n    active: false,\r\n    addHiliteLayer: addHiliteLayer,\r\n    activate: function() {\r\n        GV.log('GV.app.infoWmsManager.activate')\r\n\r\n        this.active = true\r\n        if (GV.app.map) {\r\n            addHiliteLayer(GV.app.map)\r\n        } else {\r\n            GV.eventBus.$on('gv-map-mounted', map => {\r\n                addHiliteLayer(map)\r\n            })\r\n        }\r\n        // Aggiungo layer per evidenziazione\r\n\r\n        // Disattivo eventuale bottone attivo\r\n        if (GV.config.activeButton && GV.config.activeButton.deactivate) {\r\n            GV.config.activeButton.deactivate()\r\n        }\r\n\r\n        // Attivo evento click\r\n        GV.eventBus.$on('map-click', event => {\r\n            if (this.active) {\r\n                _request(event)\r\n            }\r\n        })\r\n\r\n        GV.config.activeControl = this\r\n    },\r\n\r\n    deactivate: function() {\r\n        GV.log('GV.app.infoWmsManager.deactivate')\r\n        this.active = false\r\n    },\r\n\r\n    showFeatureInfo: _showFeatureInfo,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/controls/InfoWmsManager.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function getConfig(idMap, app = 'generico') {\r\n  if (!idMap || idMap === 'null') {\r\n    throw new Error('Parametro idMap mancante')\r\n  }\r\n\r\n  let url = idMap.startsWith('D') ? `${globals.RL_DYN_MAP_CONFIG_SERVICE}${idMap}?app=${app}` : `${globals.RL_MAP_CONFIG_SERVICE}${idMap}?app=${app}`\r\n\r\n  let params = {}\r\n\r\n  if (GV.config.geoserverUrl) {\r\n    params.geoserverUrl = GV.config.geoserverUrl\r\n  }\r\n\r\n  return axios.get(url, {\r\n    params: params,\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getConfig.js","\r\nimport axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function (idMap) {\r\n  let url = globals.RL_DOWNLOAD_CONFIG_SERVICE + idMap\r\n\r\n  return axios.get(url).then(response => response.data.data)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getDownloadConfig.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nfunction buildWFSUrl(layers, cqlFilter) {\r\n    const layerBaseConfig = GV.config.getLayerConfig(layers[0])\r\n    const wsName = `M${layerBaseConfig.idMap}`\r\n    const baseUrl = globals.DEFAULT_PROXY + layerBaseConfig.wfsParams.url.replace(`/${wsName}`, '') + 'service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson'\r\n\r\n    let types = []\r\n    layers.forEach(layer => {\r\n        const layerConfig = GV.config.getLayerConfig(layer)\r\n        types.push(`${wsName}:${layerConfig.wfsParams.typeName}`)\r\n    });\r\n    const typeName = types.join(',')\r\n\r\n    const url = `${baseUrl}&typeName=${typeName}&cql_filter=${cqlFilter}`\r\n    return url\r\n}\r\n\r\nexport default function getWFSFeature(layers, cqlFilter) {\r\n    const url = buildWFSUrl(layers, cqlFilter)\r\n    let params = {}\r\n    return axios.get(url, {\r\n        params: params\r\n    }).then(response => response.data.features)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getWFSFeature.js","import isBrowserIE from './isBrowserIE'\r\n\r\nexport default function parseXML (data) {\r\n  try {\r\n    let xml = null\r\n    if (isBrowserIE()) {\r\n      let xmlDoc = new ActiveXObject('Microsoft.XMLDOM')\r\n      xmlDoc.async = 'false'\r\n      xmlDoc.loadXML(data)\r\n      xml = xmlDoc\r\n    } else {\r\n      var parser = new DOMParser()\r\n      xml = parser.parseFromString(data, 'text/xml')\r\n    }\r\n    return xml\r\n  } catch (exception) {\r\n    console.error(exception)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/parseXML.js","import mountComponent from '../util/mountComponent'\r\nimport Vue from 'vue'\r\nVue.component('gv-coordinate-panel', () =>\r\n    import ('../components/Coordinate.vue'))\r\n\r\nconst Control = {\r\n    id: 'coordinate',\r\n    active: false,\r\n    latlng: null,\r\n    activate() {\r\n        GV.log('GV.controls.coordinate.activate')\r\n        this.active = true\r\n        this.openPanel()\r\n    },\r\n    deactivate() {\r\n        GV.log('GV.controls.coordinate.deactivate')\r\n        this.active = false\r\n        this.closePanel()\r\n    },\r\n    openPanel() {\r\n        mountComponent({\r\n            elId: 'gv-coordinate-panel',\r\n            containerId: GV.config.containerId,\r\n            toggleEl: true,\r\n            vm: new Vue({\r\n                template: `<gv-coordinate-panel></gv-coordinate-panel>`,\r\n            }),\r\n        })\r\n    },\r\n    closePanel() {\r\n        document.getElementById('gv-coordinate-panel').style.display = 'none'\r\n            //Hide del pannello\r\n    },\r\n}\r\n\r\nexport default Control\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/controls/Coordinate.js","export default {\r\n    methods: {\r\n        switchActiveButton() {\r\n            this.active = !this.active\r\n            if (this.active) {\r\n                if (GV.config.activeControl) {\r\n                    GV.config.activeControl.deactivate()\r\n                }\r\n                GV.config.activeControl = this.control\r\n                if (GV.config.activeButton && this.name !== GV.config.activeButton.name) {\r\n                    GV.config.activeButton.active = false\r\n                }\r\n                GV.config.activeButton = this\r\n                GV.config.activeButton.active = true\r\n                this.control.activate()\r\n            } else {\r\n                this.control.deactivate()\r\n            }\r\n        },\r\n    },\r\n    mounted: function() {\r\n        if (this.options && this.options.active) {\r\n            this.switchActiveButton()\r\n        }\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/mixins/SwitchActiveButton.js","\r\nimport axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function getCatalog (params = {}) {\r\n  let url = globals.RL_CATALOG_SERVICE\r\n  if (params.idMap) {\r\n    url += params.idMap\r\n  }\r\n\r\n  return axios.get(url, {\r\n    params: params\r\n  }).then(response => response.data.data)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getCatalog.js","import axios from 'axios'\r\n\r\nexport default function getConfig(url) {\r\n    let params = {}\r\n\r\n    return axios.get(url, {\r\n        params: params\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getGeoJSON.js",";(function(root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([], factory)\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory()\r\n  } else {\r\n    root.X2JS = factory()\r\n  }\r\n})(this, function() {\r\n  return function(config) {\r\n    'use strict'\r\n\r\n    var VERSION = '1.2.0'\r\n\r\n    config = config || {}\r\n    initConfigDefaults()\r\n    initRequiredPolyfills()\r\n\r\n    function initConfigDefaults() {\r\n      if (config.escapeMode === undefined) {\r\n        config.escapeMode = true\r\n      }\r\n\r\n      config.attributePrefix = config.attributePrefix || '_'\r\n      config.arrayAccessForm = config.arrayAccessForm || 'none'\r\n      config.emptyNodeForm = config.emptyNodeForm || 'text'\r\n\r\n      if (config.enableToStringFunc === undefined) {\r\n        config.enableToStringFunc = true\r\n      }\r\n      config.arrayAccessFormPaths = config.arrayAccessFormPaths || []\r\n      if (config.skipEmptyTextNodesForObj === undefined) {\r\n        config.skipEmptyTextNodesForObj = true\r\n      }\r\n      if (config.stripWhitespaces === undefined) {\r\n        config.stripWhitespaces = true\r\n      }\r\n      config.datetimeAccessFormPaths = config.datetimeAccessFormPaths || []\r\n\r\n      if (config.useDoubleQuotes === undefined) {\r\n        config.useDoubleQuotes = false\r\n      }\r\n\r\n      config.xmlElementsFilter = config.xmlElementsFilter || []\r\n      config.jsonPropertiesFilter = config.jsonPropertiesFilter || []\r\n\r\n      if (config.keepCData === undefined) {\r\n        config.keepCData = false\r\n      }\r\n    }\r\n\r\n    var DOMNodeTypes = {\r\n      ELEMENT_NODE: 1,\r\n      TEXT_NODE: 3,\r\n      CDATA_SECTION_NODE: 4,\r\n      COMMENT_NODE: 8,\r\n      DOCUMENT_NODE: 9,\r\n    }\r\n\r\n    function initRequiredPolyfills() {}\r\n\r\n    function getNodeLocalName(node) {\r\n      var nodeLocalName = node.localName\r\n      if (nodeLocalName == null)\r\n        // Yeah, this is IE!!\r\n        nodeLocalName = node.baseName\r\n      if (nodeLocalName == null || nodeLocalName == '')\r\n        // ==\"\" is IE too\r\n        nodeLocalName = node.nodeName\r\n      return nodeLocalName\r\n    }\r\n\r\n    function getNodePrefix(node) {\r\n      return node.prefix\r\n    }\r\n\r\n    function escapeXmlChars(str) {\r\n      if (typeof str == 'string')\r\n        return str\r\n          .replace(/&/g, '&amp;')\r\n          .replace(/</g, '&lt;')\r\n          .replace(/>/g, '&gt;')\r\n          .replace(/\"/g, '&quot;')\r\n          .replace(/'/g, '&apos;')\r\n      else return str\r\n    }\r\n\r\n    function unescapeXmlChars(str) {\r\n      return str\r\n        .replace(/&lt;/g, '<')\r\n        .replace(/&gt;/g, '>')\r\n        .replace(/&quot;/g, '\"')\r\n        .replace(/&apos;/g, \"'\")\r\n        .replace(/&amp;/g, '&')\r\n    }\r\n\r\n    function checkInStdFiltersArrayForm(stdFiltersArrayForm, obj, name, path) {\r\n      var idx = 0\r\n      for (; idx < stdFiltersArrayForm.length; idx++) {\r\n        var filterPath = stdFiltersArrayForm[idx]\r\n        if (typeof filterPath === 'string') {\r\n          if (filterPath == path) break\r\n        } else if (filterPath instanceof RegExp) {\r\n          if (filterPath.test(path)) break\r\n        } else if (typeof filterPath === 'function') {\r\n          if (filterPath(obj, name, path)) break\r\n        }\r\n      }\r\n      return idx != stdFiltersArrayForm.length\r\n    }\r\n\r\n    function toArrayAccessForm(obj, childName, path) {\r\n      switch (config.arrayAccessForm) {\r\n        case 'property':\r\n          if (!(obj[childName] instanceof Array)) obj[childName + '_asArray'] = [obj[childName]]\r\n          else obj[childName + '_asArray'] = obj[childName]\r\n          break\r\n        /*case \"none\":\r\n\t\t\t\t\tbreak;*/\r\n      }\r\n\r\n      if (!(obj[childName] instanceof Array) && config.arrayAccessFormPaths.length > 0) {\r\n        if (checkInStdFiltersArrayForm(config.arrayAccessFormPaths, obj, childName, path)) {\r\n          obj[childName] = [obj[childName]]\r\n        }\r\n      }\r\n    }\r\n\r\n    function fromXmlDateTime(prop) {\r\n      // Implementation based up on http://stackoverflow.com/questions/8178598/xml-datetime-to-javascript-date-object\r\n      // Improved to support full spec and optional parts\r\n      var bits = prop.split(/[-T:+Z]/g)\r\n\r\n      var d = new Date(bits[0], bits[1] - 1, bits[2])\r\n      var secondBits = bits[5].split('.')\r\n      d.setHours(bits[3], bits[4], secondBits[0])\r\n      if (secondBits.length > 1) d.setMilliseconds(secondBits[1])\r\n\r\n      // Get supplied time zone offset in minutes\r\n      if (bits[6] && bits[7]) {\r\n        var offsetMinutes = bits[6] * 60 + Number(bits[7])\r\n        var sign = /\\d\\d-\\d\\d:\\d\\d$/.test(prop) ? '-' : '+'\r\n\r\n        // Apply the sign\r\n        offsetMinutes = 0 + (sign == '-' ? -1 * offsetMinutes : offsetMinutes)\r\n\r\n        // Apply offset and local timezone\r\n        d.setMinutes(d.getMinutes() - offsetMinutes - d.getTimezoneOffset())\r\n      } else if (prop.indexOf('Z', prop.length - 1) !== -1) {\r\n        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()))\r\n      }\r\n\r\n      // d is now a local time equivalent to the supplied time\r\n      return d\r\n    }\r\n\r\n    function checkFromXmlDateTimePaths(value, childName, fullPath) {\r\n      if (config.datetimeAccessFormPaths.length > 0) {\r\n        var path = fullPath.split('.#')[0]\r\n        if (checkInStdFiltersArrayForm(config.datetimeAccessFormPaths, value, childName, path)) {\r\n          return fromXmlDateTime(value)\r\n        } else return value\r\n      } else return value\r\n    }\r\n\r\n    function checkXmlElementsFilter(obj, childType, childName, childPath) {\r\n      if (childType == DOMNodeTypes.ELEMENT_NODE && config.xmlElementsFilter.length > 0) {\r\n        return checkInStdFiltersArrayForm(config.xmlElementsFilter, obj, childName, childPath)\r\n      } else return true\r\n    }\r\n\r\n    function parseDOMChildren(node, path) {\r\n      if (node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {\r\n        var result = new Object()\r\n        var nodeChildren = node.childNodes\r\n        // Alternative for firstElementChild which is not supported in some environments\r\n        for (var cidx = 0; cidx < nodeChildren.length; cidx++) {\r\n          var child = nodeChildren.item(cidx)\r\n          if (child.nodeType == DOMNodeTypes.ELEMENT_NODE) {\r\n            var childName = getNodeLocalName(child)\r\n            result[childName] = parseDOMChildren(child, childName)\r\n          }\r\n        }\r\n        return result\r\n      } else if (node.nodeType == DOMNodeTypes.ELEMENT_NODE) {\r\n        var result = new Object()\r\n        result.__cnt = 0\r\n\r\n        var nodeChildren = node.childNodes\r\n\r\n        // Children nodes\r\n        for (var cidx = 0; cidx < nodeChildren.length; cidx++) {\r\n          var child = nodeChildren.item(cidx) // nodeChildren[cidx];\r\n          var childName = getNodeLocalName(child)\r\n\r\n          if (child.nodeType != DOMNodeTypes.COMMENT_NODE) {\r\n            var childPath = path + '.' + childName\r\n            if (checkXmlElementsFilter(result, child.nodeType, childName, childPath)) {\r\n              result.__cnt++\r\n              if (result[childName] == null) {\r\n                result[childName] = parseDOMChildren(child, childPath)\r\n                toArrayAccessForm(result, childName, childPath)\r\n              } else {\r\n                if (result[childName] != null) {\r\n                  if (!(result[childName] instanceof Array)) {\r\n                    result[childName] = [result[childName]]\r\n                    toArrayAccessForm(result, childName, childPath)\r\n                  }\r\n                }\r\n                result[childName][result[childName].length] = parseDOMChildren(child, childPath)\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // Attributes\r\n        for (var aidx = 0; aidx < node.attributes.length; aidx++) {\r\n          var attr = node.attributes.item(aidx) // [aidx];\r\n          result.__cnt++\r\n          result[config.attributePrefix + attr.name] = attr.value\r\n        }\r\n\r\n        // Node namespace prefix\r\n        var nodePrefix = getNodePrefix(node)\r\n        if (nodePrefix != null && nodePrefix != '') {\r\n          result.__cnt++\r\n          result.__prefix = nodePrefix\r\n        }\r\n\r\n        if (result['#text'] != null) {\r\n          result.__text = result['#text']\r\n          if (result.__text instanceof Array) {\r\n            result.__text = result.__text.join('\\n')\r\n          }\r\n          //if(config.escapeMode)\r\n          //\tresult.__text = unescapeXmlChars(result.__text);\r\n          if (config.stripWhitespaces) result.__text = result.__text.trim()\r\n          delete result['#text']\r\n          if (config.arrayAccessForm == 'property') delete result['#text_asArray']\r\n          result.__text = checkFromXmlDateTimePaths(result.__text, childName, path + '.' + childName)\r\n        }\r\n        if (result['#cdata-section'] != null) {\r\n          result.__cdata = result['#cdata-section']\r\n          delete result['#cdata-section']\r\n          if (config.arrayAccessForm == 'property') delete result['#cdata-section_asArray']\r\n        }\r\n\r\n        if (result.__cnt == 0 && config.emptyNodeForm == 'text') {\r\n          result = ''\r\n        } else if (result.__cnt == 1 && result.__text != null) {\r\n          result = result.__text\r\n        } else if (result.__cnt == 1 && result.__cdata != null && !config.keepCData) {\r\n          result = result.__cdata\r\n        } else if (result.__cnt > 1 && result.__text != null && config.skipEmptyTextNodesForObj) {\r\n          if ((config.stripWhitespaces && result.__text == '') || result.__text.trim() == '') {\r\n            delete result.__text\r\n          }\r\n        }\r\n        delete result.__cnt\r\n\r\n        if (config.enableToStringFunc && (result.__text != null || result.__cdata != null)) {\r\n          result.toString = function() {\r\n            return (this.__text != null ? this.__text : '') + (this.__cdata != null ? this.__cdata : '')\r\n          }\r\n        }\r\n\r\n        return result\r\n      } else if (node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {\r\n        return node.nodeValue\r\n      }\r\n    }\r\n\r\n    function startTag(jsonObj, element, attrList, closed) {\r\n      var resultStr = '<' + (jsonObj != null && jsonObj.__prefix != null ? jsonObj.__prefix + ':' : '') + element\r\n      if (attrList != null) {\r\n        for (var aidx = 0; aidx < attrList.length; aidx++) {\r\n          var attrName = attrList[aidx]\r\n          var attrVal = jsonObj[attrName]\r\n          if (config.escapeMode) attrVal = escapeXmlChars(attrVal)\r\n          resultStr += ' ' + attrName.substr(config.attributePrefix.length) + '='\r\n          if (config.useDoubleQuotes) resultStr += '\"' + attrVal + '\"'\r\n          else resultStr += \"'\" + attrVal + \"'\"\r\n        }\r\n      }\r\n      if (!closed) resultStr += '>'\r\n      else resultStr += '/>'\r\n      return resultStr\r\n    }\r\n\r\n    function endTag(jsonObj, elementName) {\r\n      return '</' + (jsonObj.__prefix != null ? jsonObj.__prefix + ':' : '') + elementName + '>'\r\n    }\r\n\r\n    function endsWith(str, suffix) {\r\n      return str.indexOf(suffix, str.length - suffix.length) !== -1\r\n    }\r\n\r\n    function jsonXmlSpecialElem(jsonObj, jsonObjField) {\r\n      if (\r\n        (config.arrayAccessForm == 'property' && endsWith(jsonObjField.toString(), '_asArray')) ||\r\n        jsonObjField.toString().indexOf(config.attributePrefix) == 0 ||\r\n        jsonObjField.toString().indexOf('__') == 0 ||\r\n        jsonObj[jsonObjField] instanceof Function\r\n      )\r\n        return true\r\n      else return false\r\n    }\r\n\r\n    function jsonXmlElemCount(jsonObj) {\r\n      var elementsCnt = 0\r\n      if (jsonObj instanceof Object) {\r\n        for (var it in jsonObj) {\r\n          if (jsonXmlSpecialElem(jsonObj, it)) continue\r\n          elementsCnt++\r\n        }\r\n      }\r\n      return elementsCnt\r\n    }\r\n\r\n    function checkJsonObjPropertiesFilter(jsonObj, propertyName, jsonObjPath) {\r\n      return (\r\n        config.jsonPropertiesFilter.length == 0 ||\r\n        jsonObjPath == '' ||\r\n        checkInStdFiltersArrayForm(config.jsonPropertiesFilter, jsonObj, propertyName, jsonObjPath)\r\n      )\r\n    }\r\n\r\n    function parseJSONAttributes(jsonObj) {\r\n      var attrList = []\r\n      if (jsonObj instanceof Object) {\r\n        for (var ait in jsonObj) {\r\n          if (ait.toString().indexOf('__') == -1 && ait.toString().indexOf(config.attributePrefix) == 0) {\r\n            attrList.push(ait)\r\n          }\r\n        }\r\n      }\r\n      return attrList\r\n    }\r\n\r\n    function parseJSONTextAttrs(jsonTxtObj) {\r\n      var result = ''\r\n\r\n      if (jsonTxtObj.__cdata != null) {\r\n        result += '<![CDATA[' + jsonTxtObj.__cdata + ']]>'\r\n      }\r\n\r\n      if (jsonTxtObj.__text != null) {\r\n        if (config.escapeMode) result += escapeXmlChars(jsonTxtObj.__text)\r\n        else result += jsonTxtObj.__text\r\n      }\r\n      return result\r\n    }\r\n\r\n    function parseJSONTextObject(jsonTxtObj) {\r\n      var result = ''\r\n\r\n      if (jsonTxtObj instanceof Object) {\r\n        result += parseJSONTextAttrs(jsonTxtObj)\r\n      } else if (jsonTxtObj != null) {\r\n        if (config.escapeMode) result += escapeXmlChars(jsonTxtObj)\r\n        else result += jsonTxtObj\r\n      }\r\n\r\n      return result\r\n    }\r\n\r\n    function getJsonPropertyPath(jsonObjPath, jsonPropName) {\r\n      if (jsonObjPath === '') {\r\n        return jsonPropName\r\n      } else return jsonObjPath + '.' + jsonPropName\r\n    }\r\n\r\n    function parseJSONArray(jsonArrRoot, jsonArrObj, attrList, jsonObjPath) {\r\n      var result = ''\r\n      if (jsonArrRoot.length == 0) {\r\n        result += startTag(jsonArrRoot, jsonArrObj, attrList, true)\r\n      } else {\r\n        for (var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {\r\n          result += startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false)\r\n          result += parseJSONObject(jsonArrRoot[arIdx], getJsonPropertyPath(jsonObjPath, jsonArrObj))\r\n          result += endTag(jsonArrRoot[arIdx], jsonArrObj)\r\n        }\r\n      }\r\n      return result\r\n    }\r\n\r\n    function parseJSONObject(jsonObj, jsonObjPath) {\r\n      var result = ''\r\n\r\n      var elementsCnt = jsonXmlElemCount(jsonObj)\r\n\r\n      if (elementsCnt > 0) {\r\n        for (var it in jsonObj) {\r\n          if (\r\n            jsonXmlSpecialElem(jsonObj, it) ||\r\n            (jsonObjPath != '' && !checkJsonObjPropertiesFilter(jsonObj, it, getJsonPropertyPath(jsonObjPath, it)))\r\n          )\r\n            continue\r\n\r\n          var subObj = jsonObj[it]\r\n\r\n          var attrList = parseJSONAttributes(subObj)\r\n\r\n          if (subObj == null || subObj == undefined) {\r\n            result += startTag(subObj, it, attrList, true)\r\n          } else if (subObj instanceof Object) {\r\n            if (subObj instanceof Array) {\r\n              result += parseJSONArray(subObj, it, attrList, jsonObjPath)\r\n            } else if (subObj instanceof Date) {\r\n              result += startTag(subObj, it, attrList, false)\r\n              result += subObj.toISOString()\r\n              result += endTag(subObj, it)\r\n            } else {\r\n              var subObjElementsCnt = jsonXmlElemCount(subObj)\r\n              if (subObjElementsCnt > 0 || subObj.__text != null || subObj.__cdata != null) {\r\n                result += startTag(subObj, it, attrList, false)\r\n                result += parseJSONObject(subObj, getJsonPropertyPath(jsonObjPath, it))\r\n                result += endTag(subObj, it)\r\n              } else {\r\n                result += startTag(subObj, it, attrList, true)\r\n              }\r\n            }\r\n          } else {\r\n            result += startTag(subObj, it, attrList, false)\r\n            result += parseJSONTextObject(subObj)\r\n            result += endTag(subObj, it)\r\n          }\r\n        }\r\n      }\r\n      result += parseJSONTextObject(jsonObj)\r\n\r\n      return result\r\n    }\r\n\r\n    this.parseXmlString = function(xmlDocStr) {\r\n      var isIEParser = window.ActiveXObject || 'ActiveXObject' in window\r\n      if (xmlDocStr === undefined) {\r\n        return null\r\n      }\r\n      var xmlDoc\r\n      if (window.DOMParser) {\r\n        var parser = new window.DOMParser()\r\n        var parsererrorNS = null\r\n        // IE9+ now is here\r\n        if (!isIEParser) {\r\n          try {\r\n            parsererrorNS = parser.parseFromString('INVALID', 'text/xml').getElementsByTagName('parsererror')[0].namespaceURI\r\n          } catch (err) {\r\n            parsererrorNS = null\r\n          }\r\n        }\r\n        try {\r\n          xmlDoc = parser.parseFromString(xmlDocStr, 'text/xml')\r\n          if (parsererrorNS != null && xmlDoc.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0) {\r\n            //throw new Error('Error parsing XML: '+xmlDocStr);\r\n            xmlDoc = null\r\n          }\r\n        } catch (err) {\r\n          xmlDoc = null\r\n        }\r\n      } else {\r\n        // IE :(\r\n        if (xmlDocStr.indexOf('<?') == 0) {\r\n          xmlDocStr = xmlDocStr.substr(xmlDocStr.indexOf('?>') + 2)\r\n        }\r\n        xmlDoc = new ActiveXObject('Microsoft.XMLDOM')\r\n        xmlDoc.async = 'false'\r\n        xmlDoc.loadXML(xmlDocStr)\r\n      }\r\n      return xmlDoc\r\n    }\r\n\r\n    this.asArray = function(prop) {\r\n      if (prop === undefined || prop == null) return []\r\n      else if (prop instanceof Array) return prop\r\n      else return [prop]\r\n    }\r\n\r\n    this.toXmlDateTime = function(dt) {\r\n      if (dt instanceof Date) return dt.toISOString()\r\n      else if (typeof dt === 'number') return new Date(dt).toISOString()\r\n      else return null\r\n    }\r\n\r\n    this.asDateTime = function(prop) {\r\n      if (typeof prop == 'string') {\r\n        return fromXmlDateTime(prop)\r\n      } else return prop\r\n    }\r\n\r\n    this.xml2json = function(xmlDoc) {\r\n      return parseDOMChildren(xmlDoc)\r\n    }\r\n\r\n    this.xml_str2json = function(xmlDocStr) {\r\n      var xmlDoc = this.parseXmlString(xmlDocStr)\r\n      if (xmlDoc != null) return this.xml2json(xmlDoc)\r\n      else return null\r\n    }\r\n\r\n    this.json2xml_str = function(jsonObj) {\r\n      return parseJSONObject(jsonObj, '')\r\n    }\r\n\r\n    this.json2xml = function(jsonObj) {\r\n      var xmlDocStr = this.json2xml_str(jsonObj)\r\n      return this.parseXmlString(xmlDocStr)\r\n    }\r\n\r\n    this.getVersion = function() {\r\n      return VERSION\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/X2JS.js","export default function getParamString (obj, existingUrl, uppercase) {\r\n  var params = []\r\n  for (var i in obj) {\r\n    params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]))\r\n  }\r\n  return ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getParamString.js","export default function getUrlParam (paramName) {\r\n  var results = new RegExp('[\\\\?&]' + paramName + '=([^&#]*)').exec(window.location.href)\r\n  return results ? decodeURIComponent(results[1]) : null\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getUrlParam.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-4512c626&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Title.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Title.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-4512c626!vue-loader/lib/selector?type=template&index=0!./Title.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-4512c626\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Title.vue\n// module id = 171\n// module chunks = 12","<template>\n    <div id=\"gv-container\">\n        <gv-header v-if=\"showHeader\"></gv-header>\n        <gv-map v-if=\"leafletMap\" ref=\"gv-map\"></gv-map>\n        <gv-legend v-if=\"showLegend\" ref=\"gv-legend\"></gv-legend>\n        <div class=\"gv-tool-container\">\n          <div id=\"gv-tool-topleft\" class=\"gv-tool-top gv-tool-left\"/>\n          <div id=\"gv-tool-topright\" class=\"gv-tool-top gv-tool-right\" />\n          <div id=\"gv-tool-bottomleft\" class=\"gv-tool-bottom gv-tool-left\" />\n          <div id=\"gv-tool-bottomright\" class=\"gv-tool-bottom gv-tool-right\" />\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport isTouch from '../util/isTouch'\nimport getProtocol from '../util/getProtocol'\nimport mountComponent from '../util/mountComponent'\nimport Vue from 'vue'\n\n// Componenti Vue\nimport Map from './Map'\nVue.component('gv-map', Map)\nimport Legend from './Legend'\nVue.component('gv-legend', Legend)\nimport Header from './Header'\nVue.component('gv-header', Header)\nimport Title from './Title'\nVue.component('gv-title', Title)\n\n// Componenti lazy\n// Vue.component('gv-map', () => import(/* webpackChunkName: \"Map\" */ './Map.vue'))\nVue.component('gv-iframe-panel', () => import(/* webpackChunkName: \"iFrame\" */ './IFrame.vue'))\nVue.component('gv-info-wms-list', () => import(/* webpackChunkName: \"InfoWmsList\" */ './InfoWmsList.vue'))\nVue.component('gv-info-wms-html', () => import(/* webpackChunkName: \"InfoWmsHtml\" */ './InfoWmsHtml.vue'))\n\nexport default {\n  name: 'gv-app',\n  data() {\n    let mapType = 'leaflet'\n    if (GV.config.application.mapOptions && GV.config.application.mapOptions.type) {\n      mapType = GV.config.application.mapOptions.type\n    }\n    return {\n      leafletMap: mapType === 'leaflet',\n      showHeader: GV.config.application.layout.header,\n      showLegend: GV.config.application.layout.legend,\n      showToolbar: GV.config.application.layout.toolbar,\n    }\n  },\n  created() {\n    GV.log('gv-app: created')\n    GV.app = this\n  },\n  mounted() {\n    GV.log('gv-app: mounted')\n\n    this.addTools(GV.config.application.layout.tools)\n\n    GV.eventBus.$emit('gv-app-mounted', this)\n  },\n  methods: {\n    addTools() {\n      if (GV.config.application.layout.tools) {\n        var tools = GV.config.application.layout.tools\n        tools.forEach(item => {\n          const position = item.position || 'topleft'\n          item.options = item.options || {}\n          this.addTool(item, position)\n        })\n      }\n    },\n    addTool(item, position) {\n      GV.tools.forEach(tool => {\n        if (item.name === tool.name) {\n          const itemId = item.name\n          GV.log('gv-app: addTool -> ' + itemId)\n          if (item.active) item.options.active = true\n          const props = item.options.props\n            ? item.options.props\n                .map(prop => {\n                  return `${Object.keys(prop)[0]}='${Object.values(prop)[0]}'`\n                })\n                .join(' ')\n            : ''\n\n          const containerId = 'gv-tool-' + position\n          mountComponent({\n            containerId: containerId,\n            elId: itemId,\n            vm: new Vue({\n              template: `<${itemId} ${props}></${itemId}>`,\n            }),\n            toggleEl: false,\n          })\n        }\n      })\n    },\n  },\n}\n</script>\n\n\n<style>\n\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?4b582347","<template>\r\n  <div class=\"atlante-geochimico gv-color-scheme\" >\r\n    <!-- <span class=\"label\">Selezione Livello</span> -->\r\n    <el-select placeholder=\"Seleziona Livello\" v-model=\"livello\" size=\"mini\" filterable @change=\"onChange\">\r\n        <el-option v-for=\"item in livelli\" :key=\"item.codice\"  :value=\"item.codice\" :label=\"item.nome\" >\r\n        </el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Select, Option } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\nimport getLivelli from '../services/getAtlanteGeochimicoLivelli'\r\nimport getLayerConfig from '../services/getLayerConfig'\r\nimport mountComponent from '../util/mountComponent'\r\n\r\nVue.component('gv-multi-legend-panel', () => import('./MultiLegendPanel.vue'))\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      livello: null,\r\n      livelli: [],\r\n    }\r\n  },\r\n  methods: {\r\n    onChange(value) {\r\n      getLayerConfig(value, null, true).then(layersConfig => {\r\n        this.loadLayer(layersConfig[0])\r\n        this.showLegend(layersConfig[0])\r\n      })\r\n    },\r\n    loadLayer(layerConfig) {\r\n      layerConfig.visible = true\r\n      const idMap = layerConfig.idMap\r\n      GV.config.removeMap(idMap)\r\n      GV.config.addMapConfig({\r\n        id: idMap,\r\n        flagGeoserver: true,\r\n        layers: [layerConfig],\r\n      })\r\n    },\r\n    showLegend(layerConfig) {\r\n      mountComponent({\r\n        elId: 'gv-multi-legend-panel',\r\n        containerId: GV.config.containerId,\r\n        clear: true,\r\n        vm: new Vue({\r\n          template: `<gv-multi-legend-panel \r\n            visible=\"true\" \r\n            src=\"${layerConfig.wmsParams.url}LAYER=${layerConfig.name}&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&\" \r\n            height=\"120\" \r\n            width=\"250\" \r\n            :title=\"false\"  \r\n            noClose=\"true\">\r\n            </gv-multi-legend-panel>`,\r\n        }),\r\n      })\r\n    },\r\n  },\r\n  mounted: function() {\r\n    getLivelli().then(livelli => {\r\n      this.livelli = livelli\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.atlante-geochimico {\r\n  width: 250px;\r\n  z-index: 800;\r\n  padding: 10px;\r\n}\r\n.label {\r\n  display: inline-block;\r\n  width: 120px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// AtlanteGeochimicoLivelli.vue?296760ea","<template>\r\n    <el-select v-model=\"activeBaseLayer\" @change=\"onChange\" size=\"mini\" placeholder=\"Sfondo\">\r\n        <el-option v-for=\"item in baseLayers\" :label=\"item.label\" :value=\"item.name\" :key=\"item.name\">\r\n            <span style=\"float: left\">\r\n                <img class=\"gv-sfondi-icon\" :src=\"item.icon\" />\r\n                <span class=\"gv-sfondi-label\">{{ item.label }}</span>\r\n            </span>\r\n        </el-option>\r\n    </el-select>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { Select, Option } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\n\r\nexport default {\r\n  name: 'gv-base-layer-switcher',\r\n  data() {\r\n    return {\r\n      baseLayers: GV.config.baseLayers,\r\n      activeBaseLayer: GV.config.getActiveBaseLayer().name,\r\n    }\r\n  },\r\n  methods: {\r\n    onChange(value) {\r\n      GV.eventBus.$emit('change-base-layer', {\r\n        layer: value,\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    GV.baseLayerSwitcher = this\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gv-sfondi-label {\r\n  vertical-align: top;\r\n}\r\n\r\n.gv-sfondi-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: thin solid black;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// BaseLayerSwitcher.vue?96d87234","<template>\r\n        <el-select\r\n            v-model=\"address\"\r\n            filterable\r\n            clearable\r\n            remote\r\n            size=\"mini\"\r\n            placeholder=\"Ricerca Indirizzo...\"\r\n            :remote-method=\"remoteMethod\"\r\n            @change=\"onChange\"\r\n            :loading=\"loading\"\r\n            loading-text=\"Caricamento... \"\r\n            no-match-text=\"Nessun indirizzo trovato\"\r\n            no-data-text=\"Nessun indirizzo trovato\"\r\n            class=\"gv-geocoder\"\r\n            id=\"gv-geocoder\"\r\n        >\r\n            <el-option\r\n                class=\"gv-geocoder-options\"\r\n                v-for=\"item in results\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n        </el-select>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport geocoder from '../services/getHereGeocode'\r\n\r\nimport Vue from 'vue'\r\nimport { Select, Option } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      results: [],\r\n      address: [],\r\n      loading: false,\r\n      marker: null,\r\n    }\r\n  },\r\n  methods: {\r\n    remoteMethod(query) {\r\n      if (query.length < 4) {\r\n        this.results = []\r\n        return\r\n      }\r\n      this.loading = true\r\n      geocoder(query)\r\n        .then(results => {\r\n          this.loading = false\r\n          if (results && results.length > 0) {\r\n            this.results = results.map(result => ({\r\n              label: result.formatted_address,\r\n              value: result.place_id,\r\n              location: result.geometry.location,\r\n            }))\r\n          } else {\r\n            this.results = []\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.loading = false\r\n          console.error(error)\r\n        })\r\n    },\r\n    onChange(value) {\r\n      const result = this.results.find(item => item.value === value)\r\n      if (result) {\r\n        this.marker = GV.app.map.addMarker(result)\r\n      } else {\r\n        if (this.marker) {\r\n          GV.app.map.removeLayer(this.marker)\r\n        }\r\n      }\r\n    },\r\n  },\r\n  mounted: function() {},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gv-geocoder {\r\n  margin-right: 10px;\r\n  width: 180px;\r\n}\r\n@media only screen and (max-width: 540px) {\r\n  .gv-geocoder {\r\n    width: 140px;\r\n  }\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Geocoder.vue?b9754bb2","<template>\r\n        <div id=\"gv-header\" :style=\"style\">\r\n          <slot></slot>\r\n        </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'gv-header',\r\n  computed: {\r\n    style() { return `height:${GV.config.application.layout.header.height}`}\r\n  },\r\n  mounted() {\r\n    this.$el.innerHTML=GV.config.application.layout.header.html\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Header.vue?173047e2","<template>\r\n    <div v-html=\"html\"></div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'gv-inner-html',\r\n  props: ['html'],\r\n  data() {\r\n    return {\r\n      // html: '<div class=\"gv-color-scheme\" id=\"logo\"></div>'\r\n    }\r\n  },\r\n  methods: {},\r\n  mounted: function() {},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// InnerHtml.vue?09504e5b","<template>\r\n    <div id=\"gv-legend\" class=\"gv-inverted-color-scheme\">\r\n        <div class=\"gv-legend-title gv-color-scheme\">\r\n            <b>LEGENDA</b> \r\n            <!-- <el-button class=\"gv-legend-close\" type=\"button\" icon=\"el-icon-close\" size=\"mini\" @click=\"hideLegend\"></el-button> -->\r\n        <button :class=\"toggleCollapseClass()\" size=\"mini\" @click=\"hideLegend\" title=\"Minimizza Panello\"></button>\r\n\r\n            <el-button id=\"gv-legend-add-map\" title=\"Aggiungi Mappe\" v-show=\"options.showAddMap\" @click=\"addMap\" class=\"gv-color-scheme gv-legend-buttons ms ms-layers-add\" size=\"mini\" />\r\n        </div>\r\n        <div id=\"gv-legend-wrapper\" class=\"gv-legend-wrapper\">\r\n            <div id=\"gv-legend-body\">\r\n                <!-- MAPPE -->\r\n                <ul v-for=\"map in maps\" class=\"gv-list-group\" :key=\"map.id\">\r\n                    <div class=\"gv-list-legend-map-item gv-inverted-color-scheme\">\r\n                        <li>\r\n                            {{map.name}}\r\n                        </li>\r\n                        <div class=\"gv-legend-map-tools gv-inverted-color-scheme\">\r\n                            <el-button title=\"Nascondi/Mostra Livelli in Legenda\" @click=\"toggleLayers(map)\" :class=\"getToggleLayersClass(map)\" size=\"mini\"></el-button>\r\n                            <el-button :id=\"'gv-legend-scheda-'+map.id\" title=\"Visualizza Scheda\" v-if=\"checkAddMap(map)\" @click=\"showMapInfoPanel(map)\" class=\"gv-inverted-color-scheme gv-legend-map-tools-button\" icon=\"el-icon-document\" size=\"mini\"></el-button>\r\n                            <el-button :id=\"'gv-legend-delete-'+map.id\" title=\"Elimina Mappa\" v-if=\"!options.noDeleteButton\" @click=\"remove(map)\" class=\"gv-inverted-color-scheme gv-legend-map-tools-button\" icon=\"el-icon-delete\" size=\"mini\"></el-button>\r\n                            <el-button title=\"Trasparenza Livelli\" v-if=\"options.showLayersTransparency\" @click=\"layerTransparency(map)\" class=\"gv-inverted-color-scheme gv-legend-map-tools-button fa fa-sliders\" size=\"mini\"></el-button>\r\n                            <el-button :id=\"'gv-legend-download-'+map.id\" title=\"Download Mappa\" v-if=\"isDownloadable(map)\" @click=\"download(map)\" class=\"gv-inverted-color-scheme gv-legend-map-tools-button\" icon=\"el-icon-download\" size=\"mini\"></el-button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- LIVELLI -->\r\n                    <ul class=\"gv-list-group\" v-show=\"showMapLayers(map)\" >\r\n                        <li :id=\"'gv-legend-layer-'+layer.id\" v-for=\"layer in map.layers\" :layer=\"layer\" :class=\"getClass(layer)\" :key=\"layer.id\">\r\n                            <img class=\"gv-legend-layer-icon\" :src=\"iconUrl(layer)\" @click=\"showLegendPanel(layer)\">\r\n                            <span class=\"gv-layer-visibility-span\"><input type=\"checkbox\" class=\"gv-layer-visibility-cb\" v-model=\"layer.visible\" @click=\"setLayerVisible(layer, $event)\"></span>\r\n                            <span class=\"gv-layer-title-span\">{{layer.legend.label}}</span>\r\n                        </li>\r\n                    </ul>\r\n                </ul>\r\n            </div>\r\n            <div class=\"gv-legend-footer gv-inverted-color-scheme\">\r\n                <gv-base-layer-switcher ref=\"gv-base-layer-switcher\" v-if=\"options.showBaseLayerSwitcher\"></gv-base-layer-switcher>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n'use strict'\r\nimport Vue from 'vue'\r\nimport mountComponent from '../util/mountComponent'\r\n\r\nimport BaseLayerSwitcher from './BaseLayerSwitcher.vue'\r\nVue.component('gv-base-layer-switcher', BaseLayerSwitcher)\r\n\r\nVue.component('gv-map-info-panel', () => import('./MapInfoPanel.vue'))\r\nVue.component('gv-multi-legend-panel', () => import('./MultiLegendPanel.vue'))\r\nVue.component('gv-map-catalog-panel', () => import('./MapCatalogPanel.vue'))\r\nVue.component('gv-layers-transparency', () => import('./LayersTransparency.vue'))\r\nVue.component('gv-map-download', () => import('./Download.vue'))\r\n\r\nimport { Select, Option, Button } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\nVue.use(Button)\r\n\r\nexport default {\r\n  name: 'gv-legend',\r\n  data() {\r\n    return {\r\n      baseLayers: GV.config.baseLayers,\r\n      maps: GV.config.maps,\r\n      options: GV.config.application.layout.legend.options,\r\n      show: true,\r\n    }\r\n  },\r\n  mounted() {\r\n    GV.log('gv-legend: mounted')\r\n    GV.legend = this\r\n    if (this.options.showAddMap) {\r\n      const showMapCatalogPanel = GV.config.idMap ? false : true\r\n      GV.config.loadCatalog({ showMapCatalogPanel: showMapCatalogPanel })\r\n    }\r\n    if (this.options.showDownloadPanelOnLoad) {\r\n      GV.eventBus.$on('config-add-download', config => {\r\n        if (config.id == GV.config.idMap) {\r\n            this.openDownloadPanel(config.id)\r\n        } \r\n      })      \r\n    }\r\n    if (this.options.collapsed) {\r\n      this.hideLegend()\r\n    }\r\n    \r\n  },\r\n  methods: {\r\n    showMapLayers(map) {\r\n      return map.showLayersInLegend\r\n    },\r\n    toggleLayers(map) {\r\n      map.showLayersInLegend = !map.showLayersInLegend\r\n    },\r\n    toggleCollapseClass() {\r\n      return this.show ? 'gv-legend-collapse gv-color-scheme el-icon-arrow-down' : 'gv-legend-collapse gv-color-scheme el-icon-arrow-up'\r\n    },\r\n    getToggleLayersClass(map) {\r\n      return map.showLayersInLegend\r\n        ? 'gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-up'\r\n        : 'gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-down'\r\n    },\r\n    isDownloadable(map) {\r\n      if (map && map.metaData) {\r\n        return map.metaData.flag_download\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    checkAddMap(map) {\r\n      return this.options.showAddMap && GV.config.getMapConfig(map.id).metaData\r\n    },\r\n    hideLegend: function(event) {\r\n      if (this.show) {\r\n        document.getElementById('gv-legend-wrapper').style.display = 'none'\r\n        document.getElementById('gv-legend').style.width = '180px'\r\n      } else {\r\n        document.getElementById('gv-legend-wrapper').style.display = 'block'\r\n        document.getElementById('gv-legend').style.width = '260px'\r\n      }\r\n      this.show = !this.show\r\n    },\r\n    showMapInfoPanel: function(map) {\r\n      GV.config.schedaInfoCartografia = GV.config.getMapConfig(map.id).metaData\r\n      mountComponent({\r\n        elId: 'gv-map-info-panel',\r\n        containerId: GV.config.containerId,\r\n        clear: true,\r\n        vm: new Vue({\r\n          template: `<gv-map-info-panel visible=\"true\" idMap=\"${map.id}\"></gv-map-info-panel>`,\r\n        }),\r\n      })\r\n    },\r\n    remove: function(map) {\r\n      GV.config.removeMap(map.id)\r\n    },\r\n    download(map) {\r\n      // if (this.options.useDownloadPanel) {\r\n        this.openDownloadPanel(map.id)\r\n      // } else {\r\n      //   window.open(map.metaData.link_download)\r\n      // }\r\n    },\r\n    openDownloadPanel(idMap) {\r\n        if (document.getElementById('gv-map-download')) {\r\n          const element = document.getElementById('gv-map-download')\r\n          element.parentNode.removeChild(element);\r\n        }\r\n        const closeWindow = this.options.downloadPanelCloseMode === 'closeWindow'\r\n        mountComponent({\r\n          elId: 'gv-map-download',\r\n          containerId: GV.config.containerId,\r\n          toggleEl: false,\r\n          vm: new Vue({\r\n            template: `<gv-map-download idMap=\"${idMap}\" closeWindow=\"${closeWindow}\"></gv-map-download>`,\r\n          }),\r\n        })\r\n\r\n    },\r\n    addMap: function() {\r\n      mountComponent({\r\n        elId: 'gv-map-catalog-panel',\r\n        containerId: GV.config.containerId,\r\n        toggleEl: true,\r\n        vm: new Vue({\r\n          template: `<gv-map-catalog-panel></gv-map-catalog-panel>`,\r\n        }),\r\n      })\r\n    },\r\n    layerTransparency: function(map) {\r\n      mountComponent({\r\n        elId: 'gv-layers-transparency',\r\n        containerId: GV.config.containerId,\r\n        toggleEl: false,\r\n        vm: new Vue({\r\n          template: `<gv-layers-transparency idMap=\"${map.id}\"></gv-layers-transparency>`,\r\n        }),\r\n      })\r\n    },\r\n    iconUrl: function(layer) {\r\n      return layer.legend.icon\r\n    },\r\n    getClass: function(layer) {\r\n      return layer.inRange ? 'gv-list-legend-layer-item' : 'gv-list-legend-layer-item gv-list-legend-layer-disabled-item'\r\n    },\r\n    setLayerVisible: function(layer, event) {\r\n      GV.eventBus.$emit('set-layer-visible', {\r\n        layer: layer,\r\n        checked: event.currentTarget.checked,\r\n      })\r\n    },\r\n    showLegendPanel: function(layer) {\r\n      if (layer.inRange && (layer.multiClasse || layer.legend.popUpFlag)) {\r\n        var url = null,\r\n          html = null,\r\n          width,\r\n          height\r\n        if (layer.legend.popUpUrl && layer.legend.popUpFlag) {\r\n          // se impostato attributo legendPopupUrl apro una finestra con il documento\r\n          url = layer.legend.popUpUrl\r\n          width = window.matchMedia('(max-width: 620px)').matches ? 400 : 600\r\n          height = window.matchMedia('(max-height: 620px)').matches ? 400 : 600\r\n        } else if (layer.multiClasse) {\r\n          // se livello multiclasse apro una finestra con la legenda dei livelli multiclasse\r\n          if (layer.flagGeoserver) {\r\n            url = `${layer.wmsParams.url}LAYER=${layer.name}&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&`\r\n            width = window.matchMedia('(max-width: 450px)').matches ? 300 : 400\r\n            height = 350\r\n          } else {\r\n            var classes = layer.classes\r\n            html = '<table width=100% border=0>'\r\n            classes.forEach(function(cls) {\r\n              html += '<tr>'\r\n              html += '<td width=30><img src=\"' + cls.legendIcon + '\"></td>'\r\n              html += '<td >' + cls.legendLabel + '</td>'\r\n              html += '</tr>'\r\n            })\r\n            html += '</table>'\r\n          }\r\n        }\r\n        mountComponent({\r\n          elId: 'gv-multi-legend-panel',\r\n          containerId: GV.config.containerId,\r\n          vm: new Vue({\r\n            template: `<gv-multi-legend-panel visible=\"true\" :src=\"src\" :html=\"html\" :height=\"height\" :width=\"width\" :title=\"title\"></gv-multi-legend-panel>`,\r\n            data: {\r\n              title: `LEGENDA - ${layer.legend.label}`,\r\n              src: url,\r\n              html: html,\r\n              width: width,\r\n              height: height,\r\n            },\r\n          }),\r\n        })\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<<style>\r\n#gv-legend {\r\n  position: relative;\r\n  float: right;\r\n  right: 0;\r\n  top: 0;\r\n  margin-right: 10px;\r\n  margin-top: 10px;\r\n  width: 260px;\r\n  z-index: 800;\r\n  max-height: 430px;\r\n}\r\n\r\n.gv-legend-collapse {\r\n  cursor: pointer;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  font-size: 14px;\r\n  margin-top: 3px;\r\n  opacity: 1;\r\n}\r\n\r\n.gv-legend-title :focus {\r\n  outline: -webkit-focus-ring-color auto 0px; \r\n}\r\n\r\n.gv-legend-title {\r\n  position: relative;\r\n  display: block;\r\n  padding-top: 0.3rem;\r\n  padding-bottom: 0.3rem;\r\n  padding-right: 0rem;\r\n  padding-left: 0.5rem;  \r\n  margin-bottom: -1px;\r\n  color: #ccc;\r\n  cursor: default;\r\n  font-weight: bold;\r\n  font-family: 'Raleway', Arial, sans-serif !important;\r\n  font-size: 14px;\r\n}\r\n\r\n.gv-legend-title span {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.gv-legend-close {\r\n  cursor: pointer;\r\n  background: transparent;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  font-size: 14px;\r\n  background-color: #24386c !important;\r\n  color: #ccc !important;\r\n  opacity: 1;\r\n}\r\n\r\n.gv-legend-buttons {\r\n  cursor: pointer;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  line-height: 1;\r\n  font-size: 14px !important;\r\n}\r\n\r\n.gv-list-group {\r\n  padding-left: 0;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  background-color: #fff;\r\n  width: 260px;\r\n}\r\n\r\n.gv-list-legend-layer-item {\r\n  position: relative;\r\n  display: block;\r\n  padding-left: 0.3rem;\r\n  margin-bottom: -2px;\r\n  margin-top: -2px;\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.gv-list-legend-layer-disabled-item {\r\n  opacity: 0.3;\r\n  filter: alpha(opacity=30);\r\n}\r\n\r\n.gv-legend-layer-icon {\r\n  padding-top: 3px;\r\n}\r\n\r\n.gv-legend-layer-icon img {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.gv-legend-map-tools {\r\n  position: relative;\r\n  padding-top: 2px;\r\n  padding-bottom: 2px;\r\n  width: 260px;\r\n}\r\n\r\n.gv-list-legend-map-item {\r\n  position: relative;\r\n  display: block;\r\n  padding: 0.1rem 0.5rem;\r\n  margin-bottom: -1px;\r\n  border: 1px solid #ddd;\r\n  font-size: 13px;\r\n  font-weight: bold;\r\n}\r\n\r\n.gv-legend-map-tools-button {\r\n  position: relative;\r\n  right: 0;\r\n  bottom: 0;\r\n  font-size: 14px;\r\n  /* color: #24386C !important;\r\n  background-color: #CCC !important;\r\n  border-color: #CCC !important; */\r\n  padding: 2px 2px;\r\n}\r\n\r\n.gv-legend-map-tools span {\r\n  font-family: 'Raleway', Arial, sans-serif !important;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.gv-layer-visibility-span {\r\n  position: absolute;\r\n  top: 16%;\r\n  left: 29px;\r\n}\r\n\r\n.gv-layer-title-span {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 55px;\r\n  margin-top: -7px;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 180px;\r\n}\r\n\r\n.gv-legend-footer {\r\n  display: block;\r\n  padding: 0.3rem 0.5rem;\r\n  margin-bottom: -1px;\r\n  cursor: default;\r\n}\r\n\r\n#gv-legend-title {\r\n  height: 30px;\r\n}\r\n\r\n#gv-legend-body {\r\n  width: 260px;\r\n  max-height: 400px;\r\n  cursor: default;\r\n  overflow: hidden;\r\n}\r\n\r\n#gv-legend-body:hover {\r\n  overflow-y: scroll;\r\n}\r\n\r\n@media (max-height: 500px) {\r\n  #gv-legend-body {\r\n    overflow-y: scroll;\r\n    max-height: 200px;\r\n  }\r\n}\r\n\r\n#gv-legend-wrapper {\r\n  display: block;\r\n}\r\n\r\n.el-input__suffix {\r\n  right: 25px;\r\n  transition: all 0.3s;\r\n  pointer-events: none;\r\n  color: #24386c;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Legend.vue?32cde09c","<template>\r\n    <div id=\"gv-map\" :style=\"style\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Map from '../leaflet/Map.js'\r\nimport InfoWmsManager from '../controls/InfoWmsManager'\r\nimport Coordinate from '../controls/Coordinate'\r\n\r\nconst events = [\r\n  'click',\r\n  'dblclick',\r\n  'mousedown',\r\n  'mouseup',\r\n  'mouseover',\r\n  'mouseout',\r\n  'mousemove',\r\n  'contextmenu',\r\n  'focus',\r\n  'blur',\r\n  'preclick',\r\n  'load',\r\n  'unload',\r\n  'viewreset',\r\n  'movestart',\r\n  'move',\r\n  'moveend',\r\n  'dragstart',\r\n  'drag',\r\n  'dragend',\r\n  'zoomstart',\r\n  'zoomend',\r\n  'zoomanim',\r\n  'zoomlevelschange',\r\n  'resize',\r\n  'autopanstart',\r\n  'layeradd',\r\n  'layerremove',\r\n  'baselayerchange',\r\n  'overlayadd',\r\n  'overlayremove',\r\n  'locationfound',\r\n  'locationerror',\r\n  'popupopen',\r\n  'popupclose',\r\n]\r\n\r\nexport default {\r\n  name: 'gv-map',\r\n  data() {\r\n    const height = document.documentElement.clientHeight\r\n    return {\r\n      style: `height:${height}px`,\r\n      map: null\r\n    }\r\n  },\r\n  mounted() {\r\n    // if (GV.config.application.mapOptions.type === 'leaflet') {}\r\n    GV.app.map = new Map() \r\n    this.map = GV.app.map\r\n    \r\n    this.registerMapEvents()\r\n\r\n    this.subscribeConfigEvents()\r\n\r\n    window.addEventListener('resize', this.handleResize)\r\n    this.handleResize()\r\n\r\n    if (GV.config.application.mapOptions && GV.config.application.mapOptions.click) {\r\n      switch (GV.config.application.mapOptions.click) {\r\n        case 'info':\r\n          InfoWmsManager.activate()\r\n          break\r\n        case 'coordinate':\r\n          Coordinate.activate()\r\n          break\r\n      }\r\n    }\r\n\r\n    GV.log('gv-map: mounted')\r\n    GV.eventBus.$emit('gv-map-mounted', GV.app.map)\r\n  },\r\n  methods: {\r\n    handleResize(event) {\r\n      const height = document.documentElement.clientHeight - document.getElementById('gv-map').getBoundingClientRect().top\r\n      this.style = `height:${height}px`\r\n    },\r\n    registerMapEvents() {\r\n      events.forEach(eventName => {\r\n        const exposedName = 'map-' + eventName\r\n        GV.app.map.on(eventName, ev => {\r\n          GV.eventBus.$emit(exposedName, ev)\r\n        })\r\n      })\r\n    },\r\n    subscribeConfigEvents() {\r\n      // Ascolto evento config-add-map e aggiungo layer alla mappa\r\n      GV.eventBus.$on('config-add-map', ev => {\r\n        const mapConfig = ev.config\r\n        // Aggiungo livelli alla mappa\r\n        GV.app.map.loadLayers(mapConfig.layers)\r\n        GV.app.map.loadLayers(mapConfig.layers)\r\n        //gestione extent\r\n        if (mapConfig.extent_3857) {\r\n          GV.app.map.setExtent(mapConfig.extent_3857)\r\n        }\r\n      })\r\n      // Ascolto evento config-remove-map e levo layer alla mappa\r\n      GV.eventBus.$on('config-remove-map', ev => {\r\n        const mapConfig = ev.config\r\n        // Levo i livelli dalla mappa\r\n        mapConfig.layers.forEach(layerConfig => {\r\n          const layer = GV.app.map.getLayerByName(layerConfig.name)\r\n          if (layer) {\r\n            GV.app.map.removeLayer(layer)\r\n          }\r\n        })\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#gv-map {\r\n  position: absolute;\r\n  width: 100%;\r\n  margin-top: 0px;\r\n  z-index: 1;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Map.vue?04477858","<template>\r\n    <div id=\"gv-scalebar\" class=\"scalebar\">\r\n        <el-select v-model=\"value\" size=\"mini\" placeholder=\"\" @change=\"onChange\" >\r\n            <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n            </el-option>\r\n        </el-select>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n\r\nimport Vue from 'vue'\r\nimport { Select, Option } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            options: [{\r\n                value: 8,\r\n                label: '1:1.600.000'\r\n            }, {\r\n                value: 9,\r\n                label: '1:800.000'\r\n            }, {\r\n                value: 10,\r\n                label: '1:400.000'\r\n            }, {\r\n                value: 11,\r\n                label: '1:200.000'\r\n            }, {\r\n                value: 12,\r\n                label: '1:100.000'\r\n            }, {\r\n                value: 13,\r\n                label: '1:50.000'\r\n            }, {\r\n                value: 14,\r\n                label: '1:25.000'\r\n            }, {\r\n                value: 15,\r\n                label: '1:12.000'\r\n            }, {\r\n                value: 16,\r\n                label: '1:6.000'\r\n            }, {\r\n                value: 17,\r\n                label: '1:3.000'\r\n            }, {\r\n                value: 18,\r\n                label: '1:1.500'\r\n            }, {\r\n                value: 19,\r\n                label: '1:800'\r\n            }, {\r\n                value: 20,\r\n                label: '1:400'\r\n            }],\r\n            value: 9\r\n        }\r\n    },\r\n    methods: {\r\n        onChange(value) {\r\n            GV.app.map.setZoom(value)\r\n        }\r\n    },\r\n    mounted: function() {\r\n        var me = this\r\n        GV.eventBus.$on('map-zoom', function(zoom) {\r\n            me.value = zoom\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped >\r\n.scalebar {\r\n    height: 26px;\r\n    width: 180px;\r\n    z-index: 800;\r\n    display: inline-block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Scalebar.vue?fc09fe14","<template>\r\n    <div id=\"gv-search\" class=\"gv-search\">\r\n        <el-select\r\n            id=\"gv-seach-input\"\r\n            v-model=\"address\"\r\n            filterable\r\n            clearable\r\n            remote\r\n            size=\"mini\"\r\n            placeholder=\"Ricerca...\"\r\n            :remote-method=\"search\"\r\n            @change=\"onChange\"\r\n            :loading=\"loading\"\r\n            loading-text=\"Caricamento... \"\r\n            no-match-text=\"Nessun elemento trovato\"\r\n            no-data-text=\"Nessun elemento trovato\"\r\n        >\r\n            <el-option\r\n                v-for=\"item in results\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n        </el-select>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Select, Option } from 'element-ui'\r\nVue.use(Select)\r\nVue.use(Option)\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      results: [],\r\n      address: [],\r\n      recordsCache: {},\r\n      layers: null,\r\n      cachedLayers: [],\r\n      propertyName: null,\r\n      loading: false,\r\n      marker: null,\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.layers = GV.config.getToolOptions('gv-search').layers\r\n    this.propertyName = GV.config.getToolOptions('gv-search').propertyName\r\n  },\r\n  methods: {\r\n    search(query) {\r\n      this.results = []\r\n      if (query.length < 4) {\r\n        return\r\n      }\r\n      const results = this.filterData(query)\r\n\r\n      if (Object.keys(results).length > 0) {\r\n        Object.keys(results).forEach((key, index) => {\r\n          this.results.push({\r\n            label: key,\r\n            value: key,\r\n            location: results[key],\r\n          })\r\n        })\r\n      } else {\r\n        this.results = []\r\n      }\r\n    },\r\n    filterData(text) {\r\n      let frecords = {}\r\n      text = text.replace(/[*+?^${}()|[\\]\\\\]/g, '')\r\n      if (text === '') {\r\n        return []\r\n      }\r\n      this.layers.forEach(sLayer => {\r\n        GV.app.map.eachLayer(layer => {\r\n          if (layer.name === sLayer) {\r\n            if (layer instanceof L.LayerGroup) {\r\n              layer.eachLayer(m => {\r\n                let loc = m.getLatLng()\r\n                loc.layer = m\r\n                const key = m.feature.properties[this.propertyName]\r\n                if(new RegExp(text, 'i').test(key)) {\r\n                  frecords[key] = loc\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n      })\r\n      return frecords\r\n    },\r\n    onChange(value) {\r\n      let marker = this.results.find(item => item.value === value)\r\n      if (marker) {\r\n        marker.type = 'circle'\r\n        marker.zoomLevel = 16\r\n        this.marker = GV.app.map.addMarker(marker)\r\n      } else {\r\n        if (this.marker) {\r\n          GV.app.map.removeLayer(this.marker)\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.gv-search {\r\n  height: 32px;\r\n  width: 250px;\r\n  z-index: 800;\r\n  margin-top: 5px;\r\n  display: inline-block;\r\n}\r\n.el-select {\r\n  width: 250px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Search.vue?163713bb","<template>\r\n    <div class=\"gv-panel-title gv-color-scheme\">\r\n        <span :title=\"fullTitle\" class=\"gv-color-scheme\">\r\n            {{title}}\r\n        </span>\r\n        <el-button v-if=\"!noClose\" class=\"gv-close gv-color-scheme\" icon=\"el-icon-close\"  type=\"button\" @click=\"closePanel\" title=\"Chiudi Panello\"></el-button>\r\n        <button v-if=\"collapsible\" :class=\"toggleCollapseClass()\" size=\"mini\" @click=\"collapse\" title=\"Minimizza Panello\"></button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  name: 'gv-title',\r\n  props: ['divId', 'title', 'fullTitle', 'hide', 'noClose', 'collapsible', 'width'],\r\n  data() {\r\n    return {\r\n      collapsed: false,\r\n    }\r\n  },\r\n  methods: {\r\n    closePanel: function() {\r\n      let div = document.getElementById(this.divId)\r\n      if (div) {\r\n        this.hide ? (div.style.display = 'none') : div.parentNode.removeChild(div)\r\n      }\r\n    },\r\n    collapse: function() {\r\n      if (this.collapsed) {\r\n        document.getElementById(this.collapsible).style.display = 'block'\r\n      } else {\r\n        document.getElementById(this.collapsible).style.display = 'none'\r\n      }\r\n      this.collapsed = !this.collapsed\r\n    },\r\n    toggleCollapseClass() {\r\n      return this.collapsed ? 'gv-title-collapse gv-color-scheme el-icon-arrow-down' : 'gv-title-collapse gv-color-scheme el-icon-arrow-up'\r\n    },\r\n  },\r\n  mounted: function() {\r\n    this.$el.id = this.divId + '-title'\r\n    if (this.width) {\r\n      this.$el.style.width = this.width\r\n      // console.log(this.$el.style)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gv-panel-title {\r\n  position: relative;\r\n  display: block;\r\n  padding: 0.3rem 0.5rem;\r\n  margin-bottom: -1px;\r\n  color: #ccc;\r\n  font-weight: bold;\r\n}\r\n\r\n.gv-panel-title :focus {\r\n  outline: -webkit-focus-ring-color auto 0px; \r\n}\r\n\r\n.gv-panel-title span {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  height: 20px;\r\n}\r\n\r\n.gv-title-collapse {\r\n  cursor: pointer;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  font-size: 14px;\r\n  margin-right: -4px;\r\n  margin-top: 3px;\r\n  opacity: 1;\r\n}\r\n\r\n.gv-close {\r\n  padding: 0;\r\n  cursor: pointer;\r\n  background: transparent;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  font-size: 1rem;\r\n  line-height: 1;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  margin-left: 5px;\r\n  margin-right: 3px;\r\n  margin-top: 3px;\r\n  opacity: 0.5;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Title.vue?7a072889","<template>\r\n            <button id=\"gv-button-add-map\" title=\"Aggiungi Mappe\" @click=\"onClick\" :class=\"setClass()\"/> \r\n</template>\r\n\r\n<script>\r\nimport mountComponent from '../../util/mountComponent'\r\n\r\nimport Vue from 'vue'\r\nimport { Button } from 'element-ui'\r\nVue.use(Button)\r\n\r\nVue.component('gv-map-catalog-panel', () => import('../MapCatalogPanel.vue'))\r\n\r\nconst name = 'gv-add-map-button'\r\n\r\nexport default {\r\n  name: name,\r\n  data() {\r\n    const options = GV.config.getButtonOptions(name)\r\n    \r\n    return {\r\n      active: false,\r\n      options: options,\r\n      cssClass: 'gv-add-map gv-button fa fa-plus-square-o',\r\n      cssActiveClass: 'gv-button-selected',\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onClick() {\r\n      mountComponent({\r\n        elId: 'gv-map-catalog-panel',\r\n        containerId: GV.config.containerId,\r\n        toggleEl: true,\r\n        vm: new Vue({\r\n          template: `<gv-map-catalog-panel></gv-map-catalog-panel>`,\r\n        }),\r\n      })\r\n    },\r\n    setClass() {\r\n      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass\r\n    },\r\n  },\r\n  mounted: function() {},\r\n}\r\n</script>\r\n\r\n<style>\r\n.gv-add-map {\r\n  font-size: 12px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// AddMap.vue?53efe959","<template>\r\n            <button title=\"Acquisizione Coordinate\" @click=\"onClick\" :class=\"setClass()\" />\r\n</template>\r\n\r\n<script>\r\nimport SwitchActiveButton from '../../mixins/SwitchActiveButton'\r\nimport Control from '../../controls/Coordinate'\r\n\r\nconst name = 'gv-coordinate-button'\r\n\r\nexport default {\r\n  name: name,\r\n  data() {\r\n    const options = GV.config.getToolOptions(name)\r\n    return {\r\n      name: name,\r\n      active: false,\r\n      control: Control,\r\n      options: options,\r\n      cssClass: 'gv-button fa fa-hand-o-down',\r\n      cssActiveClass: 'gv-button-selected',\r\n    }\r\n  },\r\n  mixins: [SwitchActiveButton],\r\n  methods: {\r\n    onClick() {\r\n      this.switchActiveButton()\r\n      // console.log(this.options)\r\n    },\r\n    setClass() {\r\n      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass\r\n    },\r\n  },\r\n  mounted: function() {\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Coordinate.vue?1c8489b6","<template>\r\n            <button title=\"Info sui livelli della mappa\" @click=\"onClick\" :class=\"setClass()\" />\r\n</template>\r\n\r\n<script>\r\nimport SwitchActiveButton from '../../mixins/SwitchActiveButton'\r\n\r\nimport Control from '../../controls/InfoWmsManager'\r\n\r\nconst name = 'gv-info-button'\r\n\r\nexport default {\r\n  name: name,\r\n  data() {\r\n    const options = GV.config.getToolOptions(name)\r\n    return {\r\n      name: name,\r\n      active: false,\r\n      control: Control,\r\n      options: options,\r\n      cssClass: 'gv-button fa fa-info',\r\n      cssActiveClass: 'gv-button-selected'\r\n    }\r\n  },\r\n  mixins: [SwitchActiveButton],\r\n  methods: {\r\n    onClick() {\r\n      this.switchActiveButton()\r\n    },\r\n    setClass() {\r\n      return (this.active)? this.cssClass + ' ' + this.cssActiveClass : this.cssClass\r\n    },\r\n  },\r\n  mounted() {\r\n\r\n    this.active = this.options.active\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Info.vue?736a0e90","<template>\r\n            <button title=\"Ricerca sui Livelli\" @click=\"onClick\" :class=\"setClass()\"/> \r\n            <!-- fa fa-plus-circle -->\r\n</template>\r\n\r\n<script>\r\nimport mountComponent from '../../util/mountComponent'\r\n\r\nimport Vue from 'vue'\r\nimport { Button } from 'element-ui'\r\nVue.use(Button)\r\n\r\nVue.component('gv-layer-search', () => import('../LayerSearch.vue'))\r\n\r\nconst name = 'gv-layer-search-button'\r\n\r\nexport default {\r\n  name: name,\r\n  data() {\r\n    const options = GV.config.getButtonOptions(name)\r\n    \r\n    return {\r\n      active: false,\r\n      options: options,\r\n      cssClass: 'gv-layer-search-button gv-button fa fa-search',\r\n      cssActiveClass: 'gv-button-selected',\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onClick() {\r\n      \r\n      mountComponent({\r\n        elId: 'gv-layer-search',\r\n        containerId: GV.config.containerId,\r\n        toggleEl: true,\r\n        vm: new Vue({\r\n          template: `<gv-layer-search></gv-layer-search>`,\r\n        }),\r\n      })\r\n    },\r\n    setClass() {\r\n      return this.active ? this.cssClass + ' ' + this.cssActiveClass : this.cssClass\r\n    },\r\n  },\r\n  mounted: function() {},\r\n}\r\n</script>\r\n\r\n<style>\r\n.gv-layer-search-button {\r\n  font-size: 12px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// LayerSearch.vue?67a3f144","import Vue from 'vue'\nimport globals from './globals'\nimport getConfig from './services/getConfig'\nimport getCatalog from './services/getCatalog'\nimport getEnti from './services/getEnti'\nimport mountComponent from './util/mountComponent'\nimport { Notification } from 'element-ui'\nimport getDownloadConfig from './services/getDownloadConfig'\n\nexport default {\n    _lastZIndex: 21,\n    debug: false,\n    containerId: 'gv-container',\n    idMap: null,\n    title: null,\n    findOptions: null,\n    geoserverUrl: null,\n    application: {},\n    baseLayers: [{ type: 'ESRI_IMAGERY', visible: true }],\n    maps: [],\n    hilitedLayer: [],\n\n    init(options) {\n        if (!options) {\n            throw new Error('Opzioni di inizializzazione non impostate!')\n        }\n\n        this.debug = options.debug\n        this.idMap = options.idMap\n        this.findOptions = options.findOptions\n\n        this.geoserverUrl = options.geoserverUrl\n        if (options.application) {\n            this.application = options.application\n        }\n        if (options.containerId) {\n            this.containerId = options.containerId\n        }\n\n        this.application.layout = options.application && options.application.layout ? options.application.layout : {}\n\n        if (options.application) {\n            this.application.proxy = options.application.proxy || globals.DEFAULT_PROXY\n        }\n        if (options.application && options.application.layout && options.application.layout.title) {\n            this.title = options.application.layout.title\n        }\n\n        // Gestione BaseLayers\n        this.baseLayers = options.baseLayers\n        this.baseLayers.forEach(layer => {\n            layer.name = layer.type\n            layer.label = globals.BASE_LAYERS[layer.type].label\n            layer.icon = globals.BASE_LAYERS[layer.type].icon\n        })\n\n        if (options.idMap) {\n            const callback = options.application ? options.application.callback : null\n            const idMaps = options.idMap.split(',')\n            this.initLoadingMaps = idMaps.length\n            this.initLoadedMaps = 0\n\n            idMaps.forEach((id) => {\n                this.addRlMap(id, true)\n            })\n            GV.eventBus.$on('gv-config-init', app => {\n                if (this.application && this.application.callback) {\n                    this.application.callback(app)\n                }\n            })\n\n        } else {\n            GV.eventBus.$on('gv-app-mounted', app => {\n                options.maps.forEach(mapConfig => {\n                    this.addMapConfig(mapConfig)\n                })\n                if (this.application && this.application.callback) {\n                    this.application.callback(app)\n                }\n            })\n        }\n\n        GV.eventBus.$on('map-zoom', event => {\n            var layers = this.getAllLayersConfig()\n            layers.forEach(layer => {\n                this.setLayerAttribute(layer.name, 'inRange', GV.app.map.layerInRange(layer))\n            })\n        })\n    },\n\n    addMapConfig(mapConfig) {\n        mapConfig.layers.forEach(layer => {\n            layer.minScale = layer.minScale === 0 ? 591657550 : layer.minScale\n            layer.inRange = GV.app && GV.app.map ? GV.app.map.layerInRange(layer) : true\n            layer.opacityBase100 = layer.opacity * 100\n            layer.zIndex = this._lastZIndex++\n        })\n        mapConfig.layers.reverse()\n\n        if (mapConfig.addLayerConfig && this.getMapConfig(mapConfig.id)) {\n            mapConfig.layers.forEach(layer => this.getMapConfig(mapConfig.id).layers.push(layer))\n        } else {\n            if (this.getMapConfig(mapConfig.id)) {\n                return\n            }\n            if (mapConfig.ancillaryMaps) {\n                mapConfig.ancillaryMaps.forEach(map => this.addMapConfig(map))\n            }\n            mapConfig.showLayersInLegend = true\n            this.maps.unshift(mapConfig)\n        }\n\n        GV.eventBus.$emit('config-add-map', { config: mapConfig })\n    },\n\n    setLayerAttribute(layerName, attribute, value) {\n        this.maps.forEach(function(map) {\n            let layers = map.layers\n            layers.forEach(function(layer) {\n                if (layer.name === layerName) {\n                    layer[attribute] = value\n                }\n            })\n        })\n    },\n\n    removeMap(idMap) {\n        const mapConfig = this.getMapConfig(idMap)\n\n        if (!mapConfig) return\n\n        GV.eventBus.$emit('config-remove-map', {\n            config: mapConfig,\n        })\n\n        const index = this.maps.findIndex(function(map) {\n            return map.id === idMap\n        })\n        if (index > -1) {\n            this.maps.splice(index, 1)\n        }\n    },\n\n    removeLayer(idLayer) {\n        this.maps.forEach(map => {\n            let layerIndex = -1\n            map.layers.forEach(function(layer, index) {\n                if (layer.name === idLayer) {\n                    layerIndex = index\n                }\n            })\n            if (layerIndex > -1) {\n                map.layers.splice(layerIndex, 1)\n            }\n            if (map.layers.length === 0) {\n                this.removeMap(map.id)\n            }\n        })\n        GV.eventBus.$emit('config-remove-layer', {\n            config: idLayer,\n        })\n    },\n\n    addRlMap(idMap, setBaseLayer) {\n        if (this.getMapConfig(idMap)) {\n            return this.getMapConfig(idMap)\n        }\n\n        getConfig(idMap)\n            .then(response => {\n                if (!response.data.success) {\n                    throw new Error('Errore Caricamento Mappa: ' + response.data.message)\n                }\n                if (!response.data.data) {\n                    throw new Error('Errore Caricamento Mappa: configurazione non trovata')\n                }\n\n                const mapConfig = response.data.data\n\n                // Aggiorno array delle mappe\n                this.addMapConfig(mapConfig)\n                if (GV.app && GV.app.map && mapConfig.type && mapConfig.type == 'R' && setBaseLayer && this.getBaseLayerConfig('BLANK')) {\n                    GV.app.map.changeBaseLayer('BLANK')\n                    if (GV.baseLayerSwitcher)\n                        GV.baseLayerSwitcher.activeBaseLayer = 'BLANK'\n                }\n\n                // Aggiorno layer base\n                if (mapConfig.activeBaseLayer) {\n                    GV.app.map.changeBaseLayer(mapConfig.activeBaseLayer)\n                    if (GV.baseLayerSwitcher)\n                        GV.baseLayerSwitcher.activeBaseLayer = mapConfig.activeBaseLayer\n                }\n\n                if (GV.config.findOptions) {\n                    GV.app.map.find(GV.config.findOptions)\n                }\n\n                // Gestione callback\n                this.initLoadedMaps = this.initLoadedMaps + 1\n                if (this.initLoadingMaps === this.initLoadedMaps) {\n                    GV.eventBus.$emit('gv-config-init', GV.app)\n                }\n\n                if (mapConfig.metaData.flag_download) {\n                    getDownloadConfig(idMap).then(resp => {\n                        this.maps.forEach(map => {\n                            if (map.id.toString() === idMap) {\n                                map.downloadConfig = resp\n                                GV.eventBus.$emit('config-add-download', mapConfig)\n                            }\n                        })\n                    })\n                }\n\n                return mapConfig\n            })\n            .catch(error => {\n                console.error(error)\n                Notification.error({\n                    title: 'Attenzione',\n                    type: 'error',\n                    duration: 5000,\n                    offset: 70,\n                    message: error.message,\n                })\n            })\n    },\n\n    loadCatalog(params) {\n        getCatalog().then(data => {\n            this.catalog = this.catalogFull = data.children\n            getEnti().then(data => {\n                this.enti = data\n                if (params.showMapCatalogPanel) {\n                    // Mount Pannello\n                    mountComponent({\n                        elId: 'gv-map-catalog-panel',\n                        toggleEl: false,\n                        vm: new Vue({\n                            template: `<gv-map-catalog-panel></gv-map-catalog-panel>`,\n                        }),\n                    })\n                }\n            })\n        })\n    },\n\n    getAllLayersConfig() {\n        let layers = []\n        this.maps.forEach(function(map) {\n            map.layers.forEach(function(layer) {\n                layers.push(layer)\n            })\n        })\n        return layers\n    },\n\n    getLayersNameByMapId(idMap) {\n        if (!idMap) {\n            console.error('Parametro \"idMap\" non definito')\n            return null\n        }\n        let layers = []\n        this.maps.forEach(function(map) {\n            if (map.id.toString() === idMap) {\n                map.layers.forEach(function(layer) {\n                    if (layer.idMap.toString() === idMap) layers.push(layer.name)\n                })\n            }\n        })\n        return layers\n    },\n\n    getLayerConfig(layerName) {\n        let foundLayer = null\n        this.maps.forEach(map => {\n            map.layers.forEach(layer => {\n                if (layer.name === layerName) {\n                    foundLayer = layer\n                }\n            })\n        })\n        return foundLayer\n    },\n\n    getBaseLayerConfig(layerName) {\n        let foundLayer = this.baseLayers.find(function(layer) {\n            return layer.name === layerName\n        })\n        return foundLayer\n    },\n\n    getMapConfig(idMap) {\n        return this.maps.find(function(map) {\n            return map.id == idMap\n        })\n    },\n\n    getToolOptions(toolName) {\n        let options = null\n        if (!this.application.layout || !this.application.layout.tools) {\n            return null\n        }\n        this.application.layout.tools.forEach(item => {\n            if (item.name === toolName && item.options) {\n                options = item.options\n            }\n        })\n        return options\n    },\n\n    getButtonOptions(buttonName) {\n        let options = null\n        if (!this.application.layout || !this.application.layout.toolbar) {\n            return null\n        }\n        this.application.layout.toolbar.items.forEach(item => {\n            if (item.name === buttonName && item.options) {\n                options = item.options\n            }\n        })\n        return options\n    },\n\n    getActiveBaseLayer() {\n        let activeLayer = null\n        this.baseLayers.forEach(layer => {\n            if (layer.visible) {\n                activeLayer = layer\n            }\n        })\n        return activeLayer\n    },\n\n    setActiveBaseLayer(layerName) {\n        this.baseLayers.forEach(layer => {\n            layer.visible = layer.name === layerName\n        })\n    },\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/config.js","import Vue from 'vue'\r\n\r\nVue.directive('draggable', {\r\n  inserted: function (el, binding, vnode) {\r\n    const id = el.id.replace('-title','')\r\n    el.className += ' draggable'\r\n    el.setAttribute('draggable', 'true')\r\n    el.setAttribute('ondragstart', 'GV.dragbox.start(event)')\r\n    el.setAttribute('ondragend', `GV.dragbox.end(event,'${id}')`)\r\n  }\r\n})\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/directives/draggable.js","import L from 'leaflet'\nrequire('./MarkerCluster.js')\nrequire('./NonTiledLayer.js')\n\nimport globals from '../globals'\nimport interpolateString from '../util/interpolateString'\nimport getParamString from '../util/getParamString'\nimport getZoomFromScaleDenom from '../util/getZoomFromScaleDenom'\nimport getGeoJSON from '../services/getGeoJSON'\nimport getTmsMaxLevel from '../util/getTmsMaxLevel'\nimport toGeoJSON from 'togeojson'\nimport parseXML from '../util/parseXML'\n\nvar esriLink = '<a href=\"http://www.esri.com/\">Esri</a>'\n\n// Funzione di costruzione geoJson\nfunction buildGeoJson(data, esParams) {\n    'use strict'\n    let geoJson\n    if (esParams) {\n        var geomField = esParams.geomField || 'location'\n        var features = data.hits.hits\n        geoJson = {\n            type: 'FeatureCollection',\n            totalFeatures: data.hits.total,\n            features: [],\n            crs: {\n                type: 'name',\n                properties: {\n                    name: 'urn:ogc:def:crs:EPSG::4326',\n                },\n            },\n        }\n        features.forEach(function(feature) {\n            var coords = feature._source[geomField]\n            geoJson.features.push({\n                type: 'Feature',\n                id: feature._id,\n                geometry: { type: 'Point', coordinates: coords },\n                geometry_name: 'GEOMETRY',\n                properties: feature._source,\n            })\n        })\n    } else {\n        geoJson = typeof data === 'string' ? JSON.parse(data) : data\n    }\n    return geoJson\n}\n\nvar layerFactory = {\n    BLANK(layerConfig) {\n        layerConfig.legend = {\n            label: 'Sfondo Bianco',\n        }\n        return L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { opacity: 0.0 })\n    },\n\n    OSM(layerConfig) {\n        layerConfig.legend = {\n            label: 'OpenStreetMap',\n        }\n        return L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        })\n    },\n\n    ESRI_IMAGERY(layerConfig) {\n        layerConfig.legend = { label: 'ESRI Imagery' }\n        layerConfig.name = layerConfig.type\n        var attr = 'DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community'\n        return L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\n            attribution: `&copy; ${esriLink}, ${attr}`,\n            maxZoom: 19, //, pane: layerConfig.name\n        })\n    },\n\n    ESRI_STREETS(layerConfig) {\n        layerConfig.legend = { label: 'ESRI Streets' }\n        layerConfig.name = layerConfig.type\n        var attr = 'USGS, NOAA'\n        return L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {\n            attribution: `&copy; ${esriLink}, ${attr}`,\n            maxZoom: 19, //, pane: layerConfig.name\n        })\n    },\n\n    ESRI_TOPOGRAPHIC(layerConfig) {\n        layerConfig.legend = { label: 'ESRI Topographic' }\n        layerConfig.name = layerConfig.type\n        var attr = 'USGS, NOAA'\n        return L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {\n            attribution: `&copy; ${esriLink}, ${attr}`,\n            maxZoom: 19, //, pane: layerConfig.name\n        })\n    },\n\n    ESRI_GRAY(layerConfig) {\n        layerConfig.legend = { label: 'ESRI Gray' }\n        layerConfig.name = layerConfig.type\n        var attr = 'HERE, DeLorme, MapmyIndia, OpenStreetMap contributors'\n        return L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {\n            attribution: `&copy; ${esriLink}, ${attr}`,\n            maxZoom: 16, //, pane: layerConfig.name\n        })\n    },\n\n    ESRI_DARKGRAY(layerConfig) {\n        layerConfig.legend = { label: 'ESRI Dark Gray' }\n        layerConfig.name = layerConfig.type\n        var attr = 'HERE, DeLorme, MapmyIndia, OpenStreetMap contributors'\n        return L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}', {\n            attribution: `&copy; ${esriLink}, ${attr}`,\n            maxZoom: 16, //, pane: layerConfig.name\n        })\n    },\n\n    MAPBOX_STREETS(layerConfig) {\n        layerConfig.legend = {\n            label: 'Mapbox Streets',\n        }\n        return L.tileLayer(\n            'http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n                attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n                subdomains: 'abcd',\n                id: 'mapbox.streets',\n                accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g',\n            }\n        )\n    },\n\n    MAPBOX_SATELLITE(layerConfig) {\n        layerConfig.legend = {\n            label: 'Mapbox Satellite',\n        }\n        return L.tileLayer(\n            'http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n                attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n                subdomains: 'abcd',\n                id: 'mapbox.satellite',\n                accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g',\n            }\n        )\n    },\n\n    MAPBOX_OUTDOOR(layerConfig) {\n        layerConfig.legend = {\n            label: 'Mapox Outdoor',\n        }\n        return L.tileLayer(\n            'http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n                attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n                subdomains: 'abcd',\n                id: 'mapbox.outdoors',\n                accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g',\n            }\n        )\n    },\n\n    MAPBOX_LIGHT(layerConfig) {\n        layerConfig.legend = {\n            label: 'Mapox Light',\n        }\n        return L.tileLayer(\n            'http://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g', {\n                attribution: 'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n                subdomains: 'abcd',\n                id: 'mapbox.light',\n                accessToken: 'pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g',\n            }\n        )\n    },\n\n    STAMEN_TERRAIN(layerConfig) {\n        layerConfig.legend = {\n            label: 'Stamen Terrain',\n        }\n        return L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.{ext}', {\n            attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n            subdomains: 'abcd',\n            minZoom: 0,\n            maxZoom: 18,\n            ext: 'png',\n        })\n    },\n\n    STAMEN_TONER_LIGHT(layerConfig) {\n        layerConfig.legend = {\n            label: 'Stamen Toner Light',\n        }\n        return L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {\n            attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n            subdomains: 'abcd',\n            minZoom: 0,\n            maxZoom: 20,\n            ext: 'png',\n        })\n    },\n\n    RL_ORTOFOTO_2013() {\n        return this.TMS({\n            visible: false,\n            tmsParams: {\n                name: 'L4419/webmercator',\n                url: 'http://mapproxy.regione.liguria.it/mapproxy/1661/tiles/',\n            },\n            zIndex: 1,\n        })\n    },\n\n    RL_ORTOFOTO_2016() {\n        return this.TMS({\n            visible: false,\n            tmsParams: {\n                name: 'L5802/webmercator',\n                url: 'http://mapproxy.regione.liguria.it/mapproxy/1828/tiles/',\n            },\n            zIndex: 1,\n        })\n    },\n\n    RL_CARTE_BASE() {\n        return this.TMS({\n            visible: false,\n            tmsParams: {\n                name: 'C1623/webmercator',\n                url: 'http://mapproxy.regione.liguria.it/mapproxy/1623/tiles/',\n            },\n            zIndex: 1,\n        })\n    },\n\n    TMS(layerConfig) {\n        const url = layerConfig.tmsParams.url.replace('/tms/', '/tiles/')\n        const name = layerConfig.tmsParams.name\n        const tmsUrl = `${url}/1.0.0/${name}/{z}/{x}/{y}.png`\n        const maxLevel = getTmsMaxLevel(layerConfig.maxScale)\n        const layer = L.tileLayer(tmsUrl, {\n            minZoom: 1,\n            maxZoom: maxLevel,\n        })\n        layer.setZIndex(layerConfig.zIndex)\n        layer.name = name.replace('/webmercator', '')\n        return layer\n    },\n\n    WMS(layerConfig) {\n        let { name, cacheMinZoomLevel, minScale, maxScale, wmsParams, flagGeoserver, zIndex } = layerConfig\n        GV.log('layerFactory - Creazione Layer WMS: ' + name)\n        let layer = null\n\n        const isCached = cacheMinZoomLevel ? true : false\n        const format = wmsParams.format\n        const minZoom = minScale ? getZoomFromScaleDenom(minScale) : 8\n        const maxZoom = maxScale ? getZoomFromScaleDenom(maxScale) : 20\n        const opacity = layerConfig.opacity || 1\n        let options = {\n            subdomains: ['1', '2'],\n            transparent: true,\n            FORMAT_OPTIONS: 'antialias:text',\n            layers: name,\n            format: format,\n            opacity: opacity,\n            minZoom: minZoom,\n            maxZoom: maxZoom,\n            bounds: L.latLngBounds(\n                L.latLng(globals.MAX_BOUNDS.X_MIN, globals.MAX_BOUNDS.Y_MIN),\n                L.latLng(globals.MAX_BOUNDS.X_MAX, globals.MAX_BOUNDS.Y_MAX)\n            ),\n        }\n\n        let url = wmsParams.url\n        if (isCached) {\n            if (globals.USE_SUBDOMAINS && url.indexOf('geoservizi.regione.liguria.it') > 0) {\n                url = url.replace('geoservizi', 'geoservizi{s}')\n            }\n            Object.assign(options, {\n                tiled: true,\n                TILESORIGIN: '-20037508,-20037508',\n                tileSize: 256,\n                CACHE_VERSION: layerConfig.cacheVersion,\n            })\n            layer = L.tileLayer.wms(url, options)\n        } else {\n            Object.assign(options, {\n                tiled: false,\n                pane: 'tilePane',\n            })\n            layer = L.nonTiledLayer.wms(url, options)\n        }\n\n        layer.setZIndex(zIndex)\n        layer.type = 'WMS'\n        layer.name = name\n\n        return layer\n    },\n\n    JSON(layerConfig) {\n        let { data, url, name, wfsParams, esParams, classes, style, pointToLayer, tooltip, popup, basePopup, cluster, subType, legend, onEachFeature } = layerConfig\n        let clusterLayer = null\n        let options = {}\n\n        if (classes && classes.length > 0) {\n            if (layerConfig.geomSubType === 'POINT') {\n                options.pointToLayer = function(feature, latlng) {\n                    var style\n                    classes.forEach(function(cls) {\n                        if (cls.filter && cls.filter.key && cls.filter.value) {\n                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n                                style = cls.style\n                            }\n                        } else {\n                            style = cls.style\n                        }\n                    })\n                    if (style.iconUrl) {\n                        var icon\n                        switch (style.iconUrl) {\n                            case 'default':\n                                icon = L.icon({\n                                    iconUrl: 'http://geoportale.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\n                                    iconSize: [25, 41],\n                                    iconAnchor: [12, 41],\n                                    popupAnchor: [0, -41],\n                                })\n                                break\n                            case 'default-small':\n                                icon = L.icon({\n                                    iconUrl: 'http://geoportale.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\n                                    iconSize: [12, 20],\n                                    iconAnchor: [6, 10],\n                                    popupAnchor: [0, -20],\n                                })\n                                break\n                            default:\n                                icon = L.icon({\n                                    iconUrl: style.iconUrl,\n                                    iconSize: style.iconSize,\n                                    iconAnchor: style.iconAnchor,\n                                    popupAnchor: style.popupAnchor,\n                                })\n                        }\n                        return L.marker(latlng, { icon: icon })\n                    } else {\n                        return L.circleMarker(latlng, style)\n                    }\n                }\n            } else {\n                options.style = function(feature) {\n                    var style\n                    classes.forEach(function(cls) {\n                        if (cls.filter && cls.filter.key && cls.filter.value) {\n                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n                                style = cls.style\n                            }\n                        } else {\n                            style = cls.style\n                        }\n                    })\n                    return style\n                }\n            }\n            options.filter = function(feature) {\n                var visible = false\n                classes.forEach(function(cls) {\n                    if (!cls.filter) {\n                        visible = true\n                    } else {\n                        if (cls.filter.key && cls.filter.value) {\n                            if (feature.properties[cls.filter.key] === cls.filter.value) {\n                                visible = true\n                            }\n                        }\n                    }\n                })\n                return visible\n            }\n        }\n\n        if (style) {\n            options.style = style\n        }\n        if (pointToLayer) {\n            options.pointToLayer = pointToLayer\n        }\n\n        if (tooltip || popup) {\n            options.onEachFeature = function(feature, layer) {\n                if (tooltip) {\n                    layer.options.title = interpolateString(tooltip, feature.properties)\n                }\n                if (popup) {\n                    layer.bindPopup(interpolateString(popup, feature.properties))\n                }\n            }\n        } else {\n            options.onEachFeature = onEachFeature\n        }\n\n        var layer = L.geoJson(data, options)\n        layer.name = name\n\n        function simplePopup(props) {\n            var popUp = '<div><b>' + legend.label + '</b><br><br></div>'\n            popUp += \"<div>\"\n            props.forEach(prop => {\n                popUp += prop.key + ':' + prop.value + '<br>'\n            })\n            popUp += '</div>'\n            return popUp\n        }\n\n        if (basePopup) {\n            layer.on('ready', () => {\n                layer.eachLayer(function(_layer) {\n                    //   console.log(_layer.feature.properties)\n                    let props = []\n                    Object.keys(_layer.feature.properties).forEach(key => {\n                        const value = _layer.feature.properties[key]\n                        if (typeof value === 'string' || value instanceof String || typeof value === 'number') {\n                            props.push({\n                                key: key,\n                                value: value,\n                            })\n                        }\n                    })\n                    layer.bindPopup(simplePopup(props))\n                })\n            })\n        }\n\n        layer.setFilter = function(filters) {\n            layer.filter = filters\n            if (filters) {\n                layer.eachLayer(function(marker) {\n                    var opacity = 0\n                    filters.forEach(function(filter) {\n                        if (marker.feature.properties[filter.key] === filter.value) {\n                            opacity = layer.config.opacity || 1\n                        }\n                    })\n                    marker.setOpacity(opacity)\n                })\n            } else {\n                layer.eachLayer(function(marker) {\n                    var opacity = layer.config.opacity || 1\n                    marker.setOpacity(opacity)\n                })\n            }\n        }\n\n        var parameters\n\n        if (wfsParams && wfsParams.typeName && wfsParams.url) {\n            parameters = {\n                service: 'WFS',\n                version: '2.0.0',\n                request: 'GetFeature',\n                srsName: 'EPSG:4326',\n                outputFormat: 'text/javascript',\n                format_options: 'callback: getJson',\n                typeName: wfsParams.typeName,\n            }\n            url = wfsParams.url + getParamString(parameters)\n        }\n\n        // Gestione livelli puntuali su ElasticSearch\n        if (esParams) {\n            parameters = {}\n            if (esParams.field) {\n                parameters.q = esParams.field + ':'\n                if (esParams.query) {\n                    parameters.q += esParams.query\n                } else {\n                    parameters.q += '*'\n                }\n            } else {\n                if (esParams.query) {\n                    parameters.q = esParams.query\n                }\n            }\n            parameters.pretty = 'true'\n            parameters.size = 100000\n                // TODO parametro bbox. https://www.elastic.co/guide/en/elasticsearch/reference/1.4/query-dsl-geo-bounding-box-filter.html\n\n            url = GV.config.application.proxy + esParams.url + getParamString(parameters)\n        }\n\n        if (cluster) {\n            var clusterOptions = { showCoverageOnHover: false }\n            if (cluster.options) {\n                Object.assign(clusterOptions, cluster.options)\n            }\n            clusterLayer = L.markerClusterGroup(clusterOptions)\n            clusterLayer.name = name\n        }\n\n        if (url) {\n            getGeoJSON(url)\n                .then(response => {\n                    let geoJson\n                    if (subType === 'KML') {\n                        const xml = parseXML(response.data)\n                        geoJson = toGeoJSON.kml(xml)\n                    } else if (subType === 'GPX') {\n                        const xml = parseXML(response.data)\n                        geoJson = toGeoJSON.gpx(xml)\n                    } else {\n                        geoJson = buildGeoJson(response.data, esParams)\n                    }\n                    layer.addData(geoJson)\n                    if (cluster) {\n                        clusterLayer.addLayer(layer)\n                    }\n                    layer.fire('ready')\n                    GV.eventBus.$emit('layer-loaded-json', layer)\n                })\n                .catch(error => console.error(error))\n        }\n\n        if (data) {\n            if (cluster) {\n                clusterLayer.addLayer(layer)\n            }\n        }\n\n        return cluster ? clusterLayer : layer\n    },\n}\n\nfunction create(layerConfig, map) {\n    if (layerFactory[layerConfig.type]) {\n        let layer = layerFactory[layerConfig.type](layerConfig, map)\n        layer.legend = layerConfig.legend\n        layer.config = layerConfig\n        return layer\n    } else {\n        throw new Error(`Layer di tipo ${layerConfig.type} non gestito`)\n    }\n}\n\nexport { create }\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/LayerFactory.js","import globals from '../globals'\r\nimport * as LayerFactory from './LayerFactory'\r\nimport L from 'leaflet'\r\nimport getWFSFeature from '../services/getWFSFeature'\r\nimport buildCqlFilter from '../util/buildCqlFilter'\r\n\r\nconst Map = L.Map.extend({\r\n    layers: [],\r\n\r\n    baseLayers: [],\r\n\r\n    initialExtent: [],\r\n\r\n    buttons: [],\r\n\r\n    mapOptions: {\r\n        zoomControl: false,\r\n        maxBounds: L.latLngBounds(\r\n            L.latLng(globals.MAX_BOUNDS.X_MIN, globals.MAX_BOUNDS.Y_MIN),\r\n            L.latLng(globals.MAX_BOUNDS.X_MAX, globals.MAX_BOUNDS.Y_MAX)\r\n        ),\r\n        maxBoundsViscosity: 1.0,\r\n        minZoom: 7,\r\n    },\r\n\r\n    initialize() {\r\n        Object.assign(this.mapOptions, GV.config.application.mapOptions)\r\n\r\n        L.Map.prototype.initialize.call(this, 'gv-map', L.extend(L.Map.prototype.options, this.mapOptions))\r\n\r\n        this.setInitialExtent()\r\n\r\n        this.setLoading()\r\n\r\n        this.loadBaseLayers()\r\n\r\n        this.loadControls()\r\n\r\n        this.eventMngr()\r\n    },\r\n\r\n    eventMngr() {\r\n        this.on('zoom', () => {\r\n            GV.eventBus.$emit('map-zoom', this._zoom)\r\n        })\r\n        GV.eventBus.$on('set-layer-visible', event => {\r\n            this.setLayerVisible(event.layer, event.checked)\r\n            this.setHiliteLayerVisible(event)\r\n        })\r\n        GV.eventBus.$on('set-layer-transparency', event => {\r\n            const layer = this.getLayerByName(event.layerName)\r\n            layer.setOpacity(event.opacity)\r\n        })\r\n        GV.eventBus.$on('change-base-layer', event => {\r\n            this.changeBaseLayer(event.layer)\r\n        })\r\n    },\r\n\r\n    setHiliteLayerVisible(event) {\r\n        if (!GV.config.hilitedLayer) {\r\n            return\r\n        }\r\n        GV.config.hilitedLayer.forEach(hl => {\r\n            if (hl === event.layer.name) {\r\n                const layer = this.getLayerByName('InfoWmsHilite')\r\n                layer.eachLayer(m => {\r\n                    const opacity = event.checked ? 0.6 : 0.0\r\n                    m.setStyle({ opacity: opacity })\r\n                })\r\n            }\r\n        })\r\n    },\r\n\r\n    setInitialExtent() {\r\n        'use strict'\r\n        var extent = this.mapOptions.initialExtent || '830036,5402959,1123018,5597635'\r\n        var extArray = extent.split(',')\r\n        var swPoint = L.point(extArray[0], extArray[1])\r\n        var nePoint = L.point(extArray[2], extArray[3])\r\n        var swLatLng = L.Projection.SphericalMercator.unproject(swPoint)\r\n        var neLatLng = L.Projection.SphericalMercator.unproject(nePoint)\r\n        this.initialExtent = L.latLngBounds(swLatLng, neLatLng)\r\n        this.fitBounds(this.initialExtent)\r\n    },\r\n\r\n    setExtent(extent) {\r\n        'use strict'\r\n        var extArray = extent.split(',')\r\n        var swPoint = L.point(extArray[0], extArray[1])\r\n        var nePoint = L.point(extArray[2], extArray[3])\r\n        var swLatLng = L.Projection.SphericalMercator.unproject(swPoint)\r\n        var neLatLng = L.Projection.SphericalMercator.unproject(nePoint)\r\n        this.initialExtent = L.latLngBounds(swLatLng, neLatLng)\r\n        this.fitBounds(this.initialExtent)\r\n    },\r\n\r\n    setLayerVisible(layerConfig, visible) {\r\n        'use strict'\r\n        if (visible) {\r\n            // Muta lo stato del layer\r\n            layerConfig.visible = true\r\n            this.loadLayers([layerConfig])\r\n        } else {\r\n            const layer = this.getLayerByName(layerConfig.name)\r\n            if (layer) {\r\n                this.removeLayer(layer)\r\n            }\r\n        }\r\n    },\r\n\r\n    layerInRange(layerConfig) {\r\n        'use strict'\r\n        if (!layerConfig.minScale && !layerConfig.minScale) {\r\n            return true\r\n        }\r\n        return this.getScale() < layerConfig.minScale && this.getScale() > layerConfig.maxScale\r\n    },\r\n\r\n    loadControls() {\r\n        'use strict'\r\n        if (this.mapOptions.controls) {\r\n            var cntrl\r\n            this.controls = {}\r\n            this.mapOptions.controls.forEach(function(control) {\r\n                switch (control.name) {\r\n                    case 'scale':\r\n                        cntrl = L.control.scale({ imperial: false }).addTo(this)\r\n                        this.controls[control] = cntrl\r\n                        break\r\n                }\r\n            }, this)\r\n        }\r\n    },\r\n\r\n    loadBaseLayers() {\r\n        'use strict'\r\n\r\n        GV.config.baseLayers.forEach(function(layerConfig) {\r\n            var layer = LayerFactory.create(layerConfig, this)\r\n            this.baseLayers[layer.config.type] = layer\r\n            if (layer && layerConfig.visible) {\r\n                layer.on(\r\n                    'loading',\r\n                    function() {\r\n                        this.loading(true, layer)\r\n                    },\r\n                    this\r\n                )\r\n                layer.on(\r\n                    'load',\r\n                    function() {\r\n                        this.loading(false, layer)\r\n                    },\r\n                    this\r\n                )\r\n                layer.addTo(this)\r\n            }\r\n        }, this)\r\n    },\r\n\r\n    loadLayers(layers) {\r\n        'use strict'\r\n        layers.forEach(function(layerConfig) {\r\n            if (!this.getLayerByName(layerConfig.name)) {\r\n                var layer = LayerFactory.create(layerConfig, this)\r\n                if (layer && layerConfig.visible) {\r\n                    layer.on(\r\n                        'loading',\r\n                        function() {\r\n                            this.loading(true, layer)\r\n                        },\r\n                        this\r\n                    )\r\n                    layer.on(\r\n                        'load',\r\n                        function() {\r\n                            this.loading(false, layer)\r\n                        },\r\n                        this\r\n                    )\r\n                    layer.addTo(this)\r\n                    layer.on('ready', () => {\r\n                        if (layerConfig.zoomToLayerExtent) {\r\n                            let bounds = new L.latLngBounds()\r\n                            var _layers = layer._layers\r\n                            layer.eachLayer(function(_layer) {\r\n                                if (_layer.getBounds) {\r\n                                    bounds.extend(_layer.getBounds())\r\n                                } else {\r\n                                    bounds.extend(new L.latLngBounds(_layer._latlng, _layer._latlng))\r\n                                }\r\n                            })\r\n                            if (bounds) this.fitBounds(bounds)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }, this)\r\n    },\r\n\r\n    getLayerByName(layerName) {\r\n        var foundLayer = null\r\n        this.eachLayer(function(layer) {\r\n            if (layer.config && layer.config.name && layer.config.name === layerName) {\r\n                foundLayer = layer\r\n            }\r\n        })\r\n        return foundLayer\r\n    },\r\n\r\n    changeBaseLayer(layerName) {\r\n        // se livello è presente in mappa e visibile non faccio niente\r\n        // altrimenti levo layer precedente e carico livello in mappa e rendo visibile\r\n        const activeLayerName = GV.config.getActiveBaseLayer().name\r\n        if (activeLayerName !== layerName) {\r\n            this.removeLayer(this.baseLayers[activeLayerName])\r\n            this.baseLayers[layerName].addTo(this)\r\n            GV.config.setActiveBaseLayer(layerName)\r\n        }\r\n    },\r\n\r\n    getScaleLabel() {\r\n        'use strict'\r\n        return globals.BASE_SCALE_LABELS[this._zoom]\r\n    },\r\n\r\n    getScale() {\r\n        'use strict'\r\n        return globals.BASE_SCALES[this._zoom]\r\n    },\r\n\r\n    setLoading() {\r\n        this._spinning = 0\r\n        this.on(\r\n            'layerremove',\r\n            function(e) {\r\n                // Clean-up\r\n                if (e.layer.loading) {\r\n                    this.loading(false)\r\n                }\r\n                if (typeof e.layer.on !== 'function') {\r\n                    return\r\n                }\r\n                e.layer.off('load')\r\n                e.layer.off('loading')\r\n            },\r\n            this\r\n        )\r\n    },\r\n\r\n    loading(state, layer) {\r\n        // if (!!state) {\r\n\r\n        if (state) {\r\n            if (this._spinning === 0) {\r\n                GV.log('start load: ' + layer.config.name)\r\n                this._container.style.cursor = 'progress'\r\n            }\r\n            this._spinning++\r\n        } else {\r\n            this._spinning--\r\n                if (this._spinning <= 0) {\r\n                    GV.log('end load: ' + layer.config.name)\r\n                    this._container.style.cursor = 'default'\r\n                }\r\n        }\r\n    },\r\n\r\n    addMarker(markerConfig) {\r\n        const icon = L.icon({\r\n            iconUrl: 'http://srvcarto.regione.liguria.it/geoviewer2/static/img/marker-icon.png',\r\n            iconSize: [25, 41],\r\n            iconAnchor: [12, 41],\r\n            popupAnchor: [0, -41],\r\n        })\r\n        const opts = {\r\n            opacity: 0.8,\r\n            icon: icon,\r\n            title: markerConfig.label,\r\n        }\r\n\r\n        if (markerConfig.type === 'circle') {\r\n            L.circleMarker(markerConfig.location, opts).addTo(this)\r\n        } else {\r\n            L.marker(markerConfig.location, opts).addTo(this)\r\n        }\r\n        this.setView(markerConfig.location, markerConfig.zoomLevel || 14)\r\n    },\r\n\r\n    find(findOptions) {\r\n        if ((!findOptions.values || findOptions.values === 'null') && !findOptions.cqlFilter) {\r\n            console.error('Parametri FIND non completi: manca CQL_FILTER o VALUES')\r\n            return\r\n        }\r\n\r\n        const cqlFilter = findOptions.cqlFilter || buildCqlFilter(findOptions)\r\n        const layers = findOptions.layers || GV.config.getLayersNameByMapId(findOptions.map)\r\n        getWFSFeature(layers, cqlFilter)\r\n            .then(features => {\r\n                const layer = this.getLayerByName('InfoWmsHilite')\r\n                if (features && features.length > 0) {\r\n                    layer.clearLayers()\r\n                    layer.addData(features)\r\n                    this.fitBounds(layer.getBounds(), { maxZoom: 15 })\r\n                    GV.config.hilitedLayer = layers\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(error)\r\n            })\r\n    },\r\n\r\n    zoomTo(lat, lon, zoom) {\r\n        this.setView(new L.LatLng(lat, lon), zoom)\r\n    }\r\n})\r\n\r\nexport default Map\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/Map.js",";(function (window, document, undefined) {/*\r\n * L.MarkerClusterGroup extends L.FeatureGroup by clustering the markers contained within\r\n */\r\n\r\n  L.MarkerClusterGroup = L.FeatureGroup.extend({\r\n\r\n    options: {\r\n      maxClusterRadius: 80, //A cluster will cover at most this many pixels from its center\r\n      iconCreateFunction: null,\r\n\r\n      spiderfyOnMaxZoom: true,\r\n      showCoverageOnHover: true,\r\n      zoomToBoundsOnClick: true,\r\n      singleMarkerMode: false,\r\n\r\n      disableClusteringAtZoom: null,\r\n\r\n      // Setting this to false prevents the removal of any clusters outside of the viewpoint, which\r\n      // is the default behaviour for performance reasons.\r\n      removeOutsideVisibleBounds: true,\r\n\r\n      // Set to false to disable all animations (zoom and spiderfy).\r\n      // If false, option animateAddingMarkers below has no effect.\r\n      // If L.DomUtil.TRANSITION is falsy, this option has no effect.\r\n      animate: true,\r\n\r\n      //Whether to animate adding markers after adding the MarkerClusterGroup to the map\r\n      // If you are adding individual markers set to true, if adding bulk markers leave false for massive performance gains.\r\n      animateAddingMarkers: false,\r\n\r\n      //Increase to increase the distance away that spiderfied markers appear from the center\r\n      spiderfyDistanceMultiplier: 1,\r\n\r\n      // Make it possible to specify a polyline options on a spider leg\r\n      spiderLegPolylineOptions: {weight: 1.5, color: '#222', opacity: 0.5},\r\n\r\n      // When bulk adding layers, adds markers in chunks. Means addLayers may not add all the layers in the call, others will be loaded during setTimeouts\r\n      chunkedLoading: false,\r\n      chunkInterval: 200, // process markers for a maximum of ~ n milliseconds (then trigger the chunkProgress callback)\r\n      chunkDelay: 50, // at the end of each interval, give n milliseconds back to system/browser\r\n      chunkProgress: null, // progress callback: function(processed, total, elapsed) (e.g. for a progress indicator)\r\n\r\n      //Options to pass to the L.Polygon constructor\r\n      polygonOptions: {}\r\n    },\r\n\r\n    initialize: function (options) {\r\n      L.Util.setOptions(this, options);\r\n      if (!this.options.iconCreateFunction) {\r\n        this.options.iconCreateFunction = this._defaultIconCreateFunction;\r\n      }\r\n\r\n      this._featureGroup = L.featureGroup();\r\n      this._featureGroup.addEventParent(this);\r\n\r\n      this._nonPointGroup = L.featureGroup();\r\n      this._nonPointGroup.addEventParent(this);\r\n\r\n      this._inZoomAnimation = 0;\r\n      this._needsClustering = [];\r\n      this._needsRemoving = []; //Markers removed while we aren't on the map need to be kept track of\r\n      //The bounds of the currently shown area (from _getExpandedVisibleBounds) Updated on zoom/move\r\n      this._currentShownBounds = null;\r\n\r\n      this._queue = [];\r\n\r\n      // Hook the appropriate animation methods.\r\n      var animate = L.DomUtil.TRANSITION && this.options.animate;\r\n      L.extend(this, animate ? this._withAnimation : this._noAnimation);\r\n      // Remember which MarkerCluster class to instantiate (animated or not).\r\n      this._markerCluster = animate ? L.MarkerCluster : L.MarkerClusterNonAnimated;\r\n    },\r\n\r\n    addLayer: function (layer) {\r\n\r\n      if (layer instanceof L.LayerGroup) {\r\n        return this.addLayers([layer]);\r\n      }\r\n\r\n      //Don't cluster non point data\r\n      if (!layer.getLatLng) {\r\n        this._nonPointGroup.addLayer(layer);\r\n        return this;\r\n      }\r\n\r\n      if (!this._map) {\r\n        this._needsClustering.push(layer);\r\n        return this;\r\n      }\r\n\r\n      if (this.hasLayer(layer)) {\r\n        return this;\r\n      }\r\n\r\n      //If we have already clustered we'll need to add this one to a cluster\r\n\r\n      if (this._unspiderfy) {\r\n        this._unspiderfy();\r\n      }\r\n\r\n      this._addLayer(layer, this._maxZoom);\r\n\r\n      // Refresh bounds and weighted positions.\r\n      this._topClusterLevel._recalculateBounds();\r\n\r\n      //Work out what is visible\r\n      var visibleLayer = layer,\r\n          currentZoom  = this._map.getZoom();\r\n      if (layer.__parent) {\r\n        while (visibleLayer.__parent._zoom >= currentZoom) {\r\n          visibleLayer = visibleLayer.__parent;\r\n        }\r\n      }\r\n\r\n      if (this._currentShownBounds.contains(visibleLayer.getLatLng())) {\r\n        if (this.options.animateAddingMarkers) {\r\n          this._animationAddLayer(layer, visibleLayer);\r\n        } else {\r\n          this._animationAddLayerNonAnimated(layer, visibleLayer);\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    removeLayer: function (layer) {\r\n\r\n      if (layer instanceof L.LayerGroup) {\r\n        return this.removeLayers([layer]);\r\n      }\r\n\r\n      //Non point layers\r\n      if (!layer.getLatLng) {\r\n        this._nonPointGroup.removeLayer(layer);\r\n        return this;\r\n      }\r\n\r\n      if (!this._map) {\r\n        if (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer)) {\r\n          this._needsRemoving.push(layer);\r\n        }\r\n        return this;\r\n      }\r\n\r\n      if (!layer.__parent) {\r\n        return this;\r\n      }\r\n\r\n      if (this._unspiderfy) {\r\n        this._unspiderfy();\r\n        this._unspiderfyLayer(layer);\r\n      }\r\n\r\n      //Remove the marker from clusters\r\n      this._removeLayer(layer, true);\r\n\r\n      // Refresh bounds and weighted positions.\r\n      this._topClusterLevel._recalculateBounds();\r\n\r\n      layer.off('move', this._childMarkerMoved, this);\r\n\r\n      if (this._featureGroup.hasLayer(layer)) {\r\n        this._featureGroup.removeLayer(layer);\r\n        if (layer.clusterShow) {\r\n          layer.clusterShow();\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    //Takes an array of markers and adds them in bulk\r\n    addLayers: function (layersArray) {\r\n      if (!L.Util.isArray(layersArray)) {\r\n        return this.addLayer(layersArray);\r\n      }\r\n\r\n      var fg            = this._featureGroup,\r\n          npg           = this._nonPointGroup,\r\n          chunked       = this.options.chunkedLoading,\r\n          chunkInterval = this.options.chunkInterval,\r\n          chunkProgress = this.options.chunkProgress,\r\n          l             = layersArray.length,\r\n          offset        = 0,\r\n          originalArray = true,\r\n          m;\r\n\r\n      if (this._map) {\r\n        var started = (new Date()).getTime();\r\n        var process = L.bind(function () {\r\n          var start = (new Date()).getTime();\r\n          for (; offset < l; offset++) {\r\n            if (chunked && offset % 200 === 0) {\r\n              // every couple hundred markers, instrument the time elapsed since processing started:\r\n              var elapsed = (new Date()).getTime() - start;\r\n              if (elapsed > chunkInterval) {\r\n                break; // been working too hard, time to take a break :-)\r\n              }\r\n            }\r\n\r\n            m = layersArray[offset];\r\n\r\n            // Group of layers, append children to layersArray and skip.\r\n            // Side effects:\r\n            // - Total increases, so chunkProgress ratio jumps backward.\r\n            // - Groups are not included in this group, only their non-group child layers (hasLayer).\r\n            // Changing array length while looping does not affect performance in current browsers:\r\n            // http://jsperf.com/for-loop-changing-length/6\r\n            if (m instanceof L.LayerGroup) {\r\n              if (originalArray) {\r\n                layersArray = layersArray.slice();\r\n                originalArray = false;\r\n              }\r\n              this._extractNonGroupLayers(m, layersArray);\r\n              l = layersArray.length;\r\n              continue;\r\n            }\r\n\r\n            //Not point data, can't be clustered\r\n            if (!m.getLatLng) {\r\n              npg.addLayer(m);\r\n              continue;\r\n            }\r\n\r\n            if (this.hasLayer(m)) {\r\n              continue;\r\n            }\r\n\r\n            this._addLayer(m, this._maxZoom);\r\n\r\n            //If we just made a cluster of size 2 then we need to remove the other marker from the map (if it is) or we never will\r\n            if (m.__parent) {\r\n              if (m.__parent.getChildCount() === 2) {\r\n                var markers     = m.__parent.getAllChildMarkers(),\r\n                    otherMarker = markers[0] === m ? markers[1] : markers[0];\r\n                fg.removeLayer(otherMarker);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (chunkProgress) {\r\n            // report progress and time elapsed:\r\n            chunkProgress(offset, l, (new Date()).getTime() - started);\r\n          }\r\n\r\n          // Completed processing all markers.\r\n          if (offset === l) {\r\n\r\n            // Refresh bounds and weighted positions.\r\n            this._topClusterLevel._recalculateBounds();\r\n\r\n            //Update the icons of all those visible clusters that were affected\r\n            this._featureGroup.eachLayer(function (c) {\r\n              if (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\r\n                c._updateIcon();\r\n              }\r\n            });\r\n\r\n            this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\r\n          } else {\r\n            setTimeout(process, this.options.chunkDelay);\r\n          }\r\n        }, this);\r\n\r\n        process();\r\n      } else {\r\n        var needsClustering = this._needsClustering;\r\n\r\n        for (; offset < l; offset++) {\r\n          m = layersArray[offset];\r\n\r\n          // Group of layers, append children to layersArray and skip.\r\n          if (m instanceof L.LayerGroup) {\r\n            if (originalArray) {\r\n              layersArray = layersArray.slice();\r\n              originalArray = false;\r\n            }\r\n            this._extractNonGroupLayers(m, layersArray);\r\n            l = layersArray.length;\r\n            continue;\r\n          }\r\n\r\n          //Not point data, can't be clustered\r\n          if (!m.getLatLng) {\r\n            npg.addLayer(m);\r\n            continue;\r\n          }\r\n\r\n          if (this.hasLayer(m)) {\r\n            continue;\r\n          }\r\n\r\n          needsClustering.push(m);\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    //Takes an array of markers and removes them in bulk\r\n    removeLayers: function (layersArray) {\r\n      var i, m,\r\n          l             = layersArray.length,\r\n          fg            = this._featureGroup,\r\n          npg           = this._nonPointGroup,\r\n          originalArray = true;\r\n\r\n      if (!this._map) {\r\n        for (i = 0; i < l; i++) {\r\n          m = layersArray[i];\r\n\r\n          // Group of layers, append children to layersArray and skip.\r\n          if (m instanceof L.LayerGroup) {\r\n            if (originalArray) {\r\n              layersArray = layersArray.slice();\r\n              originalArray = false;\r\n            }\r\n            this._extractNonGroupLayers(m, layersArray);\r\n            l = layersArray.length;\r\n            continue;\r\n          }\r\n\r\n          this._arraySplice(this._needsClustering, m);\r\n          npg.removeLayer(m);\r\n          if (this.hasLayer(m)) {\r\n            this._needsRemoving.push(m);\r\n          }\r\n        }\r\n        return this;\r\n      }\r\n\r\n      if (this._unspiderfy) {\r\n        this._unspiderfy();\r\n\r\n        // Work on a copy of the array, so that next loop is not affected.\r\n        var layersArray2 = layersArray.slice(),\r\n            l2           = l;\r\n        for (i = 0; i < l2; i++) {\r\n          m = layersArray2[i];\r\n\r\n          // Group of layers, append children to layersArray and skip.\r\n          if (m instanceof L.LayerGroup) {\r\n            this._extractNonGroupLayers(m, layersArray2);\r\n            l2 = layersArray2.length;\r\n            continue;\r\n          }\r\n\r\n          this._unspiderfyLayer(m);\r\n        }\r\n      }\r\n\r\n      for (i = 0; i < l; i++) {\r\n        m = layersArray[i];\r\n\r\n        // Group of layers, append children to layersArray and skip.\r\n        if (m instanceof L.LayerGroup) {\r\n          if (originalArray) {\r\n            layersArray = layersArray.slice();\r\n            originalArray = false;\r\n          }\r\n          this._extractNonGroupLayers(m, layersArray);\r\n          l = layersArray.length;\r\n          continue;\r\n        }\r\n\r\n        if (!m.__parent) {\r\n          npg.removeLayer(m);\r\n          continue;\r\n        }\r\n\r\n        this._removeLayer(m, true, true);\r\n\r\n        if (fg.hasLayer(m)) {\r\n          fg.removeLayer(m);\r\n          if (m.clusterShow) {\r\n            m.clusterShow();\r\n          }\r\n        }\r\n      }\r\n\r\n      // Refresh bounds and weighted positions.\r\n      this._topClusterLevel._recalculateBounds();\r\n\r\n      //Fix up the clusters and markers on the map\r\n      this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\r\n\r\n      fg.eachLayer(function (c) {\r\n        if (c instanceof L.MarkerCluster) {\r\n          c._updateIcon();\r\n        }\r\n      });\r\n\r\n      return this;\r\n    },\r\n\r\n    //Removes all layers from the MarkerClusterGroup\r\n    clearLayers: function () {\r\n      //Need our own special implementation as the LayerGroup one doesn't work for us\r\n\r\n      //If we aren't on the map (yet), blow away the markers we know of\r\n      if (!this._map) {\r\n        this._needsClustering = [];\r\n        delete this._gridClusters;\r\n        delete this._gridUnclustered;\r\n      }\r\n\r\n      if (this._noanimationUnspiderfy) {\r\n        this._noanimationUnspiderfy();\r\n      }\r\n\r\n      //Remove all the visible layers\r\n      this._featureGroup.clearLayers();\r\n      this._nonPointGroup.clearLayers();\r\n\r\n      this.eachLayer(function (marker) {\r\n        marker.off('move', this._childMarkerMoved, this);\r\n        delete marker.__parent;\r\n      });\r\n\r\n      if (this._map) {\r\n        //Reset _topClusterLevel and the DistanceGrids\r\n        this._generateInitialClusters();\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    //Override FeatureGroup.getBounds as it doesn't work\r\n    getBounds: function () {\r\n      var bounds = new L.LatLngBounds();\r\n\r\n      if (this._topClusterLevel) {\r\n        bounds.extend(this._topClusterLevel._bounds);\r\n      }\r\n\r\n      for (var i = this._needsClustering.length - 1; i >= 0; i--) {\r\n        bounds.extend(this._needsClustering[i].getLatLng());\r\n      }\r\n\r\n      bounds.extend(this._nonPointGroup.getBounds());\r\n\r\n      return bounds;\r\n    },\r\n\r\n    //Overrides LayerGroup.eachLayer\r\n    eachLayer: function (method, context) {\r\n      var markers       = this._needsClustering.slice(),\r\n          needsRemoving = this._needsRemoving,\r\n          i;\r\n\r\n      if (this._topClusterLevel) {\r\n        this._topClusterLevel.getAllChildMarkers(markers);\r\n      }\r\n\r\n      for (i = markers.length - 1; i >= 0; i--) {\r\n        if (needsRemoving.indexOf(markers[i]) === -1) {\r\n          method.call(context, markers[i]);\r\n        }\r\n      }\r\n\r\n      this._nonPointGroup.eachLayer(method, context);\r\n    },\r\n\r\n    //Overrides LayerGroup.getLayers\r\n    getLayers: function () {\r\n      var layers = [];\r\n      this.eachLayer(function (l) {\r\n        layers.push(l);\r\n      });\r\n      return layers;\r\n    },\r\n\r\n    //Overrides LayerGroup.getLayer, WARNING: Really bad performance\r\n    getLayer: function (id) {\r\n      var result = null;\r\n\r\n      id = parseInt(id, 10);\r\n\r\n      this.eachLayer(function (l) {\r\n        if (L.stamp(l) === id) {\r\n          result = l;\r\n        }\r\n      });\r\n\r\n      return result;\r\n    },\r\n\r\n    //Returns true if the given layer is in this MarkerClusterGroup\r\n    hasLayer: function (layer) {\r\n      if (!layer) {\r\n        return false;\r\n      }\r\n\r\n      var i, anArray = this._needsClustering;\r\n\r\n      for (i = anArray.length - 1; i >= 0; i--) {\r\n        if (anArray[i] === layer) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      anArray = this._needsRemoving;\r\n      for (i = anArray.length - 1; i >= 0; i--) {\r\n        if (anArray[i] === layer) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return !!(layer.__parent && layer.__parent._group === this) || this._nonPointGroup.hasLayer(layer);\r\n    },\r\n\r\n    //Zoom down to show the given layer (spiderfying if necessary) then calls the callback\r\n    zoomToShowLayer: function (layer, callback) {\r\n\r\n      if (typeof callback !== 'function') {\r\n        callback = function () {\r\n        };\r\n      }\r\n\r\n      var showMarker = function () {\r\n        if ((layer._icon || layer.__parent._icon) && !this._inZoomAnimation) {\r\n          this._map.off('moveend', showMarker, this);\r\n          this.off('animationend', showMarker, this);\r\n\r\n          if (layer._icon) {\r\n            callback();\r\n          } else if (layer.__parent._icon) {\r\n            this.once('spiderfied', callback, this);\r\n            layer.__parent.spiderfy();\r\n          }\r\n        }\r\n      };\r\n\r\n      if (layer._icon && this._map.getBounds().contains(layer.getLatLng())) {\r\n        //Layer is visible ond on screen, immediate return\r\n        callback();\r\n      } else if (layer.__parent._zoom < this._map.getZoom()) {\r\n        //Layer should be visible at this zoom level. It must not be on screen so just pan over to it\r\n        this._map.on('moveend', showMarker, this);\r\n        this._map.panTo(layer.getLatLng());\r\n      } else {\r\n        var moveStart = function () {\r\n          this._map.off('movestart', moveStart, this);\r\n          moveStart = null;\r\n        };\r\n\r\n        this._map.on('movestart', moveStart, this);\r\n        this._map.on('moveend', showMarker, this);\r\n        this.on('animationend', showMarker, this);\r\n        layer.__parent.zoomToBounds();\r\n\r\n        if (moveStart) {\r\n          //Never started moving, must already be there, probably need clustering however\r\n          showMarker.call(this);\r\n        }\r\n      }\r\n    },\r\n\r\n    //Overrides FeatureGroup.onAdd\r\n    onAdd: function (map) {\r\n      this._map = map;\r\n      var i, l, layer;\r\n\r\n      if (!isFinite(this._map.getMaxZoom())) {\r\n        throw \"Map has no maxZoom specified\";\r\n      }\r\n\r\n      this._featureGroup.addTo(map);\r\n      this._nonPointGroup.addTo(map);\r\n\r\n      if (!this._gridClusters) {\r\n        this._generateInitialClusters();\r\n      }\r\n\r\n      this._maxLat = map.options.crs.projection.MAX_LATITUDE;\r\n\r\n      for (i = 0, l = this._needsRemoving.length; i < l; i++) {\r\n        layer = this._needsRemoving[i];\r\n        this._removeLayer(layer, true);\r\n      }\r\n      this._needsRemoving = [];\r\n\r\n      //Remember the current zoom level and bounds\r\n      this._zoom = this._map.getZoom();\r\n      this._currentShownBounds = this._getExpandedVisibleBounds();\r\n\r\n      this._map.on('zoomend', this._zoomEnd, this);\r\n      this._map.on('moveend', this._moveEnd, this);\r\n\r\n      if (this._spiderfierOnAdd) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\r\n        this._spiderfierOnAdd();\r\n      }\r\n\r\n      this._bindEvents();\r\n\r\n      //Actually add our markers to the map:\r\n      l = this._needsClustering;\r\n      this._needsClustering = [];\r\n      this.addLayers(l);\r\n    },\r\n\r\n    //Overrides FeatureGroup.onRemove\r\n    onRemove: function (map) {\r\n      map.off('zoomend', this._zoomEnd, this);\r\n      map.off('moveend', this._moveEnd, this);\r\n\r\n      this._unbindEvents();\r\n\r\n      //In case we are in a cluster animation\r\n      this._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\r\n\r\n      if (this._spiderfierOnRemove) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\r\n        this._spiderfierOnRemove();\r\n      }\r\n\r\n      delete this._maxLat;\r\n\r\n      //Clean up all the layers we added to the map\r\n      this._hideCoverage();\r\n      this._featureGroup.remove();\r\n      this._nonPointGroup.remove();\r\n\r\n      this._featureGroup.clearLayers();\r\n\r\n      this._map = null;\r\n    },\r\n\r\n    getVisibleParent: function (marker) {\r\n      var vMarker = marker;\r\n      while (vMarker && !vMarker._icon) {\r\n        vMarker = vMarker.__parent;\r\n      }\r\n      return vMarker || null;\r\n    },\r\n\r\n    //Remove the given object from the given array\r\n    _arraySplice: function (anArray, obj) {\r\n      for (var i = anArray.length - 1; i >= 0; i--) {\r\n        if (anArray[i] === obj) {\r\n          anArray.splice(i, 1);\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Removes a marker from all _gridUnclustered zoom levels, starting at the supplied zoom.\r\n     * @param marker to be removed from _gridUnclustered.\r\n     * @param z integer bottom start zoom level (included)\r\n     * @private\r\n     */\r\n    _removeFromGridUnclustered: function (marker, z) {\r\n      var map             = this._map,\r\n          gridUnclustered = this._gridUnclustered;\r\n\r\n      for (; z >= 0; z--) {\r\n        if (!gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z))) {\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _childMarkerMoved: function (e) {\r\n      if (!this._ignoreMove) {\r\n        e.target._latlng = e.oldLatLng;\r\n        this.removeLayer(e.target);\r\n\r\n        e.target._latlng = e.latlng;\r\n        this.addLayer(e.target);\r\n      }\r\n    },\r\n\r\n    //Internal function for removing a marker from everything.\r\n    //dontUpdateMap: set to true if you will handle updating the map manually (for bulk functions)\r\n    _removeLayer: function (marker, removeFromDistanceGrid, dontUpdateMap) {\r\n      var gridClusters    = this._gridClusters,\r\n          gridUnclustered = this._gridUnclustered,\r\n          fg              = this._featureGroup,\r\n          map             = this._map;\r\n\r\n      //Remove the marker from distance clusters it might be in\r\n      if (removeFromDistanceGrid) {\r\n        this._removeFromGridUnclustered(marker, this._maxZoom);\r\n      }\r\n\r\n      //Work our way up the clusters removing them as we go if required\r\n      var cluster = marker.__parent,\r\n          markers = cluster._markers,\r\n          otherMarker;\r\n\r\n      //Remove the marker from the immediate parents marker list\r\n      this._arraySplice(markers, marker);\r\n\r\n      while (cluster) {\r\n        cluster._childCount--;\r\n        cluster._boundsNeedUpdate = true;\r\n\r\n        if (cluster._zoom < 0) {\r\n          //Top level, do nothing\r\n          break;\r\n        } else if (removeFromDistanceGrid && cluster._childCount <= 1) { //Cluster no longer required\r\n          //We need to push the other marker up to the parent\r\n          otherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0];\r\n\r\n          //Update distance grid\r\n          gridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom));\r\n          gridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom));\r\n\r\n          //Move otherMarker up to parent\r\n          this._arraySplice(cluster.__parent._childClusters, cluster);\r\n          cluster.__parent._markers.push(otherMarker);\r\n          otherMarker.__parent = cluster.__parent;\r\n\r\n          if (cluster._icon) {\r\n            //Cluster is currently on the map, need to put the marker on the map instead\r\n            fg.removeLayer(cluster);\r\n            if (!dontUpdateMap) {\r\n              fg.addLayer(otherMarker);\r\n            }\r\n          }\r\n        } else {\r\n          if (!dontUpdateMap || !cluster._icon) {\r\n            cluster._updateIcon();\r\n          }\r\n        }\r\n\r\n        cluster = cluster.__parent;\r\n      }\r\n\r\n      delete marker.__parent;\r\n    },\r\n\r\n    _isOrIsParent: function (el, oel) {\r\n      while (oel) {\r\n        if (el === oel) {\r\n          return true;\r\n        }\r\n        oel = oel.parentNode;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    //Override L.Evented.fire\r\n    fire: function (type, data, propagate) {\r\n      if (data && data.layer instanceof L.MarkerCluster) {\r\n        //Prevent multiple clustermouseover/off events if the icon is made up of stacked divs (Doesn't work in ie <= 8, no relatedTarget)\r\n        if (data.originalEvent && this._isOrIsParent(data.layer._icon, data.originalEvent.relatedTarget)) {\r\n          return;\r\n        }\r\n        type = 'cluster' + type;\r\n      }\r\n\r\n      L.FeatureGroup.prototype.fire.call(this, type, data, propagate);\r\n    },\r\n\r\n    //Override L.Evented.listens\r\n    listens: function (type, propagate) {\r\n      return L.FeatureGroup.prototype.listens.call(this, type, propagate) || L.FeatureGroup.prototype.listens.call(this, 'cluster' + type, propagate);\r\n    },\r\n\r\n    //Default functionality\r\n    _defaultIconCreateFunction: function (cluster) {\r\n      var childCount = cluster.getChildCount();\r\n\r\n      var c = ' marker-cluster-';\r\n      if (childCount < 10) {\r\n        c += 'small';\r\n      } else if (childCount < 100) {\r\n        c += 'medium';\r\n      } else {\r\n        c += 'large';\r\n      }\r\n\r\n      return new L.DivIcon({\r\n        html: '<div><span>' + childCount + '</span></div>',\r\n        className: 'marker-cluster' + c,\r\n        iconSize: new L.Point(40, 40)\r\n      });\r\n    },\r\n\r\n    _bindEvents: function () {\r\n      var map                 = this._map,\r\n          spiderfyOnMaxZoom   = this.options.spiderfyOnMaxZoom,\r\n          showCoverageOnHover = this.options.showCoverageOnHover,\r\n          zoomToBoundsOnClick = this.options.zoomToBoundsOnClick;\r\n\r\n      //Zoom on cluster click or spiderfy if we are at the lowest level\r\n      if (spiderfyOnMaxZoom || zoomToBoundsOnClick) {\r\n        this.on('clusterclick', this._zoomOrSpiderfy, this);\r\n      }\r\n\r\n      //Show convex hull (boundary) polygon on mouse over\r\n      if (showCoverageOnHover) {\r\n        this.on('clustermouseover', this._showCoverage, this);\r\n        this.on('clustermouseout', this._hideCoverage, this);\r\n        map.on('zoomend', this._hideCoverage, this);\r\n      }\r\n    },\r\n\r\n    _zoomOrSpiderfy: function (e) {\r\n      var cluster       = e.layer,\r\n          bottomCluster = cluster;\r\n\r\n      while (bottomCluster._childClusters.length === 1) {\r\n        bottomCluster = bottomCluster._childClusters[0];\r\n      }\r\n\r\n      if (bottomCluster._zoom === this._maxZoom &&\r\n          bottomCluster._childCount === cluster._childCount &&\r\n          this.options.spiderfyOnMaxZoom) {\r\n\r\n        // All child markers are contained in a single cluster from this._maxZoom to this cluster.\r\n        cluster.spiderfy();\r\n      } else if (this.options.zoomToBoundsOnClick) {\r\n        cluster.zoomToBounds();\r\n      }\r\n\r\n      // Focus the map again for keyboard users.\r\n      if (e.originalEvent && e.originalEvent.keyCode === 13) {\r\n        this._map._container.focus();\r\n      }\r\n    },\r\n\r\n    _showCoverage: function (e) {\r\n      var map = this._map;\r\n      if (this._inZoomAnimation) {\r\n        return;\r\n      }\r\n      if (this._shownPolygon) {\r\n        map.removeLayer(this._shownPolygon);\r\n      }\r\n      if (e.layer.getChildCount() > 2 && e.layer !== this._spiderfied) {\r\n        this._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions);\r\n        map.addLayer(this._shownPolygon);\r\n      }\r\n    },\r\n\r\n    _hideCoverage: function () {\r\n      if (this._shownPolygon) {\r\n        this._map.removeLayer(this._shownPolygon);\r\n        this._shownPolygon = null;\r\n      }\r\n    },\r\n\r\n    _unbindEvents: function () {\r\n      var spiderfyOnMaxZoom   = this.options.spiderfyOnMaxZoom,\r\n          showCoverageOnHover = this.options.showCoverageOnHover,\r\n          zoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\r\n          map                 = this._map;\r\n\r\n      if (spiderfyOnMaxZoom || zoomToBoundsOnClick) {\r\n        this.off('clusterclick', this._zoomOrSpiderfy, this);\r\n      }\r\n      if (showCoverageOnHover) {\r\n        this.off('clustermouseover', this._showCoverage, this);\r\n        this.off('clustermouseout', this._hideCoverage, this);\r\n        map.off('zoomend', this._hideCoverage, this);\r\n      }\r\n    },\r\n\r\n    _zoomEnd: function () {\r\n      if (!this._map) { //May have been removed from the map by a zoomEnd handler\r\n        return;\r\n      }\r\n      this._mergeSplitClusters();\r\n\r\n      this._zoom = Math.round(this._map._zoom);\r\n      this._currentShownBounds = this._getExpandedVisibleBounds();\r\n    },\r\n\r\n    _moveEnd: function () {\r\n      if (this._inZoomAnimation) {\r\n        return;\r\n      }\r\n\r\n      var newBounds = this._getExpandedVisibleBounds();\r\n\r\n      this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, newBounds);\r\n      this._topClusterLevel._recursivelyAddChildrenToMap(null, Math.round(this._map._zoom), newBounds);\r\n\r\n      this._currentShownBounds = newBounds;\r\n      return;\r\n    },\r\n\r\n    _generateInitialClusters: function () {\r\n      var maxZoom  = this._map.getMaxZoom(),\r\n          radius   = this.options.maxClusterRadius,\r\n          radiusFn = radius;\r\n\r\n      //If we just set maxClusterRadius to a single number, we need to create\r\n      //a simple function to return that number. Otherwise, we just have to\r\n      //use the function we've passed in.\r\n      if (typeof radius !== \"function\") {\r\n        radiusFn = function () {\r\n          return radius;\r\n        };\r\n      }\r\n\r\n      if (this.options.disableClusteringAtZoom) {\r\n        maxZoom = this.options.disableClusteringAtZoom - 1;\r\n      }\r\n      this._maxZoom = maxZoom;\r\n      this._gridClusters = {};\r\n      this._gridUnclustered = {};\r\n\r\n      //Set up DistanceGrids for each zoom\r\n      for (var zoom = maxZoom; zoom >= 0; zoom--) {\r\n        this._gridClusters[zoom] = new L.DistanceGrid(radiusFn(zoom));\r\n        this._gridUnclustered[zoom] = new L.DistanceGrid(radiusFn(zoom));\r\n      }\r\n\r\n      // Instantiate the appropriate L.MarkerCluster class (animated or not).\r\n      this._topClusterLevel = new this._markerCluster(this, -1);\r\n    },\r\n\r\n    //Zoom: Zoom to start adding at (Pass this._maxZoom to start at the bottom)\r\n    _addLayer: function (layer, zoom) {\r\n      var gridClusters    = this._gridClusters,\r\n          gridUnclustered = this._gridUnclustered,\r\n          markerPoint, z;\r\n\r\n      if (this.options.singleMarkerMode) {\r\n        this._overrideMarkerIcon(layer);\r\n      }\r\n\r\n      layer.on('move', this._childMarkerMoved, this);\r\n\r\n      //Find the lowest zoom level to slot this one in\r\n      for (; zoom >= 0; zoom--) {\r\n        markerPoint = this._map.project(layer.getLatLng(), zoom); // calculate pixel position\r\n\r\n        //Try find a cluster close by\r\n        var closest = gridClusters[zoom].getNearObject(markerPoint);\r\n        if (closest) {\r\n          closest._addChild(layer);\r\n          layer.__parent = closest;\r\n          return;\r\n        }\r\n\r\n        //Try find a marker close by to form a new cluster with\r\n        closest = gridUnclustered[zoom].getNearObject(markerPoint);\r\n        if (closest) {\r\n          var parent = closest.__parent;\r\n          if (parent) {\r\n            this._removeLayer(closest, false);\r\n          }\r\n\r\n          //Create new cluster with these 2 in it\r\n\r\n          var newCluster = new this._markerCluster(this, zoom, closest, layer);\r\n          gridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom));\r\n          closest.__parent = newCluster;\r\n          layer.__parent = newCluster;\r\n\r\n          //First create any new intermediate parent clusters that don't exist\r\n          var lastParent = newCluster;\r\n          for (z = zoom - 1; z > parent._zoom; z--) {\r\n            lastParent = new this._markerCluster(this, z, lastParent);\r\n            gridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));\r\n          }\r\n          parent._addChild(lastParent);\r\n\r\n          //Remove closest from this zoom level and any above that it is in, replace with newCluster\r\n          this._removeFromGridUnclustered(closest, zoom);\r\n\r\n          return;\r\n        }\r\n\r\n        //Didn't manage to cluster in at this zoom, record us as a marker here and continue upwards\r\n        gridUnclustered[zoom].addObject(layer, markerPoint);\r\n      }\r\n\r\n      //Didn't get in anything, add us to the top\r\n      this._topClusterLevel._addChild(layer);\r\n      layer.__parent = this._topClusterLevel;\r\n      return;\r\n    },\r\n\r\n    //Enqueue code to fire after the marker expand/contract has happened\r\n    _enqueue: function (fn) {\r\n      this._queue.push(fn);\r\n      if (!this._queueTimeout) {\r\n        this._queueTimeout = setTimeout(L.bind(this._processQueue, this), 300);\r\n      }\r\n    },\r\n    _processQueue: function () {\r\n      for (var i = 0; i < this._queue.length; i++) {\r\n        this._queue[i].call(this);\r\n      }\r\n      this._queue.length = 0;\r\n      clearTimeout(this._queueTimeout);\r\n      this._queueTimeout = null;\r\n    },\r\n\r\n    //Merge and split any existing clusters that are too big or small\r\n    _mergeSplitClusters: function () {\r\n      var mapZoom = Math.round(this._map._zoom);\r\n\r\n      //In case we are starting to split before the animation finished\r\n      this._processQueue();\r\n\r\n      if (this._zoom < mapZoom && this._currentShownBounds.intersects(this._getExpandedVisibleBounds())) { //Zoom in, split\r\n        this._animationStart();\r\n        //Remove clusters now off screen\r\n        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, this._getExpandedVisibleBounds());\r\n\r\n        this._animationZoomIn(this._zoom, mapZoom);\r\n\r\n      } else if (this._zoom > mapZoom) { //Zoom out, merge\r\n        this._animationStart();\r\n\r\n        this._animationZoomOut(this._zoom, mapZoom);\r\n      } else {\r\n        this._moveEnd();\r\n      }\r\n    },\r\n\r\n    //Gets the maps visible bounds expanded in each direction by the size of the screen (so the user cannot see an area we do not cover in one pan)\r\n    _getExpandedVisibleBounds: function () {\r\n      if (!this.options.removeOutsideVisibleBounds) {\r\n        return this._mapBoundsInfinite;\r\n      } else if (L.Browser.mobile) {\r\n        return this._checkBoundsMaxLat(this._map.getBounds());\r\n      }\r\n\r\n      return this._checkBoundsMaxLat(this._map.getBounds().pad(1)); // Padding expands the bounds by its own dimensions but scaled with the given factor.\r\n    },\r\n\r\n    /**\r\n     * Expands the latitude to Infinity (or -Infinity) if the input bounds reach the map projection maximum defined latitude\r\n     * (in the case of Web/Spherical Mercator, it is 85.0511287798 / see https://en.wikipedia.org/wiki/Web_Mercator#Formulas).\r\n     * Otherwise, the removeOutsideVisibleBounds option will remove markers beyond that limit, whereas the same markers without\r\n     * this option (or outside MCG) will have their position floored (ceiled) by the projection and rendered at that limit,\r\n     * making the user think that MCG \"eats\" them and never displays them again.\r\n     * @param bounds L.LatLngBounds\r\n     * @returns {L.LatLngBounds}\r\n     * @private\r\n     */\r\n    _checkBoundsMaxLat: function (bounds) {\r\n      var maxLat = this._maxLat;\r\n\r\n      if (maxLat !== undefined) {\r\n        if (bounds.getNorth() >= maxLat) {\r\n          bounds._northEast.lat = Infinity;\r\n        }\r\n        if (bounds.getSouth() <= -maxLat) {\r\n          bounds._southWest.lat = -Infinity;\r\n        }\r\n      }\r\n\r\n      return bounds;\r\n    },\r\n\r\n    //Shared animation code\r\n    _animationAddLayerNonAnimated: function (layer, newCluster) {\r\n      if (newCluster === layer) {\r\n        this._featureGroup.addLayer(layer);\r\n      } else if (newCluster._childCount === 2) {\r\n        newCluster._addToMap();\r\n\r\n        var markers = newCluster.getAllChildMarkers();\r\n        this._featureGroup.removeLayer(markers[0]);\r\n        this._featureGroup.removeLayer(markers[1]);\r\n      } else {\r\n        newCluster._updateIcon();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Extracts individual (i.e. non-group) layers from a Layer Group.\r\n     * @param group to extract layers from.\r\n     * @param output {Array} in which to store the extracted layers.\r\n     * @returns {*|Array}\r\n     * @private\r\n     */\r\n    _extractNonGroupLayers: function (group, output) {\r\n      var layers = group.getLayers(),\r\n          i      = 0,\r\n          layer;\r\n\r\n      output = output || [];\r\n\r\n      for (; i < layers.length; i++) {\r\n        layer = layers[i];\r\n\r\n        if (layer instanceof L.LayerGroup) {\r\n          this._extractNonGroupLayers(layer, output);\r\n          continue;\r\n        }\r\n\r\n        output.push(layer);\r\n      }\r\n\r\n      return output;\r\n    },\r\n\r\n    /**\r\n     * Implements the singleMarkerMode option.\r\n     * @param layer Marker to re-style using the Clusters iconCreateFunction.\r\n     * @returns {L.Icon} The newly created icon.\r\n     * @private\r\n     */\r\n    _overrideMarkerIcon: function (layer) {\r\n      var icon = layer.options.icon = this.options.iconCreateFunction({\r\n        getChildCount: function () {\r\n          return 1;\r\n        },\r\n        getAllChildMarkers: function () {\r\n          return [layer];\r\n        }\r\n      });\r\n\r\n      return icon;\r\n    }\r\n  });\r\n\r\n// Constant bounds used in case option \"removeOutsideVisibleBounds\" is set to false.\r\n  L.MarkerClusterGroup.include({\r\n    _mapBoundsInfinite: new L.LatLngBounds(new L.LatLng(-Infinity, -Infinity), new L.LatLng(Infinity, Infinity))\r\n  });\r\n\r\n  L.MarkerClusterGroup.include({\r\n    _noAnimation: {\r\n      //Non Animated versions of everything\r\n      _animationStart: function () {\r\n        //Do nothing...\r\n      },\r\n      _animationZoomIn: function (previousZoomLevel, newZoomLevel) {\r\n        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel);\r\n        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\r\n\r\n        //We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\r\n        this.fire('animationend');\r\n      },\r\n      _animationZoomOut: function (previousZoomLevel, newZoomLevel) {\r\n        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel);\r\n        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\r\n\r\n        //We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\r\n        this.fire('animationend');\r\n      },\r\n      _animationAddLayer: function (layer, newCluster) {\r\n        this._animationAddLayerNonAnimated(layer, newCluster);\r\n      }\r\n    },\r\n\r\n    _withAnimation: {\r\n      //Animated versions here\r\n      _animationStart: function () {\r\n        this._map._mapPane.className += ' leaflet-cluster-anim';\r\n        this._inZoomAnimation++;\r\n      },\r\n\r\n      _animationZoomIn: function (previousZoomLevel, newZoomLevel) {\r\n        var bounds = this._getExpandedVisibleBounds(),\r\n            fg     = this._featureGroup,\r\n            i;\r\n\r\n        this._ignoreMove = true;\r\n\r\n        //Add all children of current clusters to map and remove those clusters from map\r\n        this._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function (c) {\r\n          var startPos = c._latlng,\r\n              markers  = c._markers,\r\n              m;\r\n\r\n          if (!bounds.contains(startPos)) {\r\n            startPos = null;\r\n          }\r\n\r\n          if (c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel) { //Immediately add the new child and remove us\r\n            fg.removeLayer(c);\r\n            c._recursivelyAddChildrenToMap(null, newZoomLevel, bounds);\r\n          } else {\r\n            //Fade out old cluster\r\n            c.clusterHide();\r\n            c._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds);\r\n          }\r\n\r\n          //Remove all markers that aren't visible any more\r\n          //TODO: Do we actually need to do this on the higher levels too?\r\n          for (i = markers.length - 1; i >= 0; i--) {\r\n            m = markers[i];\r\n            if (!bounds.contains(m._latlng)) {\r\n              fg.removeLayer(m);\r\n            }\r\n          }\r\n\r\n        });\r\n\r\n        this._forceLayout();\r\n\r\n        //Update opacities\r\n        this._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel);\r\n        //TODO Maybe? Update markers in _recursivelyBecomeVisible\r\n        fg.eachLayer(function (n) {\r\n          if (!(n instanceof L.MarkerCluster) && n._icon) {\r\n            n.clusterShow();\r\n          }\r\n        });\r\n\r\n        //update the positions of the just added clusters/markers\r\n        this._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function (c) {\r\n          c._recursivelyRestoreChildPositions(newZoomLevel);\r\n        });\r\n\r\n        this._ignoreMove = false;\r\n\r\n        //Remove the old clusters and close the zoom animation\r\n        this._enqueue(function () {\r\n          //update the positions of the just added clusters/markers\r\n          this._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function (c) {\r\n            fg.removeLayer(c);\r\n            c.clusterShow();\r\n          });\r\n\r\n          this._animationEnd();\r\n        });\r\n      },\r\n\r\n      _animationZoomOut: function (previousZoomLevel, newZoomLevel) {\r\n        this._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel);\r\n\r\n        //Need to add markers for those that weren't on the map before but are now\r\n        this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\r\n        //Remove markers that were on the map before but won't be now\r\n        this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel, this._getExpandedVisibleBounds());\r\n      },\r\n\r\n      _animationAddLayer: function (layer, newCluster) {\r\n        var me = this,\r\n            fg = this._featureGroup;\r\n\r\n        fg.addLayer(layer);\r\n        if (newCluster !== layer) {\r\n          if (newCluster._childCount > 2) { //Was already a cluster\r\n\r\n            newCluster._updateIcon();\r\n            this._forceLayout();\r\n            this._animationStart();\r\n\r\n            layer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng()));\r\n            layer.clusterHide();\r\n\r\n            this._enqueue(function () {\r\n              fg.removeLayer(layer);\r\n              layer.clusterShow();\r\n\r\n              me._animationEnd();\r\n            });\r\n\r\n          } else { //Just became a cluster\r\n            this._forceLayout();\r\n\r\n            me._animationStart();\r\n            me._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._map.getZoom());\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // Private methods for animated versions.\r\n    _animationZoomOutSingle: function (cluster, previousZoomLevel, newZoomLevel) {\r\n      var bounds = this._getExpandedVisibleBounds();\r\n\r\n      //Animate all of the markers in the clusters to move to their cluster center point\r\n      cluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, previousZoomLevel + 1, newZoomLevel);\r\n\r\n      var me = this;\r\n\r\n      //Update the opacity (If we immediately set it they won't animate)\r\n      this._forceLayout();\r\n      cluster._recursivelyBecomeVisible(bounds, newZoomLevel);\r\n\r\n      //TODO: Maybe use the transition timing stuff to make this more reliable\r\n      //When the animations are done, tidy up\r\n      this._enqueue(function () {\r\n\r\n        //This cluster stopped being a cluster before the timeout fired\r\n        if (cluster._childCount === 1) {\r\n          var m = cluster._markers[0];\r\n          //If we were in a cluster animation at the time then the opacity and position of our child could be wrong now, so fix it\r\n          this._ignoreMove = true;\r\n          m.setLatLng(m.getLatLng());\r\n          this._ignoreMove = false;\r\n          if (m.clusterShow) {\r\n            m.clusterShow();\r\n          }\r\n        } else {\r\n          cluster._recursively(bounds, newZoomLevel, 0, function (c) {\r\n            c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel + 1);\r\n          });\r\n        }\r\n        me._animationEnd();\r\n      });\r\n    },\r\n\r\n    _animationEnd: function () {\r\n      if (this._map) {\r\n        this._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\r\n      }\r\n      this._inZoomAnimation--;\r\n      this.fire('animationend');\r\n    },\r\n\r\n    //Force a browser layout of stuff in the map\r\n    // Should apply the current opacity and location to all elements so we can update them again for an animation\r\n    _forceLayout: function () {\r\n      //In my testing this works, infact offsetWidth of any element seems to work.\r\n      //Could loop all this._layers and do this for each _icon if it stops working\r\n\r\n      L.Util.falseFn(document.body.offsetWidth);\r\n    }\r\n  });\r\n\r\n  L.markerClusterGroup = function (options) {\r\n    return new L.MarkerClusterGroup(options);\r\n  };\r\n\r\n  L.MarkerCluster = L.Marker.extend({\r\n    initialize: function (group, zoom, a, b) {\r\n\r\n      L.Marker.prototype.initialize.call(this, a ? (a._cLatLng || a.getLatLng()) : new L.LatLng(0, 0), {icon: this});\r\n\r\n      this._group = group;\r\n      this._zoom = zoom;\r\n\r\n      this._markers = [];\r\n      this._childClusters = [];\r\n      this._childCount = 0;\r\n      this._iconNeedsUpdate = true;\r\n      this._boundsNeedUpdate = true;\r\n\r\n      this._bounds = new L.LatLngBounds();\r\n\r\n      if (a) {\r\n        this._addChild(a);\r\n      }\r\n      if (b) {\r\n        this._addChild(b);\r\n      }\r\n    },\r\n\r\n    //Recursively retrieve all child markers of this cluster\r\n    getAllChildMarkers: function (storageArray) {\r\n      storageArray = storageArray || [];\r\n\r\n      for (var i = this._childClusters.length - 1; i >= 0; i--) {\r\n        this._childClusters[i].getAllChildMarkers(storageArray);\r\n      }\r\n\r\n      for (var j = this._markers.length - 1; j >= 0; j--) {\r\n        storageArray.push(this._markers[j]);\r\n      }\r\n\r\n      return storageArray;\r\n    },\r\n\r\n    //Returns the count of how many child markers we have\r\n    getChildCount: function () {\r\n      return this._childCount;\r\n    },\r\n\r\n    //Zoom to the minimum of showing all of the child markers, or the extents of this cluster\r\n    zoomToBounds: function () {\r\n      var childClusters = this._childClusters.slice(),\r\n          map           = this._group._map,\r\n          boundsZoom    = map.getBoundsZoom(this._bounds),\r\n          zoom          = this._zoom + 1,\r\n          mapZoom       = map.getZoom(),\r\n          i;\r\n\r\n      //calculate how far we need to zoom down to see all of the markers\r\n      while (childClusters.length > 0 && boundsZoom > zoom) {\r\n        zoom++;\r\n        var newClusters = [];\r\n        for (i = 0; i < childClusters.length; i++) {\r\n          newClusters = newClusters.concat(childClusters[i]._childClusters);\r\n        }\r\n        childClusters = newClusters;\r\n      }\r\n\r\n      if (boundsZoom > zoom) {\r\n        this._group._map.setView(this._latlng, zoom);\r\n      } else if (boundsZoom <= mapZoom) { //If fitBounds wouldn't zoom us down, zoom us down instead\r\n        this._group._map.setView(this._latlng, mapZoom + 1);\r\n      } else {\r\n        this._group._map.fitBounds(this._bounds);\r\n      }\r\n    },\r\n\r\n    getBounds: function () {\r\n      var bounds = new L.LatLngBounds();\r\n      bounds.extend(this._bounds);\r\n      return bounds;\r\n    },\r\n\r\n    _updateIcon: function () {\r\n      this._iconNeedsUpdate = true;\r\n      if (this._icon) {\r\n        this.setIcon(this);\r\n      }\r\n    },\r\n\r\n    //Cludge for Icon, we pretend to be an icon for performance\r\n    createIcon: function () {\r\n      if (this._iconNeedsUpdate) {\r\n        this._iconObj = this._group.options.iconCreateFunction(this);\r\n        this._iconNeedsUpdate = false;\r\n      }\r\n      return this._iconObj.createIcon();\r\n    },\r\n    createShadow: function () {\r\n      return this._iconObj.createShadow();\r\n    },\r\n\r\n    _addChild: function (new1, isNotificationFromChild) {\r\n\r\n      this._iconNeedsUpdate = true;\r\n\r\n      this._boundsNeedUpdate = true;\r\n      this._setClusterCenter(new1);\r\n\r\n      if (new1 instanceof L.MarkerCluster) {\r\n        if (!isNotificationFromChild) {\r\n          this._childClusters.push(new1);\r\n          new1.__parent = this;\r\n        }\r\n        this._childCount += new1._childCount;\r\n      } else {\r\n        if (!isNotificationFromChild) {\r\n          this._markers.push(new1);\r\n        }\r\n        this._childCount++;\r\n      }\r\n\r\n      if (this.__parent) {\r\n        this.__parent._addChild(new1, true);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Makes sure the cluster center is set. If not, uses the child center if it is a cluster, or the marker position.\r\n     * @param child L.MarkerCluster|L.Marker that will be used as cluster center if not defined yet.\r\n     * @private\r\n     */\r\n    _setClusterCenter: function (child) {\r\n      if (!this._cLatLng) {\r\n        // when clustering, take position of the first point as the cluster center\r\n        this._cLatLng = child._cLatLng || child._latlng;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Assigns impossible bounding values so that the next extend entirely determines the new bounds.\r\n     * This method avoids having to trash the previous L.LatLngBounds object and to create a new one, which is much slower for this class.\r\n     * As long as the bounds are not extended, most other methods would probably fail, as they would with bounds initialized but not extended.\r\n     * @private\r\n     */\r\n    _resetBounds: function () {\r\n      var bounds = this._bounds;\r\n\r\n      if (bounds._southWest) {\r\n        bounds._southWest.lat = Infinity;\r\n        bounds._southWest.lng = Infinity;\r\n      }\r\n      if (bounds._northEast) {\r\n        bounds._northEast.lat = -Infinity;\r\n        bounds._northEast.lng = -Infinity;\r\n      }\r\n    },\r\n\r\n    _recalculateBounds: function () {\r\n      var markers       = this._markers,\r\n          childClusters = this._childClusters,\r\n          latSum        = 0,\r\n          lngSum        = 0,\r\n          totalCount    = this._childCount,\r\n          i, child, childLatLng, childCount;\r\n\r\n      // Case where all markers are removed from the map and we are left with just an empty _topClusterLevel.\r\n      if (totalCount === 0) {\r\n        return;\r\n      }\r\n\r\n      // Reset rather than creating a new object, for performance.\r\n      this._resetBounds();\r\n\r\n      // Child markers.\r\n      for (i = 0; i < markers.length; i++) {\r\n        childLatLng = markers[i]._latlng;\r\n\r\n        this._bounds.extend(childLatLng);\r\n\r\n        latSum += childLatLng.lat;\r\n        lngSum += childLatLng.lng;\r\n      }\r\n\r\n      // Child clusters.\r\n      for (i = 0; i < childClusters.length; i++) {\r\n        child = childClusters[i];\r\n\r\n        // Re-compute child bounds and weighted position first if necessary.\r\n        if (child._boundsNeedUpdate) {\r\n          child._recalculateBounds();\r\n        }\r\n\r\n        this._bounds.extend(child._bounds);\r\n\r\n        childLatLng = child._wLatLng;\r\n        childCount = child._childCount;\r\n\r\n        latSum += childLatLng.lat * childCount;\r\n        lngSum += childLatLng.lng * childCount;\r\n      }\r\n\r\n      this._latlng = this._wLatLng = new L.LatLng(latSum / totalCount, lngSum / totalCount);\r\n\r\n      // Reset dirty flag.\r\n      this._boundsNeedUpdate = false;\r\n    },\r\n\r\n    //Set our markers position as given and add it to the map\r\n    _addToMap: function (startPos) {\r\n      if (startPos) {\r\n        this._backupLatlng = this._latlng;\r\n        this.setLatLng(startPos);\r\n      }\r\n      this._group._featureGroup.addLayer(this);\r\n    },\r\n\r\n    _recursivelyAnimateChildrenIn: function (bounds, center, maxZoom) {\r\n      this._recursively(bounds, 0, maxZoom - 1,\r\n          function (c) {\r\n            var markers = c._markers,\r\n                i, m;\r\n            for (i = markers.length - 1; i >= 0; i--) {\r\n              m = markers[i];\r\n\r\n              //Only do it if the icon is still on the map\r\n              if (m._icon) {\r\n                m._setPos(center);\r\n                m.clusterHide();\r\n              }\r\n            }\r\n          },\r\n          function (c) {\r\n            var childClusters = c._childClusters,\r\n                j, cm;\r\n            for (j = childClusters.length - 1; j >= 0; j--) {\r\n              cm = childClusters[j];\r\n              if (cm._icon) {\r\n                cm._setPos(center);\r\n                cm.clusterHide();\r\n              }\r\n            }\r\n          }\r\n      );\r\n    },\r\n\r\n    _recursivelyAnimateChildrenInAndAddSelfToMap: function (bounds, previousZoomLevel, newZoomLevel) {\r\n      this._recursively(bounds, newZoomLevel, 0,\r\n          function (c) {\r\n            c._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel);\r\n\r\n            //TODO: depthToAnimateIn affects _isSingleParent, if there is a multizoom we may/may not be.\r\n            //As a hack we only do a animation free zoom on a single level zoom, if someone does multiple levels then we always animate\r\n            if (c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel) {\r\n              c.clusterShow();\r\n              c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel); //Immediately remove our children as we are replacing them. TODO previousBounds not bounds\r\n            } else {\r\n              c.clusterHide();\r\n            }\r\n\r\n            c._addToMap();\r\n          }\r\n      );\r\n    },\r\n\r\n    _recursivelyBecomeVisible: function (bounds, zoomLevel) {\r\n      this._recursively(bounds, 0, zoomLevel, null, function (c) {\r\n        c.clusterShow();\r\n      });\r\n    },\r\n\r\n    _recursivelyAddChildrenToMap: function (startPos, zoomLevel, bounds) {\r\n      this._recursively(bounds, -1, zoomLevel,\r\n          function (c) {\r\n            if (zoomLevel === c._zoom) {\r\n              return;\r\n            }\r\n\r\n            //Add our child markers at startPos (so they can be animated out)\r\n            for (var i = c._markers.length - 1; i >= 0; i--) {\r\n              var nm = c._markers[i];\r\n\r\n              if (!bounds.contains(nm._latlng)) {\r\n                continue;\r\n              }\r\n\r\n              if (startPos) {\r\n                nm._backupLatlng = nm.getLatLng();\r\n\r\n                nm.setLatLng(startPos);\r\n                if (nm.clusterHide) {\r\n                  nm.clusterHide();\r\n                }\r\n              }\r\n\r\n              c._group._featureGroup.addLayer(nm);\r\n            }\r\n          },\r\n          function (c) {\r\n            c._addToMap(startPos);\r\n          }\r\n      );\r\n    },\r\n\r\n    _recursivelyRestoreChildPositions: function (zoomLevel) {\r\n      //Fix positions of child markers\r\n      for (var i = this._markers.length - 1; i >= 0; i--) {\r\n        var nm = this._markers[i];\r\n        if (nm._backupLatlng) {\r\n          nm.setLatLng(nm._backupLatlng);\r\n          delete nm._backupLatlng;\r\n        }\r\n      }\r\n\r\n      if (zoomLevel - 1 === this._zoom) {\r\n        //Reposition child clusters\r\n        for (var j = this._childClusters.length - 1; j >= 0; j--) {\r\n          this._childClusters[j]._restorePosition();\r\n        }\r\n      } else {\r\n        for (var k = this._childClusters.length - 1; k >= 0; k--) {\r\n          this._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);\r\n        }\r\n      }\r\n    },\r\n\r\n    _restorePosition: function () {\r\n      if (this._backupLatlng) {\r\n        this.setLatLng(this._backupLatlng);\r\n        delete this._backupLatlng;\r\n      }\r\n    },\r\n\r\n    //exceptBounds: If set, don't remove any markers/clusters in it\r\n    _recursivelyRemoveChildrenFromMap: function (previousBounds, zoomLevel, exceptBounds) {\r\n      var m, i;\r\n      this._recursively(previousBounds, -1, zoomLevel - 1,\r\n          function (c) {\r\n            //Remove markers at every level\r\n            for (i = c._markers.length - 1; i >= 0; i--) {\r\n              m = c._markers[i];\r\n              if (!exceptBounds || !exceptBounds.contains(m._latlng)) {\r\n                c._group._featureGroup.removeLayer(m);\r\n                if (m.clusterShow) {\r\n                  m.clusterShow();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          function (c) {\r\n            //Remove child clusters at just the bottom level\r\n            for (i = c._childClusters.length - 1; i >= 0; i--) {\r\n              m = c._childClusters[i];\r\n              if (!exceptBounds || !exceptBounds.contains(m._latlng)) {\r\n                c._group._featureGroup.removeLayer(m);\r\n                if (m.clusterShow) {\r\n                  m.clusterShow();\r\n                }\r\n              }\r\n            }\r\n          }\r\n      );\r\n    },\r\n\r\n    //Run the given functions recursively to this and child clusters\r\n    // boundsToApplyTo: a L.LatLngBounds representing the bounds of what clusters to recurse in to\r\n    // zoomLevelToStart: zoom level to start running functions (inclusive)\r\n    // zoomLevelToStop: zoom level to stop running functions (inclusive)\r\n    // runAtEveryLevel: function that takes an L.MarkerCluster as an argument that should be applied on every level\r\n    // runAtBottomLevel: function that takes an L.MarkerCluster as an argument that should be applied at only the bottom level\r\n    _recursively: function (boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {\r\n      var childClusters = this._childClusters,\r\n          zoom          = this._zoom,\r\n          i, c;\r\n\r\n      if (zoomLevelToStart > zoom) { //Still going down to required depth, just recurse to child clusters\r\n        for (i = childClusters.length - 1; i >= 0; i--) {\r\n          c = childClusters[i];\r\n          if (boundsToApplyTo.intersects(c._bounds)) {\r\n            c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\r\n          }\r\n        }\r\n      } else { //In required depth\r\n\r\n        if (runAtEveryLevel) {\r\n          runAtEveryLevel(this);\r\n        }\r\n        if (runAtBottomLevel && this._zoom === zoomLevelToStop) {\r\n          runAtBottomLevel(this);\r\n        }\r\n\r\n        //TODO: This loop is almost the same as above\r\n        if (zoomLevelToStop > zoom) {\r\n          for (i = childClusters.length - 1; i >= 0; i--) {\r\n            c = childClusters[i];\r\n            if (boundsToApplyTo.intersects(c._bounds)) {\r\n              c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    //Returns true if we are the parent of only one cluster and that cluster is the same as us\r\n    _isSingleParent: function () {\r\n      //Don't need to check this._markers as the rest won't work if there are any\r\n      return this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;\r\n    }\r\n  });\r\n\r\n  /*\r\n   * Extends L.Marker to include two extra methods: clusterHide and clusterShow.\r\n   *\r\n   * They work as setOpacity(0) and setOpacity(1) respectively, but\r\n   * they will remember the marker's opacity when hiding and showing it again.\r\n   *\r\n   */\r\n\r\n  L.Marker.include({\r\n\r\n    clusterHide: function () {\r\n      this.options.opacityWhenUnclustered = this.options.opacity || 1;\r\n      return this.setOpacity(0);\r\n    },\r\n\r\n    clusterShow: function () {\r\n      var ret = this.setOpacity(this.options.opacity || this.options.opacityWhenUnclustered);\r\n      delete this.options.opacityWhenUnclustered;\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  L.DistanceGrid = function (cellSize) {\r\n    this._cellSize = cellSize;\r\n    this._sqCellSize = cellSize * cellSize;\r\n    this._grid = {};\r\n    this._objectPoint = {};\r\n  };\r\n\r\n  L.DistanceGrid.prototype = {\r\n\r\n    addObject: function (obj, point) {\r\n      var x    = this._getCoord(point.x),\r\n          y    = this._getCoord(point.y),\r\n          grid = this._grid,\r\n          row  = grid[y] = grid[y] || {},\r\n          cell = row[x] = row[x] || [],\r\n          stamp = L.Util.stamp(obj);\r\n\r\n      this._objectPoint[stamp] = point;\r\n\r\n      cell.push(obj);\r\n    },\r\n\r\n    updateObject: function (obj, point) {\r\n      this.removeObject(obj);\r\n      this.addObject(obj, point);\r\n    },\r\n\r\n    //Returns true if the object was found\r\n    removeObject: function (obj, point) {\r\n      var x    = this._getCoord(point.x),\r\n          y    = this._getCoord(point.y),\r\n          grid = this._grid,\r\n          row  = grid[y] = grid[y] || {},\r\n          cell = row[x] = row[x] || [],\r\n          i, len;\r\n\r\n      delete this._objectPoint[L.Util.stamp(obj)];\r\n\r\n      for (i = 0, len = cell.length; i < len; i++) {\r\n        if (cell[i] === obj) {\r\n\r\n          cell.splice(i, 1);\r\n\r\n          if (len === 1) {\r\n            delete row[x];\r\n          }\r\n\r\n          return true;\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    eachObject: function (fn, context) {\r\n      var i, j, k, len, row, cell, removed,\r\n          grid = this._grid;\r\n\r\n      for (i in grid) {\r\n        row = grid[i];\r\n\r\n        for (j in row) {\r\n          cell = row[j];\r\n\r\n          for (k = 0, len = cell.length; k < len; k++) {\r\n            removed = fn.call(context, cell[k]);\r\n            if (removed) {\r\n              k--;\r\n              len--;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    getNearObject: function (point) {\r\n      var x             = this._getCoord(point.x),\r\n          y             = this._getCoord(point.y),\r\n          i, j, k, row, cell, len, obj, dist,\r\n          objectPoint   = this._objectPoint,\r\n          closestDistSq = this._sqCellSize,\r\n          closest       = null;\r\n\r\n      for (i = y - 1; i <= y + 1; i++) {\r\n        row = this._grid[i];\r\n        if (row) {\r\n\r\n          for (j = x - 1; j <= x + 1; j++) {\r\n            cell = row[j];\r\n            if (cell) {\r\n\r\n              for (k = 0, len = cell.length; k < len; k++) {\r\n                obj = cell[k];\r\n                dist = this._sqDist(objectPoint[L.Util.stamp(obj)], point);\r\n                if (dist < closestDistSq) {\r\n                  closestDistSq = dist;\r\n                  closest = obj;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return closest;\r\n    },\r\n\r\n    _getCoord: function (x) {\r\n      return Math.floor(x / this._cellSize);\r\n    },\r\n\r\n    _sqDist: function (p, p2) {\r\n      var dx = p2.x - p.x,\r\n          dy = p2.y - p.y;\r\n      return dx * dx + dy * dy;\r\n    }\r\n  };\r\n\r\n  /* Copyright (c) 2012 the authors listed at the following URL, and/or\r\n   the authors of referenced articles or incorporated external code:\r\n   http://en.literateprograms.org/Quickhull_(Javascript)?action=history&offset=20120410175256\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   Retrieved from: http://en.literateprograms.org/Quickhull_(Javascript)?oldid=18434\r\n   */\r\n\r\n  (function () {\r\n    L.QuickHull = {\r\n\r\n      /*\r\n       * @param {Object} cpt a point to be measured from the baseline\r\n       * @param {Array} bl the baseline, as represented by a two-element\r\n       *   array of latlng objects.\r\n       * @returns {Number} an approximate distance measure\r\n       */\r\n      getDistant: function (cpt, bl) {\r\n        var vY = bl[1].lat - bl[0].lat,\r\n            vX = bl[0].lng - bl[1].lng;\r\n        return (vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng));\r\n      },\r\n\r\n      /*\r\n       * @param {Array} baseLine a two-element array of latlng objects\r\n       *   representing the baseline to project from\r\n       * @param {Array} latLngs an array of latlng objects\r\n       * @returns {Object} the maximum point and all new points to stay\r\n       *   in consideration for the hull.\r\n       */\r\n      findMostDistantPointFromBaseLine: function (baseLine, latLngs) {\r\n        var maxD      = 0,\r\n            maxPt     = null,\r\n            newPoints = [],\r\n            i, pt, d;\r\n\r\n        for (i = latLngs.length - 1; i >= 0; i--) {\r\n          pt = latLngs[i];\r\n          d = this.getDistant(pt, baseLine);\r\n\r\n          if (d > 0) {\r\n            newPoints.push(pt);\r\n          } else {\r\n            continue;\r\n          }\r\n\r\n          if (d > maxD) {\r\n            maxD = d;\r\n            maxPt = pt;\r\n          }\r\n        }\r\n\r\n        return {maxPoint: maxPt, newPoints: newPoints};\r\n      },\r\n\r\n      /*\r\n       * Given a baseline, compute the convex hull of latLngs as an array\r\n       * of latLngs.\r\n       *\r\n       * @param {Array} latLngs\r\n       * @returns {Array}\r\n       */\r\n      buildConvexHull: function (baseLine, latLngs) {\r\n        var convexHullBaseLines = [],\r\n            t                   = this.findMostDistantPointFromBaseLine(baseLine, latLngs);\r\n\r\n        if (t.maxPoint) { // if there is still a point \"outside\" the base line\r\n          convexHullBaseLines =\r\n              convexHullBaseLines.concat(\r\n                  this.buildConvexHull([baseLine[0], t.maxPoint], t.newPoints)\r\n              );\r\n          convexHullBaseLines =\r\n              convexHullBaseLines.concat(\r\n                  this.buildConvexHull([t.maxPoint, baseLine[1]], t.newPoints)\r\n              );\r\n          return convexHullBaseLines;\r\n        } else {  // if there is no more point \"outside\" the base line, the current base line is part of the convex hull\r\n          return [baseLine[0]];\r\n        }\r\n      },\r\n\r\n      /*\r\n       * Given an array of latlngs, compute a convex hull as an array\r\n       * of latlngs\r\n       *\r\n       * @param {Array} latLngs\r\n       * @returns {Array}\r\n       */\r\n      getConvexHull: function (latLngs) {\r\n        // find first baseline\r\n        var maxLat                    = false, minLat    = false,\r\n            maxLng                    = false, minLng = false,\r\n            maxLatPt = null, minLatPt = null,\r\n            maxLngPt                  = null, minLngPt = null,\r\n            maxPt                     = null, minPt       = null,\r\n            i;\r\n\r\n        for (i = latLngs.length - 1; i >= 0; i--) {\r\n          var pt = latLngs[i];\r\n          if (maxLat === false || pt.lat > maxLat) {\r\n            maxLatPt = pt;\r\n            maxLat = pt.lat;\r\n          }\r\n          if (minLat === false || pt.lat < minLat) {\r\n            minLatPt = pt;\r\n            minLat = pt.lat;\r\n          }\r\n          if (maxLng === false || pt.lng > maxLng) {\r\n            maxLngPt = pt;\r\n            maxLng = pt.lng;\r\n          }\r\n          if (minLng === false || pt.lng < minLng) {\r\n            minLngPt = pt;\r\n            minLng = pt.lng;\r\n          }\r\n        }\r\n\r\n        if (minLat !== maxLat) {\r\n          minPt = minLatPt;\r\n          maxPt = maxLatPt;\r\n        } else {\r\n          minPt = minLngPt;\r\n          maxPt = maxLngPt;\r\n        }\r\n\r\n        var ch = [].concat(this.buildConvexHull([minPt, maxPt], latLngs),\r\n            this.buildConvexHull([maxPt, minPt], latLngs));\r\n        return ch;\r\n      }\r\n    };\r\n  }());\r\n\r\n  L.MarkerCluster.include({\r\n    getConvexHull: function () {\r\n      var childMarkers = this.getAllChildMarkers(),\r\n          points       = [],\r\n          p, i;\r\n\r\n      for (i = childMarkers.length - 1; i >= 0; i--) {\r\n        p = childMarkers[i].getLatLng();\r\n        points.push(p);\r\n      }\r\n\r\n      return L.QuickHull.getConvexHull(points);\r\n    }\r\n  });\r\n\r\n//This code is 100% based on https://github.com/jawj/OverlappingMarkerSpiderfier-Leaflet\r\n//Huge thanks to jawj for implementing it first to make my job easy :-)\r\n\r\n  L.MarkerCluster.include({\r\n\r\n    _2PI: Math.PI * 2,\r\n    _circleFootSeparation: 25, //related to circumference of circle\r\n    _circleStartAngle: Math.PI / 6,\r\n\r\n    _spiralFootSeparation: 28, //related to size of spiral (experiment!)\r\n    _spiralLengthStart: 11,\r\n    _spiralLengthFactor: 5,\r\n\r\n    _circleSpiralSwitchover: 9, //show spiral instead of circle from this marker count upwards.\r\n                                // 0 -> always spiral; Infinity -> always circle\r\n\r\n    spiderfy: function () {\r\n      if (this._group._spiderfied === this || this._group._inZoomAnimation) {\r\n        return;\r\n      }\r\n\r\n      var childMarkers = this.getAllChildMarkers(),\r\n          group        = this._group,\r\n          map          = group._map,\r\n          center       = map.latLngToLayerPoint(this._latlng),\r\n          positions;\r\n\r\n      this._group._unspiderfy();\r\n      this._group._spiderfied = this;\r\n\r\n      //TODO Maybe: childMarkers order by distance to center\r\n\r\n      if (childMarkers.length >= this._circleSpiralSwitchover) {\r\n        positions = this._generatePointsSpiral(childMarkers.length, center);\r\n      } else {\r\n        center.y += 10; // Otherwise circles look wrong => hack for standard blue icon, renders differently for other icons.\r\n        positions = this._generatePointsCircle(childMarkers.length, center);\r\n      }\r\n\r\n      this._animationSpiderfy(childMarkers, positions);\r\n    },\r\n\r\n    unspiderfy: function (zoomDetails) {\r\n      /// <param Name=\"zoomDetails\">Argument from zoomanim if being called in a zoom animation or null otherwise</param>\r\n      if (this._group._inZoomAnimation) {\r\n        return;\r\n      }\r\n      this._animationUnspiderfy(zoomDetails);\r\n\r\n      this._group._spiderfied = null;\r\n    },\r\n\r\n    _generatePointsCircle: function (count, centerPt) {\r\n      var circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count),\r\n          legLength     = circumference / this._2PI,  //radius from circumference\r\n          angleStep     = this._2PI / count,\r\n          res           = [],\r\n          i, angle;\r\n\r\n      res.length = count;\r\n\r\n      for (i = count - 1; i >= 0; i--) {\r\n        angle = this._circleStartAngle + i * angleStep;\r\n        res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\r\n      }\r\n\r\n      return res;\r\n    },\r\n\r\n    _generatePointsSpiral: function (count, centerPt) {\r\n      var spiderfyDistanceMultiplier = this._group.options.spiderfyDistanceMultiplier,\r\n          legLength                  = spiderfyDistanceMultiplier * this._spiralLengthStart,\r\n          separation                 = spiderfyDistanceMultiplier * this._spiralFootSeparation,\r\n          lengthFactor               = spiderfyDistanceMultiplier * this._spiralLengthFactor * this._2PI,\r\n          angle                      = 0,\r\n          res                        = [],\r\n          i;\r\n\r\n      res.length = count;\r\n\r\n      // Higher index, closer position to cluster center.\r\n      for (i = count - 1; i >= 0; i--) {\r\n        angle += separation / legLength + i * 0.0005;\r\n        res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\r\n        legLength += lengthFactor / angle;\r\n      }\r\n      return res;\r\n    },\r\n\r\n    _noanimationUnspiderfy: function () {\r\n      var group        = this._group,\r\n          map          = group._map,\r\n          fg           = group._featureGroup,\r\n          childMarkers = this.getAllChildMarkers(),\r\n          m, i;\r\n\r\n      group._ignoreMove = true;\r\n\r\n      this.setOpacity(1);\r\n      for (i = childMarkers.length - 1; i >= 0; i--) {\r\n        m = childMarkers[i];\r\n\r\n        fg.removeLayer(m);\r\n\r\n        if (m._preSpiderfyLatlng) {\r\n          m.setLatLng(m._preSpiderfyLatlng);\r\n          delete m._preSpiderfyLatlng;\r\n        }\r\n        if (m.setZIndexOffset) {\r\n          m.setZIndexOffset(0);\r\n        }\r\n\r\n        if (m._spiderLeg) {\r\n          map.removeLayer(m._spiderLeg);\r\n          delete m._spiderLeg;\r\n        }\r\n      }\r\n\r\n      group.fire('unspiderfied', {\r\n        cluster: this,\r\n        markers: childMarkers\r\n      });\r\n      group._ignoreMove = false;\r\n      group._spiderfied = null;\r\n    }\r\n  });\r\n\r\n//Non Animated versions of everything\r\n  L.MarkerClusterNonAnimated = L.MarkerCluster.extend({\r\n    _animationSpiderfy: function (childMarkers, positions) {\r\n      var group      = this._group,\r\n          map        = group._map,\r\n          fg         = group._featureGroup,\r\n          legOptions = this._group.options.spiderLegPolylineOptions,\r\n          i, m, leg, newPos;\r\n\r\n      group._ignoreMove = true;\r\n\r\n      // Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\r\n      // The reverse order trick no longer improves performance on modern browsers.\r\n      for (i = 0; i < childMarkers.length; i++) {\r\n        newPos = map.layerPointToLatLng(positions[i]);\r\n        m = childMarkers[i];\r\n\r\n        // Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\r\n        leg = new L.Polyline([this._latlng, newPos], legOptions);\r\n        map.addLayer(leg);\r\n        m._spiderLeg = leg;\r\n\r\n        // Now add the marker.\r\n        m._preSpiderfyLatlng = m._latlng;\r\n        m.setLatLng(newPos);\r\n        if (m.setZIndexOffset) {\r\n          m.setZIndexOffset(1000000); //Make these appear on top of EVERYTHING\r\n        }\r\n\r\n        fg.addLayer(m);\r\n      }\r\n      this.setOpacity(0.3);\r\n\r\n      group._ignoreMove = false;\r\n      group.fire('spiderfied', {\r\n        cluster: this,\r\n        markers: childMarkers\r\n      });\r\n    },\r\n\r\n    _animationUnspiderfy: function () {\r\n      this._noanimationUnspiderfy();\r\n    }\r\n  });\r\n\r\n//Animated versions here\r\n  L.MarkerCluster.include({\r\n\r\n    _animationSpiderfy: function (childMarkers, positions) {\r\n      var me              = this,\r\n          group           = this._group,\r\n          map             = group._map,\r\n          fg              = group._featureGroup,\r\n          thisLayerLatLng = this._latlng,\r\n          thisLayerPos    = map.latLngToLayerPoint(thisLayerLatLng),\r\n          svg             = L.Path.SVG,\r\n          legOptions      = L.extend({}, this._group.options.spiderLegPolylineOptions), // Copy the options so that we can modify them for animation.\r\n          finalLegOpacity = legOptions.opacity,\r\n          i, m, leg, legPath, legLength, newPos;\r\n\r\n      if (finalLegOpacity === undefined) {\r\n        finalLegOpacity = L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity;\r\n      }\r\n\r\n      if (svg) {\r\n        // If the initial opacity of the spider leg is not 0 then it appears before the animation starts.\r\n        legOptions.opacity = 0;\r\n\r\n        // Add the class for CSS transitions.\r\n        legOptions.className = (legOptions.className || '') + ' leaflet-cluster-spider-leg';\r\n      } else {\r\n        // Make sure we have a defined opacity.\r\n        legOptions.opacity = finalLegOpacity;\r\n      }\r\n\r\n      group._ignoreMove = true;\r\n\r\n      // Add markers and spider legs to map, hidden at our center point.\r\n      // Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\r\n      // The reverse order trick no longer improves performance on modern browsers.\r\n      for (i = 0; i < childMarkers.length; i++) {\r\n        m = childMarkers[i];\r\n\r\n        newPos = map.layerPointToLatLng(positions[i]);\r\n\r\n        // Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\r\n        leg = new L.Polyline([thisLayerLatLng, newPos], legOptions);\r\n        map.addLayer(leg);\r\n        m._spiderLeg = leg;\r\n\r\n        // Explanations: https://jakearchibald.com/2013/animated-line-drawing-svg/\r\n        // In our case the transition property is declared in the CSS file.\r\n        if (svg) {\r\n          legPath = leg._path;\r\n          legLength = legPath.getTotalLength() + 0.1; // Need a small extra length to avoid remaining dot in Firefox.\r\n          legPath.style.strokeDasharray = legLength; // Just 1 length is enough, it will be duplicated.\r\n          legPath.style.strokeDashoffset = legLength;\r\n        }\r\n\r\n        // If it is a marker, add it now and we'll animate it out\r\n        if (m.setZIndexOffset) {\r\n          m.setZIndexOffset(1000000); // Make normal markers appear on top of EVERYTHING\r\n        }\r\n        if (m.clusterHide) {\r\n          m.clusterHide();\r\n        }\r\n\r\n        // Vectors just get immediately added\r\n        fg.addLayer(m);\r\n\r\n        if (m._setPos) {\r\n          m._setPos(thisLayerPos);\r\n        }\r\n      }\r\n\r\n      group._forceLayout();\r\n      group._animationStart();\r\n\r\n      // Reveal markers and spider legs.\r\n      for (i = childMarkers.length - 1; i >= 0; i--) {\r\n        newPos = map.layerPointToLatLng(positions[i]);\r\n        m = childMarkers[i];\r\n\r\n        //Move marker to new position\r\n        m._preSpiderfyLatlng = m._latlng;\r\n        m.setLatLng(newPos);\r\n\r\n        if (m.clusterShow) {\r\n          m.clusterShow();\r\n        }\r\n\r\n        // Animate leg (animation is actually delegated to CSS transition).\r\n        if (svg) {\r\n          leg = m._spiderLeg;\r\n          legPath = leg._path;\r\n          legPath.style.strokeDashoffset = 0;\r\n          //legPath.style.strokeOpacity = finalLegOpacity;\r\n          leg.setStyle({opacity: finalLegOpacity});\r\n        }\r\n      }\r\n      this.setOpacity(0.3);\r\n\r\n      group._ignoreMove = false;\r\n\r\n      setTimeout(function () {\r\n        group._animationEnd();\r\n        group.fire('spiderfied', {\r\n          cluster: me,\r\n          markers: childMarkers\r\n        });\r\n      }, 200);\r\n    },\r\n\r\n    _animationUnspiderfy: function (zoomDetails) {\r\n      var me           = this,\r\n          group        = this._group,\r\n          map          = group._map,\r\n          fg           = group._featureGroup,\r\n          thisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng),\r\n          childMarkers = this.getAllChildMarkers(),\r\n          svg          = L.Path.SVG,\r\n          m, i, leg, legPath, legLength, nonAnimatable;\r\n\r\n      group._ignoreMove = true;\r\n      group._animationStart();\r\n\r\n      //Make us visible and bring the child markers back in\r\n      this.setOpacity(1);\r\n      for (i = childMarkers.length - 1; i >= 0; i--) {\r\n        m = childMarkers[i];\r\n\r\n        //Marker was added to us after we were spiderfied\r\n        if (!m._preSpiderfyLatlng) {\r\n          continue;\r\n        }\r\n\r\n        //Fix up the location to the real one\r\n        m.setLatLng(m._preSpiderfyLatlng);\r\n        delete m._preSpiderfyLatlng;\r\n\r\n        //Hack override the location to be our center\r\n        nonAnimatable = true;\r\n        if (m._setPos) {\r\n          m._setPos(thisLayerPos);\r\n          nonAnimatable = false;\r\n        }\r\n        if (m.clusterHide) {\r\n          m.clusterHide();\r\n          nonAnimatable = false;\r\n        }\r\n        if (nonAnimatable) {\r\n          fg.removeLayer(m);\r\n        }\r\n\r\n        // Animate the spider leg back in (animation is actually delegated to CSS transition).\r\n        if (svg) {\r\n          leg = m._spiderLeg;\r\n          legPath = leg._path;\r\n          legLength = legPath.getTotalLength() + 0.1;\r\n          legPath.style.strokeDashoffset = legLength;\r\n          leg.setStyle({opacity: 0});\r\n        }\r\n      }\r\n\r\n      group._ignoreMove = false;\r\n\r\n      setTimeout(function () {\r\n        //If we have only <= one child left then that marker will be shown on the map so don't remove it!\r\n        var stillThereChildCount = 0;\r\n        for (i = childMarkers.length - 1; i >= 0; i--) {\r\n          m = childMarkers[i];\r\n          if (m._spiderLeg) {\r\n            stillThereChildCount++;\r\n          }\r\n        }\r\n\r\n        for (i = childMarkers.length - 1; i >= 0; i--) {\r\n          m = childMarkers[i];\r\n\r\n          if (!m._spiderLeg) { //Has already been unspiderfied\r\n            continue;\r\n          }\r\n\r\n          if (m.clusterShow) {\r\n            m.clusterShow();\r\n          }\r\n          if (m.setZIndexOffset) {\r\n            m.setZIndexOffset(0);\r\n          }\r\n\r\n          if (stillThereChildCount > 1) {\r\n            fg.removeLayer(m);\r\n          }\r\n\r\n          map.removeLayer(m._spiderLeg);\r\n          delete m._spiderLeg;\r\n        }\r\n        group._animationEnd();\r\n        group.fire('unspiderfied', {\r\n          cluster: me,\r\n          markers: childMarkers\r\n        });\r\n      }, 200);\r\n    }\r\n  });\r\n\r\n  L.MarkerClusterGroup.include({\r\n    //The MarkerCluster currently spiderfied (if any)\r\n    _spiderfied: null,\r\n\r\n    unspiderfy: function () {\r\n      this._unspiderfy.apply(this, arguments);\r\n    },\r\n\r\n    _spiderfierOnAdd: function () {\r\n      this._map.on('click', this._unspiderfyWrapper, this);\r\n\r\n      if (this._map.options.zoomAnimation) {\r\n        this._map.on('zoomstart', this._unspiderfyZoomStart, this);\r\n      }\r\n      //Browsers without zoomAnimation or a big zoom don't fire zoomstart\r\n      this._map.on('zoomend', this._noanimationUnspiderfy, this);\r\n\r\n      if (!L.Browser.touch) {\r\n        this._map.getRenderer(this);\r\n        //Needs to happen in the pageload, not after, or animations don't work in webkit\r\n        //  http://stackoverflow.com/questions/8455200/svg-animate-with-dynamically-added-elements\r\n        //Disable on touch browsers as the animation messes up on a touch zoom and isn't very noticable\r\n      }\r\n    },\r\n\r\n    _spiderfierOnRemove: function () {\r\n      this._map.off('click', this._unspiderfyWrapper, this);\r\n      this._map.off('zoomstart', this._unspiderfyZoomStart, this);\r\n      this._map.off('zoomanim', this._unspiderfyZoomAnim, this);\r\n      this._map.off('zoomend', this._noanimationUnspiderfy, this);\r\n\r\n      //Ensure that markers are back where they should be\r\n      // Use no animation to avoid a sticky leaflet-cluster-anim class on mapPane\r\n      this._noanimationUnspiderfy();\r\n    },\r\n\r\n    //On zoom start we add a zoomanim handler so that we are guaranteed to be last (after markers are animated)\r\n    //This means we can define the animation they do rather than Markers doing an animation to their actual location\r\n    _unspiderfyZoomStart: function () {\r\n      if (!this._map) { //May have been removed from the map by a zoomEnd handler\r\n        return;\r\n      }\r\n\r\n      this._map.on('zoomanim', this._unspiderfyZoomAnim, this);\r\n    },\r\n\r\n    _unspiderfyZoomAnim: function (zoomDetails) {\r\n      //Wait until the first zoomanim after the user has finished touch-zooming before running the animation\r\n      if (L.DomUtil.hasClass(this._map._mapPane, 'leaflet-touching')) {\r\n        return;\r\n      }\r\n\r\n      this._map.off('zoomanim', this._unspiderfyZoomAnim, this);\r\n      this._unspiderfy(zoomDetails);\r\n    },\r\n\r\n    _unspiderfyWrapper: function () {\r\n      /// <summary>_unspiderfy but passes no arguments</summary>\r\n      this._unspiderfy();\r\n    },\r\n\r\n    _unspiderfy: function (zoomDetails) {\r\n      if (this._spiderfied) {\r\n        this._spiderfied.unspiderfy(zoomDetails);\r\n      }\r\n    },\r\n\r\n    _noanimationUnspiderfy: function () {\r\n      if (this._spiderfied) {\r\n        this._spiderfied._noanimationUnspiderfy();\r\n      }\r\n    },\r\n\r\n    //If the given layer is currently being spiderfied then we unspiderfy it so it isn't on the map anymore etc\r\n    _unspiderfyLayer: function (layer) {\r\n      if (layer._spiderLeg) {\r\n        this._featureGroup.removeLayer(layer);\r\n\r\n        if (layer.clusterShow) {\r\n          layer.clusterShow();\r\n        }\r\n        //Position will be fixed up immediately in _animationUnspiderfy\r\n        if (layer.setZIndexOffset) {\r\n          layer.setZIndexOffset(0);\r\n        }\r\n\r\n        this._map.removeLayer(layer._spiderLeg);\r\n        delete layer._spiderLeg;\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Adds 1 public method to MCG and 1 to L.Marker to facilitate changing\r\n   * markers' icon options and refreshing their icon and their parent clusters\r\n   * accordingly (case where their iconCreateFunction uses data of childMarkers\r\n   * to make up the cluster icon).\r\n   */\r\n\r\n\r\n  L.MarkerClusterGroup.include({\r\n    /**\r\n     * Updates the icon of all clusters which are parents of the given marker(s).\r\n     * In singleMarkerMode, also updates the given marker(s) icon.\r\n     * @param layers L.MarkerClusterGroup|L.LayerGroup|Array(L.Marker)|Map(L.Marker)|\r\n     * L.MarkerCluster|L.Marker (optional) list of markers (or single marker) whose parent\r\n     * clusters need to be updated. If not provided, retrieves all child markers of this.\r\n     * @returns {L.MarkerClusterGroup}\r\n     */\r\n    refreshClusters: function (layers) {\r\n      if (!layers) {\r\n        layers = this._topClusterLevel.getAllChildMarkers();\r\n      } else if (layers instanceof L.MarkerClusterGroup) {\r\n        layers = layers._topClusterLevel.getAllChildMarkers();\r\n      } else if (layers instanceof L.LayerGroup) {\r\n        layers = layers._layers;\r\n      } else if (layers instanceof L.MarkerCluster) {\r\n        layers = layers.getAllChildMarkers();\r\n      } else if (layers instanceof L.Marker) {\r\n        layers = [layers];\r\n      } // else: must be an Array(L.Marker)|Map(L.Marker)\r\n      this._flagParentsIconsNeedUpdate(layers);\r\n      this._refreshClustersIcons();\r\n\r\n      // In case of singleMarkerMode, also re-draw the markers.\r\n      if (this.options.singleMarkerMode) {\r\n        this._refreshSingleMarkerModeMarkers(layers);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Simply flags all parent clusters of the given markers as having a \"dirty\" icon.\r\n     * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\r\n     * @private\r\n     */\r\n    _flagParentsIconsNeedUpdate: function (layers) {\r\n      var id, parent;\r\n\r\n      // Assumes layers is an Array or an Object whose prototype is non-enumerable.\r\n      for (id in layers) {\r\n        // Flag parent clusters' icon as \"dirty\", all the way up.\r\n        // Dumb process that flags multiple times upper parents, but still\r\n        // much more efficient than trying to be smart and make short lists,\r\n        // at least in the case of a hierarchy following a power law:\r\n        // http://jsperf.com/flag-nodes-in-power-hierarchy/2\r\n        parent = layers[id].__parent;\r\n        while (parent) {\r\n          parent._iconNeedsUpdate = true;\r\n          parent = parent.__parent;\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Refreshes the icon of all \"dirty\" visible clusters.\r\n     * Non-visible \"dirty\" clusters will be updated when they are added to the map.\r\n     * @private\r\n     */\r\n    _refreshClustersIcons: function () {\r\n      this._featureGroup.eachLayer(function (c) {\r\n        if (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\r\n          c._updateIcon();\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Re-draws the icon of the supplied markers.\r\n     * To be used in singleMarkerMode only.\r\n     * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\r\n     * @private\r\n     */\r\n    _refreshSingleMarkerModeMarkers: function (layers) {\r\n      var id, layer;\r\n\r\n      for (id in layers) {\r\n        layer = layers[id];\r\n\r\n        // Make sure we do not override markers that do not belong to THIS group.\r\n        if (this.hasLayer(layer)) {\r\n          // Need to re-create the icon first, then re-draw the marker.\r\n          layer.setIcon(this._overrideMarkerIcon(layer));\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  L.Marker.include({\r\n    /**\r\n     * Updates the given options in the marker's icon and refreshes the marker.\r\n     * @param options map object of icon options.\r\n     * @param directlyRefreshClusters boolean (optional) true to trigger\r\n     * MCG.refreshClustersOf() right away with this single marker.\r\n     * @returns {L.Marker}\r\n     */\r\n    refreshIconOptions: function (options, directlyRefreshClusters) {\r\n      var icon = this.options.icon;\r\n\r\n      L.setOptions(icon, options);\r\n\r\n      this.setIcon(icon);\r\n\r\n      // Shortcut to refresh the associated MCG clusters right away.\r\n      // To be used when refreshing a single marker.\r\n      // Otherwise, better use MCG.refreshClusters() once at the end with\r\n      // the list of modified markers.\r\n      if (directlyRefreshClusters && this.__parent) {\r\n        this.__parent._group.refreshClusters(this);\r\n      }\r\n\r\n      return this;\r\n    }\r\n  });\r\n\r\n}(window, document));\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/MarkerCluster.js","\r\nL.NonTiledLayer = L.Layer.extend({\r\n  includes: L.Evented,\r\n  options: {\r\n    attribution: '',\r\n    opacity: 1.0,\r\n    zIndex: undefined,\r\n    minZoom: 0,\r\n    maxZoom: 18,\r\n    pointerEvents: null,\r\n    errorImageUrl: 'data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==', //1px transparent GIF\r\n    bounds: L.latLngBounds([-85.05, -180], [85.05, 180])\r\n  },\r\n  url: '',\r\n\r\n  // override this method in the inherited class\r\n  //getImageUrl: function (world1, world2, width, height) {},\r\n  //getImageUrlAsync: function (world1, world2, width, height, f) {},\r\n\r\n  initialize: function (options) {\r\n    L.setOptions(this, options);\r\n  },\r\n\r\n  onAdd: function (map) {\r\n    this._map = map;\r\n\r\n    if (!this._div) {\r\n      this._div = L.DomUtil.create('div', 'leaflet-image-layer');\r\n      if (this.options.pointerEvents) {\r\n        this._div.style['pointer-events'] = this.options.pointerEvents;\r\n      }\r\n      if (this.options.zIndex !== undefined) {\r\n        this._div.style.zIndex = this.options.zIndex;\r\n      }\r\n      if (this.options.opacity !== undefined) {\r\n        this._div.style.opacity = this.options.opacity;\r\n      }\r\n    }\r\n\r\n    this.getPane().appendChild(this._div);\r\n\r\n    this._bufferImage = this._initImage();\r\n    this._currentImage = this._initImage();\r\n\r\n    this._update();\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    this.getPane().removeChild(this._div);\r\n\r\n    this._div.removeChild(this._bufferImage);\r\n    this._div.removeChild(this._currentImage);\r\n  },\r\n\r\n  addTo: function (map) {\r\n    map.addLayer(this);\r\n    return this;\r\n  },\r\n\r\n  getEvents: function () {\r\n    var events = {\r\n      moveend: this._update,\r\n      zoom: this._viewreset\r\n    };\r\n\r\n    if (this._zoomAnimated) {\r\n      events.zoomanim = this._animateZoom;\r\n    }\r\n\r\n    return events;\r\n  },\r\n\r\n  getElement: function () {\r\n    return this._div;\r\n  },\r\n\r\n  setOpacity: function (opacity) {\r\n    this.options.opacity = opacity;\r\n    if (this._div) {\r\n      L.DomUtil.setOpacity(this._div, this.options.opacity);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  setZIndex: function (zIndex) {\r\n    if (zIndex) {\r\n      this.options.zIndex = zIndex;\r\n      if (this._div) {\r\n        this._div.style.zIndex = zIndex;\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n\r\n  // TODO remove bringToFront/bringToBack duplication from TileLayer/Path\r\n  bringToFront: function () {\r\n    if (this._div) {\r\n      this._pane.appendChild(this._div);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  bringToBack: function () {\r\n    if (this._div) {\r\n      this._pane.insertBefore(this._div, this._pane.firstChild);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  getAttribution: function () {\r\n    return this.options.attribution;\r\n  },\r\n\r\n  _initImage: function (_image) {\r\n    var _image = L.DomUtil.create('img', 'leaflet-image-layer');\r\n\r\n    this._div.appendChild(_image);\r\n\r\n    if (this._map.options.zoomAnimation && L.Browser.any3d) {\r\n      L.DomUtil.addClass(_image, 'leaflet-zoom-animated');\r\n    } else {\r\n      L.DomUtil.addClass(_image, 'leaflet-zoom-hide');\r\n    }\r\n\r\n    //TODO createImage util method to remove duplication\r\n    L.extend(_image, {\r\n      galleryimg: 'no',\r\n      onselectstart: L.Util.falseFn,\r\n      onmousemove: L.Util.falseFn,\r\n      onload: L.bind(this._onImageLoad, this),\r\n      onerror: L.bind(this._onImageError, this)\r\n    });\r\n\r\n    return _image;\r\n  },\r\n\r\n  redraw: function () {\r\n    if (this._map) {\r\n      this._update();\r\n    }\r\n    return this;\r\n  },\r\n\r\n  _animateZoom: function (e) {\r\n    if (this._currentImage._bounds) {\r\n      this._animateImage(this._currentImage, e);\r\n    }\r\n    if (this._bufferImage._bounds) {\r\n      this._animateImage(this._bufferImage, e);\r\n    }\r\n  },\r\n\r\n  _animateImage: function (image, e) {\r\n    var scale  = this._map.getZoomScale(e.zoom),\r\n        offset = this._map._latLngToNewLayerPoint(image._bounds.getNorthWest(), e.zoom, e.center);\r\n\r\n    L.DomUtil.setTransform(image, offset, scale);\r\n  },\r\n\r\n  _resetImage: function (image) {\r\n    var bounds = new L.Bounds(\r\n        this._map.latLngToLayerPoint(image._bounds.getNorthWest()),\r\n        this._map.latLngToLayerPoint(image._bounds.getSouthEast())),\r\n        size   = bounds.getSize();\r\n\r\n    L.DomUtil.setPosition(image, bounds.min);\r\n\r\n    image.style.width = size.x + 'px';\r\n    image.style.height = size.y + 'px';\r\n  },\r\n\r\n  _getClippedBounds: function () {\r\n    var wgsBounds = this._map.getBounds();\r\n\r\n    // truncate bounds to valid wgs bounds\r\n    var mSouth = wgsBounds.getSouth();\r\n    var mNorth = wgsBounds.getNorth();\r\n    var mWest = wgsBounds.getWest();\r\n    var mEast = wgsBounds.getEast();\r\n\r\n    var lSouth = this.options.bounds.getSouth();\r\n    var lNorth = this.options.bounds.getNorth();\r\n    var lWest = this.options.bounds.getWest();\r\n    var lEast = this.options.bounds.getEast();\r\n\r\n    //mWest = (mWest + 180) % 360 - 180;\r\n    if (mSouth < lSouth) {\r\n      mSouth = lSouth;\r\n    }\r\n    if (mNorth > lNorth) {\r\n      mNorth = lNorth;\r\n    }\r\n    if (mWest < lWest) {\r\n      mWest = lWest;\r\n    }\r\n    if (mEast > lEast) {\r\n      mEast = lEast;\r\n    }\r\n\r\n    var world1 = new L.LatLng(mNorth, mWest);\r\n    var world2 = new L.LatLng(mSouth, mEast);\r\n\r\n    return new L.LatLngBounds(world1, world2);\r\n  },\r\n\r\n  _viewreset: function () {\r\n    if (this._bufferImage._bounds) {\r\n      this._resetImage(this._bufferImage);\r\n    }\r\n    if (this._currentImage._bounds) {\r\n      this._resetImage(this._currentImage);\r\n    }\r\n  },\r\n\r\n  _update: function () {\r\n    if (this._map.getZoom() < this.options.minZoom ||\r\n        this._map.getZoom() > this.options.maxZoom) {\r\n      this._div.style.visibility = 'hidden';\r\n      return;\r\n    }\r\n    else {\r\n      this._div.style.visibility = 'visible';\r\n    }\r\n\r\n    if (this._bufferImage._bounds) {\r\n      this._resetImage(this._bufferImage);\r\n    }\r\n\r\n    var bounds = this._getClippedBounds();\r\n\r\n    // re-project to corresponding pixel bounds\r\n    var pix1 = this._map.latLngToContainerPoint(bounds.getNorthWest());\r\n    var pix2 = this._map.latLngToContainerPoint(bounds.getSouthEast());\r\n\r\n    // get pixel size\r\n    var width = pix2.x - pix1.x;\r\n    var height = pix2.y - pix1.y;\r\n\r\n    // resulting image is too small\r\n    if (width < 32 || height < 32) {\r\n      return;\r\n    }\r\n\r\n    this._currentImage._bounds = bounds;\r\n\r\n    this._resetImage(this._currentImage);\r\n\r\n    var i = this._currentImage;\r\n    if (this.getImageUrl) {\r\n      i.src = this.getImageUrl(bounds.getNorthWest(), bounds.getSouthEast(), width, height);\r\n    } else {\r\n      this.getImageUrlAsync(bounds.getNorthWest(), bounds.getSouthEast(), width, height, function (url, tag) {\r\n        i.src = url;\r\n        i.tag = tag;\r\n      });\r\n    }\r\n\r\n    this.url = i.src;\r\n\r\n    L.DomUtil.setOpacity(this._currentImage, 0);\r\n  },\r\n  _onImageError: function (e) {\r\n    this.fire('error', e);\r\n    L.DomUtil.addClass(e.target, 'invalid');\r\n    if (e.target.src !== this.options.errorImageUrl) { // prevent error loop if error image is not valid\r\n      e.target.src = this.options.errorImageUrl;\r\n      this._onImageDone(false, e);\r\n    }\r\n  },\r\n  _onImageLoad: function (e) {\r\n    if (e.target.src !== this.options.errorImageUrl) {\r\n      L.DomUtil.removeClass(e.target, 'invalid');\r\n      if (e.target.src !== this.url) { // obsolete image\r\n        return;\r\n      }\r\n      this._onImageDone(true, e);\r\n    }\r\n  },\r\n  _onImageDone: function (success, e) {\r\n    L.DomUtil.setOpacity(this._currentImage, 1);\r\n    L.DomUtil.setOpacity(this._bufferImage, 0);\r\n\r\n    if (this._addInteraction) {\r\n      this._addInteraction(this._currentImage.tag);\r\n    }\r\n\r\n    var tmp = this._bufferImage;\r\n    this._bufferImage = this._currentImage;\r\n    this._currentImage = tmp;\r\n    this.fire('load', e);\r\n  }\r\n});\r\n\r\nL.nonTiledLayer = function () {\r\n  return new L.NonTiledLayer();\r\n};\r\n\r\n/*\r\n * L.NonTiledLayer.WMS is used for putting WMS non tiled layers on the map.\r\n */\r\nL.NonTiledLayer.WMS = L.NonTiledLayer.extend({\r\n\r\n  defaultWmsParams: {\r\n    service: 'WMS',\r\n    request: 'GetMap',\r\n    version: '1.1.1',\r\n    layers: '',\r\n    styles: '',\r\n    format: 'image/jpeg',\r\n    transparent: false\r\n  },\r\n\r\n  options: {\r\n    crs: null,\r\n    uppercase: false\r\n  },\r\n\r\n  initialize: function (url, options) { // (String, Object)\r\n    this._wmsUrl = url;\r\n\r\n    var wmsParams = L.extend({}, this.defaultWmsParams);\r\n\r\n    // all keys that are not NonTiledLayer options go to WMS params\r\n    for (var i in options) {\r\n      if (!L.NonTiledLayer.prototype.options.hasOwnProperty(i) && !L.Layer.prototype.options.hasOwnProperty(i)) {\r\n        wmsParams[i] = options[i];\r\n      }\r\n    }\r\n\r\n    this.wmsParams = wmsParams;\r\n\r\n    L.setOptions(this, options);\r\n  },\r\n\r\n  onAdd: function (map) {\r\n\r\n    this._crs = this.options.crs || map.options.crs;\r\n    this._wmsVersion = parseFloat(this.wmsParams.version);\r\n\r\n    var projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n    this.wmsParams[projectionKey] = this._crs.code;\r\n\r\n    L.NonTiledLayer.prototype.onAdd.call(this, map);\r\n  },\r\n\r\n  getImageUrl: function (world1, world2, width, height) {\r\n    var wmsParams = this.wmsParams;\r\n    wmsParams.width = width;\r\n    wmsParams.height = height;\r\n\r\n    var nw = this._crs.project(world1);\r\n    var se = this._crs.project(world2);\r\n\r\n    var url = this._wmsUrl;\r\n\r\n    var bbox = bbox = (this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\r\n        [se.y, nw.x, nw.y, se.x] :\r\n        [nw.x, se.y, se.x, nw.y]).join(',');\r\n\r\n    return url +\r\n        L.Util.getParamString(this.wmsParams, url, this.options.uppercase) +\r\n        (this.options.uppercase ? '&BBOX=' : '&bbox=') + bbox;\r\n  },\r\n\r\n  setParams: function (params, noRedraw) {\r\n\r\n    L.extend(this.wmsParams, params);\r\n\r\n    if (!noRedraw) {\r\n      this.redraw();\r\n    }\r\n\r\n    return this;\r\n  }\r\n});\r\n\r\nL.nonTiledLayer.wms = function (url, options) {\r\n  return new L.NonTiledLayer.WMS(url, options);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/leaflet/NonTiledLayer.js","if (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, 'find', {\r\n    value: function(predicate) {\r\n      'use strict';\r\n      if (this == null) {\r\n        throw new TypeError('Array.prototype.find called on null or undefined');\r\n      }\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n      var list = Object(this);\r\n      var length = list.length >>> 0;\r\n      var thisArg = arguments[1];\r\n\r\n      for (var i = 0; i !== length; i++) {\r\n        if (predicate.call(thisArg, this[i], i, list)) {\r\n          return this[i];\r\n        }\r\n      }\r\n      return undefined;\r\n    }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/find.js","if (!Array.prototype.findIndex) {\r\n  Object.defineProperty(Array.prototype, 'findIndex', {\r\n    value: function(predicate) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return k.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return k;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return -1.\r\n      return -1;\r\n    }\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/findIndex.js","if (!String.prototype.startsWith) {\r\n  String.prototype.startsWith = function(searchString, position) {\r\n    return this.substr(position || 0, searchString.length) === searchString\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/polyfill/startsWith.js","import axios from 'axios'\r\n\r\n\r\nexport default function () {\r\n  return axios.get(`/geoservices/REST/atlante_geochimico/livelli/`).then(response => response.data.data.livelli)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getAtlanteGeochimicoLivelli.js","\r\nimport axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function getEnti () {\r\n  let url = globals.RL_ENTI_SERVICE\r\n  return axios.get(url).then(response => response.data.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getEnti.js","\r\nimport axios from 'axios'\r\n\r\nexport default function getFeatureInfo(url) {\r\n  let params = {}\r\n  return axios.get(url, {\r\n    params: params\r\n  }).then(response => response.data.features)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureInfo.js","import axios from 'axios'\r\nvar X2JS = require('../util/X2JS')\r\n\r\nfunction parseGml(gml) {\r\n  const data = new X2JS().xml_str2json(gml)\r\n  let features = []\r\n  Object.keys(data.msGMLOutput).forEach((key, index) => {\r\n    if (key.indexOf('_layer') >= 0) {\r\n      const layerName = key.replace('_layer', '')\r\n      const layer = data.msGMLOutput[key]\r\n      Object.keys(layer).forEach((key2, index2) => {\r\n        const feature = layer[key2]\r\n        if (Array.isArray(feature)) {\r\n          feature.forEach(value => {\r\n            const properties = value\r\n            features.push({ type: 'Feature', id: `${layerName}.${index2}`, geometry: null, properties: properties })\r\n          })\r\n        } else {\r\n          const value = feature\r\n            const properties = value\r\n            features.push({ type: 'Feature', id: `${layerName}.${index2}`, geometry: null, properties: properties })\r\n        }\r\n      })\r\n    }\r\n  })\r\n  return features\r\n}\r\n\r\nexport default function getFeatureInfo(url) {\r\n  let params = {}\r\n\r\n/*   \r\nconst gml = `<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n<msGMLOutput \r\n\t xmlns:gml=\"http://www.opengis.net/gml\"\r\n\t xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n\t<L2585_layer>\r\n\t\t<L2585_feature>\r\n\t\t\t<gml:boundedBy>\r\n\t\t\t\t<gml:Box srsName=\"EPSG:3857\">\r\n\t\t\t\t\t<gml:coordinates>1007787.923553,5531364.804766 1012213.517105,5534298.913668</gml:coordinates>\r\n\t\t\t\t</gml:Box>\r\n\t\t\t</gml:boundedBy>\r\n\t\t\t<NUM_PROGR>2</NUM_PROGR>\r\n\t\t\t<COD_ZONA>Eb</COD_ZONA>\r\n\t\t\t<DESCR_ZONA>zone boschive</DESCR_ZONA>\r\n    </L2585_feature>\r\n\t\t<L2585_feature>\r\n\t\t\t<gml:boundedBy>\r\n\t\t\t\t<gml:Box srsName=\"EPSG:3857\">\r\n\t\t\t\t\t<gml:coordinates>1007787.923553,5531364.804766 1012213.517105,5534298.913668</gml:coordinates>\r\n\t\t\t\t</gml:Box>\r\n\t\t\t</gml:boundedBy>\r\n\t\t\t<NUM_PROGR>4</NUM_PROGR>\r\n\t\t\t<COD_ZONA>Eb</COD_ZONA>\r\n\t\t\t<DESCR_ZONA>zone boschive</DESCR_ZONA>\r\n\t\t</L2585_feature>    \r\n\t</L2585_layer>\r\n</msGMLOutput>\r\n`\r\nconst features = parseGml(gml)\r\nreturn features\r\n*/\r\n\r\n  return axios\r\n    .get(url, {\r\n      params: params,\r\n    })\r\n    .then(response => {\r\n      const gml = response.data\r\n      const features = parseGml(gml)\r\n      return features\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureInfoMapserver.js","import axios from 'axios'\r\nimport globals from '../globals'\r\nimport parseXML from '../util/parseXML'\r\n\r\nexport default function getFeatureXSLT(infoUrl, data) {\r\n    return axios\r\n        .post(globals.RL_XSL_INFO_SERVICE, {\r\n            headers: { Accept: 'text/xml' },\r\n            data: { xslUrl: infoUrl, ambiente: null, idLayer: data.layerName.replace('L', ''), featureAttributes: data.properties },\r\n        })\r\n        .then(response => response.data)\r\n        .then(data => parseXML(data))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getFeatureXSLT.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function(query) {\r\n  const params = {\r\n    app_id: 'uHFYCdocrLoinMf8j6RK',\r\n    app_code: 'XKQe3be7-30iGWPuh3dbtQ',\r\n    mapview: '7.43,43.75;10.00,44.70',\r\n    searchtext: query,\r\n  }\r\n\r\n  return axios.get(globals.HERE_GEOCODE_PROXY, { params: params }).then(response => {\r\n    return response.data.Response.View[0].Result.map(result => {\r\n      return {\r\n        relevance: result.Relevance,\r\n        match_level: result.MatchLevel,\r\n        match_type: result.MatchType,\r\n        formatted_address: result.Location.Address.Label,\r\n        place_id: result.Location.LocationId,\r\n        geometry: { location: { lat: result.Location.DisplayPosition.Latitude, lng: result.Location.DisplayPosition.Longitude } },\r\n      }\r\n    })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getHereGeocode.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function(idLayer, geoserverUrl,flagGeoserver) {\r\n  if (!idLayer || idLayer === 'null') {\r\n    throw new Error('Parametro idLayer mancante')\r\n  }\r\n\r\n  let params = {}\r\n  if (geoserverUrl) {\r\n    params.geoserverUrl = geoserverUrl\r\n  }\r\n  if (flagGeoserver) {\r\n    params.flagGeoserver = flagGeoserver\r\n  }\r\n\r\n  return axios\r\n    .get(`${globals.RL_LAYER_CONFIG_SERVICE}${idLayer}`, {\r\n      params: params,\r\n    })\r\n    .then(response => response.data.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/services/getLayerConfig.js","//calcolo cql_filter\r\n// valori tra apici ' (anche numerici)\r\n// \"IN\" NON FUNZIONA: UTILIZZARE OR\r\n// se layer POSTGIS lowercase di fields\r\n\r\n// TODO: gestione chiavi multiple    \r\n\r\n\r\n\r\nexport default function(findOptions) {\r\n    let expressions = []\r\n    const field = findOptions.fields\r\n    findOptions.values.split(',').forEach(value => {\r\n        expressions.push(`${field}='${value}'`)\r\n    });\r\n    const cqlFilter = encodeURIComponent(expressions.join(' OR '))\r\n    return cqlFilter\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/buildCqlFilter.js","import getUrlParam from './getUrlParam'\r\nexport default function() {\r\n    const map = getUrlParam('FIND_MAP')\r\n    const layers = (getUrlParam('FIND_LAYERS')) ? getUrlParam('FIND_LAYERS').split(',') : null\r\n    const fields = getUrlParam('FIND_FIELDS')\r\n    const values = getUrlParam('FIND_VALUES')\r\n    const cqlFilter = getUrlParam('FIND_CQL_FILTER')\r\n    return {\r\n        map: map,\r\n        layers: layers,\r\n        fields: fields,\r\n        values: values,\r\n        cqlFilter: cqlFilter,\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/buildFindOptionsFromQueryStringParams.js","\r\nexport default function (options) {\r\n  let elType = options.elType || 'div'\r\n  let containerId = options.containerId || 'gv-container'\r\n  let elId = options.elId\r\n  let clear = options.clear\r\n\r\n  if (clear && document.getElementById(elId)) {\r\n    document.getElementById(elId).remove()\r\n  }\r\n\r\n  const el = document.createElement(elType)\r\n  el.id = elId\r\n  if (document.getElementById(containerId)) {\r\n    document.getElementById(containerId).appendChild(el)\r\n  } else {\r\n    console.log(`Elemento ${containerId} non trovato faccio mount su body`)\r\n    document.body.appendChild(el)\r\n  }\r\n\r\n  return el\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/createElement.js","let startpos = null\r\n\r\n// Disabilito drop su elementi di tipo INPUT=text\r\nwindow.document.body.setAttribute('ondrop', `GV.dragbox.drop(event)`)\r\n\r\nexport default {\r\n  \r\n  start(ev) {\r\n    startpos = [ev.screenX, ev.screenY]\r\n    ev.dataTransfer.setData('text/plain', ev.target.id)\r\n  },\r\n  end(ev, elId) {\r\n    var el = document.getElementById(elId)\r\n    var style = window.getComputedStyle(el, null)\r\n    var endpos = [ev.screenX, ev.screenY]\r\n    el.style.top = Number(style.top.replace('px', '')) + (endpos[1] - startpos[1]) + 'px'\r\n    el.style.left = Number(style.left.replace('px', '')) + (endpos[0] - startpos[0]) + 'px'\r\n  },\r\n  drop(ev) {\r\n    if (ev.target.type === 'text') {\r\n      ev.preventDefault()\r\n    }\r\n  },\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/dragbox.js","export default function getProtocol() {\r\n  'use strict'\r\n  return window.location.href.split(':')[0]\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getProtocol.js","export default function getTmsMaxLevel (maxScale) {\r\n  let maxLevel = 12\r\n  if (maxScale <= 2000 || maxScale == null) {\r\n    maxLevel = 17\r\n  }\r\n  if (maxScale > 2000 && maxScale <= 6250) {\r\n    maxLevel = 16\r\n  }\r\n  if (maxScale > 6250 && maxScale <= 12500) {\r\n    maxLevel = 15\r\n  }\r\n  if (maxScale > 12500 && maxScale <= 25000) {\r\n    maxLevel = 14\r\n  }\r\n  if (maxScale > 25000 && maxScale <= 50000) {\r\n    maxLevel = 13\r\n  }\r\n  return maxLevel\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getTmsMaxLevel.js","import globals from '../globals'\r\n\r\nexport default function getZoomFromScaleDenom (scaleDenom) {\r\n  const zoom = globals.BASE_SCALES.findIndex(function (scale) {\r\n    return scaleDenom > scale\r\n  })\r\n  return zoom - 1\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/getZoomFromScaleDenom.js","export default function (str, data) {\r\n  var templateRe = /\\{ *([\\w_\\-]+) *\\}/g\r\n  return str.replace(templateRe, function (str, key) {\r\n    var value = data[key]\r\n\r\n    if (value === undefined) {\r\n      throw new Error('No value provided for variable ' + str)\r\n    } else if (typeof value === 'function') {\r\n      value = value(data)\r\n    }\r\n    return value\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/interpolateString.js","export default function isBrowserIE() {\r\n  return navigator.userAgent.indexOf('MSIE ') > 0 ||\r\n    navigator.userAgent.indexOf('Trident') > 0 ||\r\n    navigator.userAgent.indexOf('Edge') > 0\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/isBrowserIE.js","export default function isTouch () {\r\n  return window.matchMedia('(pointer: coarse)').matches\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/isTouch.js","export default function log (msg) {\r\n  if (GV.config.debug) {\r\n    console.log(msg)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/Tomcat6/webapps/ROOT/geoviewer2/src/util/log.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./font-awesome.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./font-awesome.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./font-awesome.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/font-awesome/css/font-awesome.css\n// module id = 374\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./leaflet.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./leaflet.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../vue-style-loader/index.js!./../../css-loader/index.js?sourceMap!./leaflet.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/leaflet/dist/leaflet.css\n// module id = 376\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../node_modules/vue-style-loader/index.js!./../../../node_modules/css-loader/index.js?sourceMap!./base.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../node_modules/vue-style-loader/index.js!./../../../node_modules/css-loader/index.js?sourceMap!./base.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../node_modules/vue-style-loader/index.js!./../../../node_modules/css-loader/index.js?sourceMap!./base.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./src/assets/css/base.css\n// module id = 377\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../../../node_modules/vue-style-loader/index.js!./../../../../../node_modules/css-loader/index.js?sourceMap!./mapskin.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../../../node_modules/vue-style-loader/index.js!./../../../../../node_modules/css-loader/index.js?sourceMap!./mapskin.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../../../../node_modules/vue-style-loader/index.js!./../../../../../node_modules/css-loader/index.js?sourceMap!./mapskin.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./src/assets/css/mapskin/css/mapskin.css\n// module id = 378\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-42223222!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-42223222!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 383\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-74778fa6&scoped=true!vue-loader/lib/selector?type=styles&index=0!./AtlanteGeochimicoLivelli.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./AtlanteGeochimicoLivelli.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-74778fa6!vue-loader/lib/selector?type=template&index=0!./AtlanteGeochimicoLivelli.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-74778fa6\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AtlanteGeochimicoLivelli.vue\n// module id = 384\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-39472a4f&scoped=true!vue-loader/lib/selector?type=styles&index=0!./BaseLayerSwitcher.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./BaseLayerSwitcher.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-39472a4f!vue-loader/lib/selector?type=template&index=0!./BaseLayerSwitcher.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-39472a4f\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BaseLayerSwitcher.vue\n// module id = 385\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-eb2c59d4&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Geocoder.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Geocoder.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-eb2c59d4!vue-loader/lib/selector?type=template&index=0!./Geocoder.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-eb2c59d4\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Geocoder.vue\n// module id = 388\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-3f78502f&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Header.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-3f78502f!vue-loader/lib/selector?type=template&index=0!./Header.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-3f78502f\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = 389\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-a5a38922&scoped=true!vue-loader/lib/selector?type=styles&index=0!./InnerHtml.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./InnerHtml.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-a5a38922!vue-loader/lib/selector?type=template&index=0!./InnerHtml.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-a5a38922\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InnerHtml.vue\n// module id = 393\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-793c9ca2!vue-loader/lib/selector?type=styles&index=0!./Legend.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Legend.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-793c9ca2!vue-loader/lib/selector?type=template&index=0!./Legend.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Legend.vue\n// module id = 396\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-4020fcaa&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Map.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-4020fcaa!vue-loader/lib/selector?type=template&index=0!./Map.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-4020fcaa\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = 397\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-17ec4bab&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Scalebar.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Scalebar.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-17ec4bab!vue-loader/lib/selector?type=template&index=0!./Scalebar.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-17ec4bab\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Scalebar.vue\n// module id = 398\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-c17e646c!vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Search.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-c17e646c!vue-loader/lib/selector?type=template&index=0!./Search.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search.vue\n// module id = 399\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-41c3d4d8!vue-loader/lib/selector?type=styles&index=0!./AddMap.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./AddMap.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-41c3d4d8!vue-loader/lib/selector?type=template&index=0!./AddMap.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buttons/AddMap.vue\n// module id = 400\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-a91c1756!vue-loader/lib/selector?type=styles&index=0!./Coordinate.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Coordinate.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-a91c1756!vue-loader/lib/selector?type=template&index=0!./Coordinate.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buttons/Coordinate.vue\n// module id = 401\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-184a304b!vue-loader/lib/selector?type=styles&index=0!./Info.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Info.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-184a304b!vue-loader/lib/selector?type=template&index=0!./Info.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buttons/Info.vue\n// module id = 402\n// module chunks = 12","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-041fc4cc!vue-loader/lib/selector?type=styles&index=0!./LayerSearch.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./LayerSearch.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-041fc4cc!vue-loader/lib/selector?type=template&index=0!./LayerSearch.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buttons/LayerSearch.vue\n// module id = 403\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('button', {\n    class: _vm.setClass(),\n    attrs: {\n      \"title\": \"Ricerca sui Livelli\"\n    },\n    on: {\n      \"click\": _vm.onClick\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-041fc4cc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/buttons/LayerSearch.vue\n// module id = 405\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"scalebar\",\n    attrs: {\n      \"id\": \"gv-scalebar\"\n    }\n  }, [_vm._c('el-select', {\n    attrs: {\n      \"size\": \"mini\",\n      \"placeholder\": \"\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _vm._c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-17ec4bab!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Scalebar.vue\n// module id = 407\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('button', {\n    class: _vm.setClass(),\n    attrs: {\n      \"title\": \"Info sui livelli della mappa\"\n    },\n    on: {\n      \"click\": _vm.onClick\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-184a304b!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/buttons/Info.vue\n// module id = 408\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('el-select', {\n    attrs: {\n      \"size\": \"mini\",\n      \"placeholder\": \"Sfondo\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.activeBaseLayer),\n      callback: function($$v) {\n        _vm.activeBaseLayer = $$v\n      },\n      expression: \"activeBaseLayer\"\n    }\n  }, _vm._l((_vm.baseLayers), function(item) {\n    return _vm._c('el-option', {\n      key: item.name,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.name\n      }\n    }, [_vm._c('span', {\n      staticStyle: {\n        \"float\": \"left\"\n      }\n    }, [_vm._c('img', {\n      staticClass: \"gv-sfondi-icon\",\n      attrs: {\n        \"src\": item.icon\n      }\n    }), _vm._v(\" \"), _vm._c('span', {\n      staticClass: \"gv-sfondi-label\"\n    }, [_vm._v(_vm._s(item.label))])])])\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-39472a4f!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/BaseLayerSwitcher.vue\n// module id = 411\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    style: (_vm.style),\n    attrs: {\n      \"id\": \"gv-header\"\n    }\n  }, [_vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3f78502f!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = 412\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    style: (_vm.style),\n    attrs: {\n      \"id\": \"gv-map\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4020fcaa!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = 413\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('button', {\n    class: _vm.setClass(),\n    attrs: {\n      \"id\": \"gv-button-add-map\",\n      \"title\": \"Aggiungi Mappe\"\n    },\n    on: {\n      \"click\": _vm.onClick\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-41c3d4d8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/buttons/AddMap.vue\n// module id = 414\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    attrs: {\n      \"id\": \"gv-container\"\n    }\n  }, [(_vm.showHeader) ? _vm._c('gv-header') : _vm._e(), _vm._v(\" \"), (_vm.leafletMap) ? _vm._c('gv-map', {\n    ref: \"gv-map\"\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showLegend) ? _vm._c('gv-legend', {\n    ref: \"gv-legend\"\n  }) : _vm._e(), _vm._v(\" \"), _vm._m(0)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-tool-container\"\n  }, [_vm._c('div', {\n    staticClass: \"gv-tool-top gv-tool-left\",\n    attrs: {\n      \"id\": \"gv-tool-topleft\"\n    }\n  }), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-tool-top gv-tool-right\",\n    attrs: {\n      \"id\": \"gv-tool-topright\"\n    }\n  }), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-tool-bottom gv-tool-left\",\n    attrs: {\n      \"id\": \"gv-tool-bottomleft\"\n    }\n  }), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-tool-bottom gv-tool-right\",\n    attrs: {\n      \"id\": \"gv-tool-bottomright\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-42223222!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 415\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-panel-title gv-color-scheme\"\n  }, [_vm._c('span', {\n    staticClass: \"gv-color-scheme\",\n    attrs: {\n      \"title\": _vm.fullTitle\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.title) + \"\\n    \")]), _vm._v(\" \"), (!_vm.noClose) ? _vm._c('el-button', {\n    staticClass: \"gv-close gv-color-scheme\",\n    attrs: {\n      \"icon\": \"el-icon-close\",\n      \"type\": \"button\",\n      \"title\": \"Chiudi Panello\"\n    },\n    on: {\n      \"click\": _vm.closePanel\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.collapsible) ? _vm._c('button', {\n    class: _vm.toggleCollapseClass(),\n    attrs: {\n      \"size\": \"mini\",\n      \"title\": \"Minimizza Panello\"\n    },\n    on: {\n      \"click\": _vm.collapse\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4512c626!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Title.vue\n// module id = 416\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"atlante-geochimico gv-color-scheme\"\n  }, [_vm._c('el-select', {\n    attrs: {\n      \"placeholder\": \"Seleziona Livello\",\n      \"size\": \"mini\",\n      \"filterable\": \"\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.livello),\n      callback: function($$v) {\n        _vm.livello = $$v\n      },\n      expression: \"livello\"\n    }\n  }, _vm._l((_vm.livelli), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"value\": item.codice,\n        \"label\": item.nome\n      }\n    })\n  }))], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-74778fa6!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/AtlanteGeochimicoLivelli.vue\n// module id = 420\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-inverted-color-scheme\",\n    attrs: {\n      \"id\": \"gv-legend\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-legend-title gv-color-scheme\"\n  }, [_vm._c('b', [_vm._v(\"LEGENDA\")]), _vm._v(\" \"), _vm._c('button', {\n    class: _vm.toggleCollapseClass(),\n    attrs: {\n      \"size\": \"mini\",\n      \"title\": \"Minimizza Panello\"\n    },\n    on: {\n      \"click\": _vm.hideLegend\n    }\n  }), _vm._v(\" \"), _vm._c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.options.showAddMap),\n      expression: \"options.showAddMap\"\n    }],\n    staticClass: \"gv-color-scheme gv-legend-buttons ms ms-layers-add\",\n    attrs: {\n      \"id\": \"gv-legend-add-map\",\n      \"title\": \"Aggiungi Mappe\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.addMap\n    }\n  })], 1), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-legend-wrapper\",\n    attrs: {\n      \"id\": \"gv-legend-wrapper\"\n    }\n  }, [_vm._c('div', {\n    attrs: {\n      \"id\": \"gv-legend-body\"\n    }\n  }, _vm._l((_vm.maps), function(map) {\n    return _vm._c('ul', {\n      key: map.id,\n      staticClass: \"gv-list-group\"\n    }, [_vm._c('div', {\n      staticClass: \"gv-list-legend-map-item gv-inverted-color-scheme\"\n    }, [_vm._c('li', [_vm._v(\"\\n                        \" + _vm._s(map.name) + \"\\n                    \")]), _vm._v(\" \"), _vm._c('div', {\n      staticClass: \"gv-legend-map-tools gv-inverted-color-scheme\"\n    }, [_vm._c('el-button', {\n      class: _vm.getToggleLayersClass(map),\n      attrs: {\n        \"title\": \"Nascondi/Mostra Livelli in Legenda\",\n        \"size\": \"mini\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.toggleLayers(map)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.checkAddMap(map)) ? _vm._c('el-button', {\n      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n      attrs: {\n        \"id\": 'gv-legend-scheda-' + map.id,\n        \"title\": \"Visualizza Scheda\",\n        \"icon\": \"el-icon-document\",\n        \"size\": \"mini\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.showMapInfoPanel(map)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (!_vm.options.noDeleteButton) ? _vm._c('el-button', {\n      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n      attrs: {\n        \"id\": 'gv-legend-delete-' + map.id,\n        \"title\": \"Elimina Mappa\",\n        \"icon\": \"el-icon-delete\",\n        \"size\": \"mini\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.remove(map)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (_vm.options.showLayersTransparency) ? _vm._c('el-button', {\n      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button fa fa-sliders\",\n      attrs: {\n        \"title\": \"Trasparenza Livelli\",\n        \"size\": \"mini\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.layerTransparency(map)\n        }\n      }\n    }) : _vm._e(), _vm._v(\" \"), (_vm.isDownloadable(map)) ? _vm._c('el-button', {\n      staticClass: \"gv-inverted-color-scheme gv-legend-map-tools-button\",\n      attrs: {\n        \"id\": 'gv-legend-download-' + map.id,\n        \"title\": \"Download Mappa\",\n        \"icon\": \"el-icon-download\",\n        \"size\": \"mini\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.download(map)\n        }\n      }\n    }) : _vm._e()], 1)]), _vm._v(\" \"), _vm._c('ul', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.showMapLayers(map)),\n        expression: \"showMapLayers(map)\"\n      }],\n      staticClass: \"gv-list-group\"\n    }, _vm._l((map.layers), function(layer) {\n      return _vm._c('li', {\n        key: layer.id,\n        class: _vm.getClass(layer),\n        attrs: {\n          \"id\": 'gv-legend-layer-' + layer.id,\n          \"layer\": layer\n        }\n      }, [_vm._c('img', {\n        staticClass: \"gv-legend-layer-icon\",\n        attrs: {\n          \"src\": _vm.iconUrl(layer)\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.showLegendPanel(layer)\n          }\n        }\n      }), _vm._v(\" \"), _vm._c('span', {\n        staticClass: \"gv-layer-visibility-span\"\n      }, [_vm._c('input', {\n        directives: [{\n          name: \"model\",\n          rawName: \"v-model\",\n          value: (layer.visible),\n          expression: \"layer.visible\"\n        }],\n        staticClass: \"gv-layer-visibility-cb\",\n        attrs: {\n          \"type\": \"checkbox\"\n        },\n        domProps: {\n          \"checked\": Array.isArray(layer.visible) ? _vm._i(layer.visible, null) > -1 : (layer.visible)\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.setLayerVisible(layer, $event)\n          },\n          \"change\": function($event) {\n            var $$a = layer.visible,\n              $$el = $event.target,\n              $$c = $$el.checked ? (true) : (false);\n            if (Array.isArray($$a)) {\n              var $$v = null,\n                $$i = _vm._i($$a, $$v);\n              if ($$el.checked) {\n                $$i < 0 && (layer.visible = $$a.concat([$$v]))\n              } else {\n                $$i > -1 && (layer.visible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n              }\n            } else {\n              _vm.$set(layer, \"visible\", $$c)\n            }\n          }\n        }\n      })]), _vm._v(\" \"), _vm._c('span', {\n        staticClass: \"gv-layer-title-span\"\n      }, [_vm._v(_vm._s(layer.legend.label))])])\n    }))])\n  })), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-legend-footer gv-inverted-color-scheme\"\n  }, [(_vm.options.showBaseLayerSwitcher) ? _vm._c('gv-base-layer-switcher', {\n    ref: \"gv-base-layer-switcher\"\n  }) : _vm._e()], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-793c9ca2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Legend.vue\n// module id = 422\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.html)\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a5a38922!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/InnerHtml.vue\n// module id = 423\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('button', {\n    class: _vm.setClass(),\n    attrs: {\n      \"title\": \"Acquisizione Coordinate\"\n    },\n    on: {\n      \"click\": _vm.onClick\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a91c1756!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/buttons/Coordinate.vue\n// module id = 424\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-search\",\n    attrs: {\n      \"id\": \"gv-search\"\n    }\n  }, [_vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-seach-input\",\n      \"filterable\": \"\",\n      \"clearable\": \"\",\n      \"remote\": \"\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Ricerca...\",\n      \"remote-method\": _vm.search,\n      \"loading\": _vm.loading,\n      \"loading-text\": \"Caricamento... \",\n      \"no-match-text\": \"Nessun elemento trovato\",\n      \"no-data-text\": \"Nessun elemento trovato\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.address),\n      callback: function($$v) {\n        _vm.address = $$v\n      },\n      expression: \"address\"\n    }\n  }, _vm._l((_vm.results), function(item) {\n    return _vm._c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-c17e646c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search.vue\n// module id = 426\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('el-select', {\n    staticClass: \"gv-geocoder\",\n    attrs: {\n      \"filterable\": \"\",\n      \"clearable\": \"\",\n      \"remote\": \"\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Ricerca Indirizzo...\",\n      \"remote-method\": _vm.remoteMethod,\n      \"loading\": _vm.loading,\n      \"loading-text\": \"Caricamento... \",\n      \"no-match-text\": \"Nessun indirizzo trovato\",\n      \"no-data-text\": \"Nessun indirizzo trovato\",\n      \"id\": \"gv-geocoder\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.address),\n      callback: function($$v) {\n        _vm.address = $$v\n      },\n      expression: \"address\"\n    }\n  }, _vm._l((_vm.results), function(item) {\n    return _vm._c('el-option', {\n      key: item.value,\n      staticClass: \"gv-geocoder-options\",\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-eb2c59d4!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Geocoder.vue\n// module id = 428\n// module chunks = 12"],"sourceRoot":""}