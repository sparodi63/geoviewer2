{"version":3,"sources":["webpack:///static/js/10.js","webpack:///./D:/node-prj/geoviewer2/src/mixins/RectDraw.js?f6e2","webpack:///./D:/node-prj/geoviewer2/src/services/insertRichiestaDownload.js","webpack:///Download.vue","webpack:///./D:/node-prj/geoviewer2/src/services/getDownloadRichiesteCache.js","webpack:///./src/components/Download.vue?8eae","webpack:///./src/components/Download.vue?c5e3","webpack:///./src/components/Download.vue?e5d8","webpack:///./src/components/Download.vue?38c3","webpack:///./static/img/cc-by.png","webpack:///./src/components/Download.vue","webpack:///./src/components/Download.vue?bf04"],"names":["webpackJsonp","69","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_notification","_notification2","data","drawnRectangle","dragBoxInteraction","methods","rectAddLayer","GV","app","map","type","this","rectAddLayerOL","L","FeatureGroup","addLayer","loadLayers","name","visible","zIndex","getLayerByName","rectEnable","ol","interaction","DragBox","addInteraction","on","rectOnDraw","drawRectangle","addHandler","Draw","Rectangle","enable","rectReset","getSource","clear","clearLayers","config","activeControl","deactivate","disable","rectDisable","removeInteraction","mounted","112","_axios2","post","_globals2","RL_DOWNLOAD_INSERT_SERVICE","headers","Accept","then","response","_axios","_globals","259","_getIterator2","_getIterator3","_option","_option3","_option4","_select","_select3","_select4","_formItem","_formItem3","_formItem4","_form","_form3","_form4","_input","_input3","_input4","_button","_base","_button3","_button4","_promise","_promise2","_vue","_vue2","_mountComponent","_mountComponent2","_getGeoJSON","_getGeoJSON2","_insertRichiestaDownload","_insertRichiestaDownload2","_getDownloadRichiesteCache","_getDownloadRichiesteCache2","_RectDraw","_RectDraw2","_it","_it2","_locale","_locale2","component","resolve","e","require","use","VueCookie","props","title","sistemiCoordinate","epsg_code","proj_descr","codCliente","codTema","formato","selezioneTerritoriale","sistemaCoordinate","comune","bbox","bboxSRS","fogli","comuni","livelli","livello","style","hlStyle","showRectReset","storageKey","formatDisabled","computed","showSelectComuni","showSelectFogli","showSelectLivelli","length","watch","fogliSel","syncFogli","_comune","syncComune","mixins","_this","globals","SYS_MANUTENZIONE_DOWNLOAD","$el","hidden","inputFormat","cachedRequests","setConfig","setFeatureStyle","$cookie","get","addLayerSquadri","addLayerComuni","flagDownloadLivello","getMapConfig","idMap","layers","layer","codice","id","nome","legend","label","sort","a","b","formati","setDefaultFormat","show","removePanel","_this2","layerComuni","features","getFeatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","feature","setStyle","err","return","eachLayer","properties","CODICE_COMUNE","codice_comune","_this3","layerFogli","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","foglio","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_feature","forEach","COD_SQUADRO","cod_squadro","dlPanel","document","getElementById","parentNode","removeChild","downloadConfig","temi","unshift","tematismo","Style","stroke","Stroke","color","width","fill","Fill","fillOpacity","weight","opacity","_this4","filter","cod_formato","cachedFormat","defaultFormat","changeFormat","_this5","selFogli","selTerr","baseUrl","DEFAULT_PROXY","url","livelloSquadri","loadDataSquadri","_this6","removeLayer","filteredFeatures","changeSelezioneTerritoriale","_this7","selComune","livelloComuni","loadDataComuni","NOME_COMUNE","nome_comune","console","error","downloadURI","link","createElement","setAttribute","body","appendChild","href","click","validateEmail","email","re","test","submit","_this8","flagDownloadStatico","downloadStatico","codCatalogo","codCom","crsOut","join","utente_registrato","flagDownloadSincrono","isSyncDownload","resp","showSyncPanel","sendNotification","_this9","cached","cache","codiceCatalogo","toString","elId","containerId","vm","template","idRichiesta","_this10","success","me","setTimeout","cleanUp","message","log","cancel","set","activate","closeWindow","window","close","codFormato","_this11","sel","selTerrCached","event","rectOnDrawOL","rectOnDrawLL","addFeature","Feature","geometry","getGeometry","coords","getCoordinates","coord","xMin","getBounds","_southWest","lng","yMin","lat","xMax","_northEast","yMax","silent","_this12","onFeatureSelect","indexOf","item","push","layerSquadri","collapse","display","365","511","version","sources","names","mappings","file","sourcesContent","sourceRoot","512","644","content","locals","645","690","707","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","_scopeId","869","_vm","$createElement","_c","staticClass","attrs","directives","rawName","divId","noClose","collapsible","_v","ref","model","form","_s","expression","staticStyle","size","placeholder","callback","$$v","_e","_l","key","disabled","change","descrizione","filterable","multiple","collapse-tags","src","align","onclick"],"mappings":"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","file":"static/js/10.js","sourcesContent":["webpackJsonp([10,37],{\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _notification = __webpack_require__(16);\n\t\n\tvar _notification2 = _interopRequireDefault(_notification);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      drawnRectangle: null,\n\t      dragBoxInteraction: null\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    rectAddLayer: function rectAddLayer() {\n\t      if (GV.app.map.type === 'openlayers') {\n\t        this.rectAddLayerOL();\n\t      } else {\n\t        this.drawnRectangle = new L.FeatureGroup();\n\t        GV.app.map.addLayer(this.drawnRectangle);\n\t      }\n\t    },\n\t    rectAddLayerOL: function rectAddLayerOL() {\n\t      GV.app.map.loadLayers([{\n\t        name: 'DrawnRectangle',\n\t        type: 'JSON',\n\t        visible: true,\n\t        zIndex: 100\n\t      }]);\n\t      this.drawnRectangle = GV.app.map.getLayerByName('DrawnRectangle');\n\t    },\n\t    rectEnable: function rectEnable() {\n\t      (0, _notification2.default)('Disegna un rettangolo sulla mappa');\n\t      if (GV.app.map.type === 'openlayers') {\n\t        this.dragBoxInteraction = new ol.interaction.DragBox({});\n\t        GV.app.map.addInteraction(this.dragBoxInteraction);\n\t        this.dragBoxInteraction.on('boxend', this.rectOnDraw);\n\t      } else {\n\t        if (!GV.app.map.map.drawRectangle) {\n\t          GV.app.map.addHandler('drawRectangle', L.Draw.Rectangle);\n\t        }\n\t        GV.app.map.map.drawRectangle.enable();\n\t        GV.app.map.on('draw:created', this.rectOnDraw);\n\t      }\n\t    },\n\t    rectReset: function rectReset() {\n\t      if (GV.app.map.type === 'openlayers') {\n\t        if (this.drawnRectangle) {\n\t          this.drawnRectangle.getSource().clear();\n\t        }\n\t      } else {\n\t        if (this.drawnRectangle) {\n\t          this.drawnRectangle.clearLayers();\n\t        }\n\t        if (GV.app.map.map.drawRectangle) {\n\t          GV.config.activeControl.deactivate();\n\t          GV.app.map.map.drawRectangle.disable();\n\t          GV.app.map.map.drawRectangle.enable();\n\t        }\n\t      }\n\t    },\n\t    rectDisable: function rectDisable() {\n\t      if (GV.app.map.type === 'openlayers') {\n\t        GV.app.map.removeInteraction(this.dragBoxInteraction);\n\t        if (this.drawnRectangle) {\n\t          this.drawnRectangle.getSource().clear();\n\t        }\n\t      } else {\n\t        if (GV.app.map.map.drawRectangle) {\n\t          GV.app.map.map.drawRectangle.disable();\n\t        }\n\t        if (this.drawnRectangle) {\n\t          this.drawnRectangle.clearLayers();\n\t        }\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    this.rectAddLayer();\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (data) {\n\t  return _axios2.default.post(_globals2.default.RL_DOWNLOAD_INSERT_SERVICE, {\n\t    headers: { Accept: 'text/xml' },\n\t    data: data\n\t  }).then(function (response) {\n\t    return response.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(4);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getIterator2 = __webpack_require__(32);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _option = __webpack_require__(14);\n\t\n\tvar _option2 = _interopRequireDefault(_option);\n\t\n\tvar _option3 = __webpack_require__(11);\n\t\n\tvar _option4 = _interopRequireDefault(_option3);\n\t\n\tvar _select = __webpack_require__(15);\n\t\n\tvar _select2 = _interopRequireDefault(_select);\n\t\n\tvar _select3 = __webpack_require__(12);\n\t\n\tvar _select4 = _interopRequireDefault(_select3);\n\t\n\tvar _formItem = __webpack_require__(41);\n\t\n\tvar _formItem2 = _interopRequireDefault(_formItem);\n\t\n\tvar _formItem3 = __webpack_require__(39);\n\t\n\tvar _formItem4 = _interopRequireDefault(_formItem3);\n\t\n\tvar _form = __webpack_require__(35);\n\t\n\tvar _form2 = _interopRequireDefault(_form);\n\t\n\tvar _form3 = __webpack_require__(33);\n\t\n\tvar _form4 = _interopRequireDefault(_form3);\n\t\n\tvar _input = __webpack_require__(29);\n\t\n\tvar _input2 = _interopRequireDefault(_input);\n\t\n\tvar _input3 = __webpack_require__(20);\n\t\n\tvar _input4 = _interopRequireDefault(_input3);\n\t\n\tvar _button = __webpack_require__(9);\n\t\n\tvar _button2 = _interopRequireDefault(_button);\n\t\n\tvar _base = __webpack_require__(5);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _button3 = __webpack_require__(8);\n\t\n\tvar _button4 = _interopRequireDefault(_button3);\n\t\n\tvar _promise = __webpack_require__(10);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _vue = __webpack_require__(1);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _mountComponent = __webpack_require__(7);\n\t\n\tvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\t\n\tvar _notification = __webpack_require__(16);\n\t\n\tvar _notification2 = _interopRequireDefault(_notification);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\t\n\tvar _getGeoJSON = __webpack_require__(56);\n\t\n\tvar _getGeoJSON2 = _interopRequireDefault(_getGeoJSON);\n\t\n\tvar _insertRichiestaDownload = __webpack_require__(112);\n\t\n\tvar _insertRichiestaDownload2 = _interopRequireDefault(_insertRichiestaDownload);\n\t\n\tvar _getDownloadRichiesteCache = __webpack_require__(365);\n\t\n\tvar _getDownloadRichiesteCache2 = _interopRequireDefault(_getDownloadRichiesteCache);\n\t\n\tvar _RectDraw = __webpack_require__(69);\n\t\n\tvar _RectDraw2 = _interopRequireDefault(_RectDraw);\n\t\n\tvar _it = __webpack_require__(17);\n\t\n\tvar _it2 = _interopRequireDefault(_it);\n\t\n\tvar _locale = __webpack_require__(13);\n\t\n\tvar _locale2 = _interopRequireDefault(_locale);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('gv-download-sincrono-panel', function () {\n\t  return new _promise2.default(function (resolve) {\n\t    __webpack_require__.e/* nsure */(44, function (require) {\n\t      resolve(__webpack_require__(708));\n\t    });\n\t  });\n\t});\n\t\n\t_vue2.default.use(_button4.default);\n\t_vue2.default.use(_input4.default);\n\t_vue2.default.use(_form4.default);\n\t_vue2.default.use(_formItem4.default);\n\t_vue2.default.use(_select4.default);\n\t_vue2.default.use(_option4.default);\n\t\n\t_locale2.default.use(_it2.default);\n\t\n\tvar VueCookie = __webpack_require__(68);\n\t_vue2.default.use(VueCookie);\n\t\n\texports.default = {\n\t  name: 'gv-map-download',\n\t  props: ['idMap', 'closeWindow', 'inputFormat'],\n\t  data: function data() {\n\t    return {\n\t      title: 'DOWNLOAD',\n\t      sistemiCoordinate: [{\n\t        epsg_code: '3003',\n\t        proj_descr: 'ROMA40 - Gauss-Boaga - Fuso Ovest'\n\t      }, {\n\t        epsg_code: '25832',\n\t        proj_descr: 'ETRF89 - Proiezione UTM - Fuso 32'\n\t      }, {\n\t        epsg_code: '4258',\n\t        proj_descr: 'ETRF89 - Coordinate Geografiche'\n\t      }, {\n\t        epsg_code: '4806',\n\t        proj_descr: 'ROMA40 - Coordinate Geografiche'\n\t      }, {\n\t        epsg_code: '4326',\n\t        proj_descr: 'WGS84 - Coordinate Geografiche'\n\t      }],\n\t      codCliente: '',\n\t      codTema: null,\n\t      formato: null,\n\t      selezioneTerritoriale: null,\n\t      sistemaCoordinate: '3003',\n\t      comune: null,\n\t      bbox: null,\n\t      bboxSRS: null,\n\t      fogli: [],\n\t      comuni: [],\n\t      livelli: [],\n\t      livello: null,\n\t      config: {},\n\t      style: null,\n\t      hlStyle: null,\n\t      showRectReset: false,\n\t      storageKey: 'download',\n\t      formatDisabled: false\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    showSelectComuni: function showSelectComuni() {\n\t      return this.selezioneTerritoriale === 2;\n\t    },\n\t    showSelectFogli: function showSelectFogli() {\n\t      return this.selezioneTerritoriale === 3;\n\t    },\n\t    showSelectLivelli: function showSelectLivelli() {\n\t      return this.livelli.length > 0;\n\t    }\n\t  },\n\t  watch: {\n\t    fogli: function fogli(fogliSel) {\n\t      this.syncFogli(fogliSel);\n\t    },\n\t    comune: function comune(_comune) {\n\t      this.syncComune(_comune);\n\t    }\n\t  },\n\t  mixins: [_RectDraw2.default],\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    if (GV.globals.SYS_MANUTENZIONE_DOWNLOAD) {\n\t      (0, _notification2.default)('SISTEMA IN MANUTENZIONE: SERVIZIO TEMPORANEAMENTE SOSPESO');\n\t      this.$el.hidden = true;\n\t      return;\n\t    }\n\t    if (this.inputFormat) {\n\t      this.formatDisabled = true;\n\t    }\n\t\n\t    (0, _getDownloadRichiesteCache2.default)().then(function (response) {\n\t      _this.cachedRequests = response;\n\t    });\n\t\n\t    this.setConfig();\n\t\n\t    this.setFeatureStyle();\n\t\n\t    this.codCliente = this.$cookie.get('codCliente') != 'null' ? this.$cookie.get('codCliente') : '';\n\t\n\t    this.addLayerSquadri();\n\t\n\t    this.addLayerComuni();\n\t\n\t    if (this.config.flagDownloadLivello) {\n\t      this.livelli = GV.config.getMapConfig(this.idMap).layers.map(function (layer) {\n\t        return {\n\t          codice: layer.id,\n\t          nome: layer.legend.label\n\t        };\n\t      });\n\t      this.livelli.sort(function (a, b) {\n\t        if (a.nome < b.nome) {\n\t          return -1;\n\t        }\n\t        if (a.nome > b.nome) {\n\t          return 1;\n\t        }\n\t      });\n\t      if (this.livelli.length === 1) {\n\t        this.livello = this.livelli[0].codice;\n\t      }\n\t    }\n\t\n\t    if (this.config.formati.length > 0) {\n\t      this.setDefaultFormat(this.config.formati);\n\t    } else {\n\t      (0, _notification2.default)('Formati non impostati', 'error');\n\t      this.removePanel();\n\t      return;\n\t    }\n\t\n\t    this.show = true;\n\t  },\n\t\n\t  methods: {\n\t    syncComune: function syncComune(comune) {\n\t      var _this2 = this;\n\t\n\t      var layerComuni = GV.app.map.getLayerByName('SelezioneComune');\n\t      if (!layerComuni) {\n\t        return;\n\t      }\n\t      if (GV.app.map.type === 'openlayers') {\n\t        var features = layerComuni.getSource().getFeatures();\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = (0, _getIterator3.default)(features), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var feature = _step.value;\n\t\n\t            var codice = feature.get('CODICE_COMUNE') || feature.get('codice_comune');\n\t            if (codice === comune) {\n\t              feature.setStyle(this.hlStyle);\n\t            } else {\n\t              feature.setStyle(false);\n\t            }\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t      } else {\n\t        layerComuni.eachLayer(function (layer) {\n\t          layer.setStyle(_this2.style);\n\t        });\n\t        layerComuni.eachLayer(function (layer) {\n\t          var codice = layer.feature.properties.CODICE_COMUNE || layer.feature.properties.codice_comune;\n\t          if (codice === comune) {\n\t            layer.setStyle(_this2.hlStyle);\n\t          }\n\t        });\n\t      }\n\t    },\n\t    syncFogli: function syncFogli(fogliSel) {\n\t      var _this3 = this;\n\t\n\t      var layerFogli = GV.app.map.getLayerByName('SelezioneSquadri');\n\t      if (!layerFogli) {\n\t        return;\n\t      }\n\t      var style = this.hlStyle;\n\t      if (GV.app.map.type === 'openlayers') {\n\t        var features = layerFogli.getSource().getFeatures();\n\t        var _iteratorNormalCompletion2 = true;\n\t        var _didIteratorError2 = false;\n\t        var _iteratorError2 = undefined;\n\t\n\t        try {\n\t          for (var _iterator2 = (0, _getIterator3.default)(features), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var feature = _step2.value;\n\t\n\t            feature.setStyle(false);\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError2 = true;\n\t          _iteratorError2 = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t              _iterator2.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError2) {\n\t              throw _iteratorError2;\n\t            }\n\t          }\n\t        }\n\t\n\t        var _iteratorNormalCompletion3 = true;\n\t        var _didIteratorError3 = false;\n\t        var _iteratorError3 = undefined;\n\t\n\t        try {\n\t          for (var _iterator3 = (0, _getIterator3.default)(fogliSel), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t            var foglio = _step3.value;\n\t            var _iteratorNormalCompletion4 = true;\n\t            var _didIteratorError4 = false;\n\t            var _iteratorError4 = undefined;\n\t\n\t            try {\n\t              for (var _iterator4 = (0, _getIterator3.default)(features), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t                var _feature = _step4.value;\n\t\n\t                var codice = _feature.get('COD_SQUADRO') || _feature.get('cod_squadro');\n\t                if (codice == foglio) {\n\t                  _feature.setStyle(style);\n\t                }\n\t              }\n\t            } catch (err) {\n\t              _didIteratorError4 = true;\n\t              _iteratorError4 = err;\n\t            } finally {\n\t              try {\n\t                if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t                  _iterator4.return();\n\t                }\n\t              } finally {\n\t                if (_didIteratorError4) {\n\t                  throw _iteratorError4;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError3 = true;\n\t          _iteratorError3 = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t              _iterator3.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError3) {\n\t              throw _iteratorError3;\n\t            }\n\t          }\n\t        }\n\t      } else {\n\t        layerFogli.eachLayer(function (layer) {\n\t          layer.setStyle(_this3.style);\n\t        });\n\t        layerFogli.eachLayer(function (layer) {\n\t          fogliSel.forEach(function (foglio) {\n\t            var codice = layer.feature.properties.COD_SQUADRO || layer.feature.properties.cod_squadro;\n\t            if (codice === foglio) {\n\t              layer.setStyle(_this3.hlStyle);\n\t            }\n\t          });\n\t        });\n\t      }\n\t    },\n\t    removePanel: function removePanel() {\n\t      var dlPanel = document.getElementById('gv-map-download');\n\t      if (dlPanel) {\n\t        dlPanel.parentNode.removeChild(dlPanel);\n\t      }\n\t    },\n\t    setConfig: function setConfig() {\n\t      if (GV.config.getMapConfig(this.idMap) && GV.config.getMapConfig(this.idMap).downloadConfig) {\n\t        this.config = GV.config.getMapConfig(this.idMap).downloadConfig;\n\t        this.sistemiCoordinate = this.config.sistemiCoordinate;\n\t        this.sistemaCoordinate = this.sistemiCoordinate[0].epsg_code;\n\t        if (this.config.temi && this.config.temi[0] && this.config.temi[0].codice !== 0) {\n\t          this.config.temi.unshift({\n\t            codice: 0,\n\t            tematismo: 'Tutti i tematismi'\n\t          });\n\t        }\n\t      }\n\t    },\n\t    setFeatureStyle: function setFeatureStyle() {\n\t      var style = void 0;\n\t      if (GV.app.map.type === 'openlayers') {\n\t        style = new ol.style.Style({\n\t          stroke: new ol.style.Stroke({\n\t            color: [255, 204, 0, 1],\n\t            width: 1\n\t          }),\n\t          fill: new ol.style.Fill({\n\t            color: [255, 204, 0, 0.1]\n\t          })\n\t        });\n\t      } else {\n\t        style = {\n\t          color: '#ffcc00',\n\t          fillOpacity: 0,\n\t          weight: 1,\n\t          opacity: 1\n\t        };\n\t      }\n\t      this.style = style;\n\t\n\t      if (GV.app.map.type === 'openlayers') {\n\t        style = new ol.style.Style({\n\t          stroke: new ol.style.Stroke({\n\t            color: [255, 204, 0, 1],\n\t            width: 3\n\t          }),\n\t          fill: new ol.style.Fill({\n\t            color: [255, 204, 0, 0.6]\n\t          })\n\t        });\n\t      } else {\n\t        style = {\n\t          color: '#ffcc00',\n\t          fillOpacity: 0.6,\n\t          weight: 2,\n\t          opacity: 1\n\t        };\n\t      }\n\t      this.hlStyle = style;\n\t    },\n\t    setDefaultFormat: function setDefaultFormat(formati) {\n\t      var _this4 = this;\n\t\n\t      var inputFormat = formati.filter(function (formato) {\n\t        return formato.cod_formato === _this4.inputFormat;\n\t      }).length > 0 ? this.inputFormat : null;\n\t\n\t      var cachedFormat = formati.filter(function (formato) {\n\t        return formato.cod_formato === _this4.$cookie.get('formato');\n\t      }).length > 0 ? this.$cookie.get('formato') : null;\n\t\n\t      var defaultFormat = formati.filter(function (formato) {\n\t        return formato.cod_formato === 'SHP';\n\t      }).length > 0 ? 'SHP' : formati[0].cod_formato;\n\t\n\t      var formato = inputFormat || cachedFormat || defaultFormat;\n\t      this.changeFormat(formato);\n\t      this.formato = formato;\n\t    },\n\t    addLayerSquadri: function addLayerSquadri() {\n\t      var _this5 = this;\n\t\n\t      var selFogli = false;\n\t      if (!this.config.formati) return;\n\t      this.config.formati.forEach(function (formato) {\n\t        formato.selezioneTerritoriale.forEach(function (selTerr) {\n\t          if (selTerr.codice === 3) {\n\t            selFogli = true;\n\t          }\n\t        });\n\t      });\n\t      if (selFogli) {\n\t        var baseUrl = _globals2.default.DEFAULT_PROXY + 'https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=';\n\t        var url = '' + baseUrl + this.config.livelloSquadri;\n\t        (0, _getGeoJSON2.default)(url).then(function (response) {\n\t          _this5.loadDataSquadri(response.data);\n\t        });\n\t      }\n\t    },\n\t    loadDataSquadri: function loadDataSquadri(data) {\n\t      var _this6 = this;\n\t\n\t      if (GV.app.map.getLayerByName('SelezioneSquadri')) {\n\t        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneSquadri'));\n\t      }\n\t\n\t      var filteredFeatures = data.features.filter(function (feature) {\n\t        var filter = _this6.config.fogli.filter(function (foglio) {\n\t          var codice = feature.properties.COD_SQUADRO || feature.properties.cod_squadro;\n\t          return foglio.codice === codice;\n\t        });\n\t        return filter.length > 0;\n\t      });\n\t      data.features = filteredFeatures;\n\t\n\t      this.layerFogli = data;\n\t\n\t      this.changeSelezioneTerritoriale(this.selezioneTerritoriale, true);\n\t    },\n\t    addLayerComuni: function addLayerComuni() {\n\t      var _this7 = this;\n\t\n\t      var selComune = false;\n\t      if (!this.config.formati) return;\n\t      this.config.formati.forEach(function (formato) {\n\t        formato.selezioneTerritoriale.forEach(function (selTerr) {\n\t          if (selTerr.codice === 2) {\n\t            selComune = true;\n\t          }\n\t        });\n\t      });\n\t      if (selComune) {\n\t        var baseUrl = _globals2.default.DEFAULT_PROXY + 'https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=';\n\t        var url = '' + baseUrl + this.config.livelloComuni;\n\t        (0, _getGeoJSON2.default)(url).then(function (response) {\n\t          _this7.loadDataComuni(response.data);\n\t        });\n\t      }\n\t    },\n\t    loadDataComuni: function loadDataComuni(data) {\n\t      if (GV.app.map.getLayerByName('SelezioneComune')) {\n\t        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneComune'));\n\t      }\n\t\n\t      if (!data.features) {\n\t        console.error('Layer Comuni con caricato');\n\t        return;\n\t      }\n\t      this.comuni = data.features.map(function (feature) {\n\t        return {\n\t          codice: feature.properties.CODICE_COMUNE || feature.properties.codice_comune,\n\t          nome: feature.properties.NOME_COMUNE || feature.properties.nome_comune\n\t        };\n\t      }).sort(function (a, b) {\n\t        if (a.nome < b.nome) {\n\t          return -1;\n\t        }\n\t        if (a.nome > b.nome) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      });\n\t\n\t      this.layerComuni = data;\n\t\n\t      this.changeSelezioneTerritoriale(this.selezioneTerritoriale, true);\n\t    },\n\t    downloadURI: function downloadURI(url) {\n\t      var link = document.createElement('a');\n\t      link.setAttribute('target', '_blank');\n\t      document.body.appendChild(link);\n\t      link.href = url;\n\t      link.click();\n\t    },\n\t    validateEmail: function validateEmail(email) {\n\t      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t      return re.test(email);\n\t    },\n\t    submit: function submit() {\n\t      var _this8 = this;\n\t\n\t      if (!this.config.flagDownloadStatico && !this.codCliente) {\n\t        (0, _notification2.default)('Indicare Indirizzo Email');\n\t        return;\n\t      }\n\t      if (!this.config.flagDownloadStatico && !this.validateEmail(this.codCliente)) {\n\t        (0, _notification2.default)('Indirizzo Email non valido');\n\t        return;\n\t      }\n\t\n\t      if (this.config.flagDownloadLivello && !this.livello) {\n\t        (0, _notification2.default)('Selezionare un livello dalla lista');\n\t        return;\n\t      }\n\t      if (this.selezioneTerritoriale === 1 && !this.bbox) {\n\t        (0, _notification2.default)('Disegnare un rettangolo sulla mappa');\n\t        return;\n\t      }\n\t      if (this.selezioneTerritoriale === 2 && !this.comune) {\n\t        (0, _notification2.default)('Selezionare un comune dalla lista');\n\t        return;\n\t      }\n\t      if (this.selezioneTerritoriale === 3 && this.fogli.length === 0) {\n\t        (0, _notification2.default)('Selezionare i fogli di interesse dalla lista o sulla mappa');\n\t        return;\n\t      }\n\t      if (this.config.flagDownloadStatico) {\n\t        this.downloadStatico();\n\t        return;\n\t      }\n\t      var data = {\n\t        codCliente: this.codCliente,\n\t        codCatalogo: this.idMap,\n\t        bbox: this.bbox || '',\n\t        codCom: this.comune,\n\t        bboxSRS: this.bboxSRS,\n\t        crsOut: this.sistemaCoordinate,\n\t        formato: this.formato,\n\t        fogli: this.fogli.join(','),\n\t        codTema: this.codTema || '',\n\t        utente_registrato: 'N',\n\t        flagDownloadSincrono: this.isSyncDownload() ? 'S' : 'N',\n\t        test: false\n\t      };\n\t      (0, _insertRichiestaDownload2.default)(data).then(function (resp) {\n\t        _this8.isSyncDownload() ? _this8.showSyncPanel(resp) : _this8.sendNotification(resp);\n\t      });\n\t    },\n\t    isSyncDownload: function isSyncDownload() {\n\t      var _this9 = this;\n\t\n\t      if (this.config.flagDownloadSincrono) return true;\n\t\n\t      if (!this.bbox && !this.codTema) {\n\t        var cached = this.cachedRequests.filter(function (cache) {\n\t          return cache.codiceCatalogo.toString() === _this9.idMap && cache.crsOut.toString() === _this9.sistemaCoordinate && cache.formato === _this9.formato;\n\t        });\n\t        if (cached && cached.length > 0) return true;\n\t      }\n\t\n\t      return false;\n\t    },\n\t    showSyncPanel: function showSyncPanel(resp) {\n\t      (0, _mountComponent2.default)({\n\t        elId: 'gv-download-sincrono-panel',\n\t        containerId: GV.config.containerId,\n\t        vm: new _vue2.default({\n\t          template: '<gv-download-sincrono-panel v-draggable :idRichiesta=\"idRichiesta\"></gv-download-sincrono-panel>',\n\t          data: {\n\t            idRichiesta: resp.data.idRichiesta\n\t          }\n\t        })\n\t      });\n\t    },\n\t    sendNotification: function sendNotification(resp) {\n\t      var _this10 = this;\n\t\n\t      if (resp.success) {\n\t        (function () {\n\t          (0, _notification2.default)('<p>Inserita richiesta numero: ' + resp.data.idRichiesta + '.</p> <p>Al termine della elaborazione l\\'esito verr\\xE0 comunicato via mail</p>', 'info');\n\t          var me = _this10;\n\t          setTimeout(function () {\n\t            me.cleanUp();\n\t          }, 5000);\n\t        })();\n\t      } else {\n\t        (0, _notification2.default)('<p>Errore inserimento richiesta: ' + resp.message + '.</p>', 'error');\n\t      }\n\t    },\n\t    downloadStatico: function downloadStatico() {\n\t      var baseUrl = 'https://srvcarto.regione.liguria.it/dtuff/download_statico/';\n\t      var url = baseUrl + '/' + this.idMap + '/' + this.formato + '/' + this.sistemaCoordinate + '/' + this.selezioneTerritoriale + '/';\n\t      console.log(url);\n\t      if (this.config.flagDownloadLivello) {\n\t        switch (this.selezioneTerritoriale) {\n\t          case 0:\n\t            url += this.livello + '.zip';\n\t            break;\n\t          case 2:\n\t            url += this.livello + '_' + this.comune + '.zip';\n\t            break;\n\t        }\n\t      } else {\n\t        url += this.idMap + '.zip';\n\t      }\n\t\n\t      this.downloadURI(url);\n\t    },\n\t    cancel: function cancel() {\n\t      this.cleanUp();\n\t    },\n\t    cleanUp: function cleanUp() {\n\t      this.$cookie.set('codCliente', this.codCliente, '1Y');\n\t      this.$cookie.set('formato', this.formato, '1Y');\n\t      this.$cookie.set('selezioneTerritoriale', this.selezioneTerritoriale, '1Y');\n\t      this.$cookie.set('sistemaCoordinate', this.sistemaCoordinate, '1Y');\n\t\n\t      if (GV.app.map.getLayerByName('SelezioneSquadri')) {\n\t        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneSquadri'));\n\t      }\n\t      if (GV.app.map.getLayerByName('SelezioneComune')) {\n\t        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneComune'));\n\t      }\n\t\n\t      this.rectDisable();\n\t\n\t      GV.config.activeControl.activate();\n\t\n\t      if (this.closeWindow === 'true') {\n\t        window.close();\n\t      } else {\n\t        var dlPanel = document.getElementById('gv-map-download');\n\t        if (dlPanel) {\n\t          dlPanel.parentNode.removeChild(dlPanel);\n\t        }\n\t      }\n\t    },\n\t    changeFormat: function changeFormat(codFormato) {\n\t      var _this11 = this;\n\t\n\t      var selTerr = this.config.formati.filter(function (formato) {\n\t        return formato.cod_formato === codFormato;\n\t      })[0].selezioneTerritoriale.filter(function (sel) {\n\t        return sel.codice !== 4;\n\t      });\n\t\n\t      this.config.selezioneTerritoriale = selTerr;\n\t\n\t      var selTerrCached = selTerr.filter(function (sel) {\n\t        return sel.codice == _this11.$cookie.get('selezioneTerritoriale');\n\t      });\n\t\n\t      this.selezioneTerritoriale = selTerrCached.length > 0 ? selTerrCached[0].codice : selTerr[0].codice;\n\t      this.changeSelezioneTerritoriale(this.selezioneTerritoriale);\n\t    },\n\t    rectOnDraw: function rectOnDraw(event) {\n\t      if (GV.app.map.type === 'openlayers') {\n\t        this.rectOnDrawOL(event);\n\t      } else {\n\t        this.rectOnDrawLL(event);\n\t      }\n\t    },\n\t    rectOnDrawOL: function rectOnDrawOL() {\n\t      this.drawnRectangle.getSource().addFeature(new ol.Feature({\n\t        geometry: this.dragBoxInteraction.getGeometry(),\n\t        id: 'rect'\n\t      }));\n\t      var coords = this.drawnRectangle.getSource().getFeatures()[0].getGeometry().getCoordinates();\n\t      this.bbox = coords.map(function (coord) {\n\t        return coord.join(',');\n\t      })[0];\n\t\n\t      this.bboxSRS = '3857';\n\t    },\n\t    rectOnDrawLL: function rectOnDrawLL(event) {\n\t      this.drawnRectangle.addLayer(event.layer);\n\t      var xMin = event.layer.getBounds()._southWest.lng;\n\t      var yMin = event.layer.getBounds()._southWest.lat;\n\t      var xMax = event.layer.getBounds()._northEast.lng;\n\t      var yMax = event.layer.getBounds()._northEast.lat;\n\t      this.bbox = xMin + ',' + yMin + ',' + xMax + ',' + yMin + ',' + xMax + ',' + yMax + ',' + xMin + ',' + yMax + ',' + xMin + ',' + yMin;\n\t      this.bboxSRS = '4326';\n\t      this.showRectReset = true;\n\t    },\n\t    changeSelezioneTerritoriale: function changeSelezioneTerritoriale(codice, silent) {\n\t      var _this12 = this;\n\t\n\t      this.comune = null;\n\t      this.bbox = null;\n\t      this.fogli = [];\n\t\n\t      if (codice === 1 || codice === 2 || codice === 3 || codice === 5) {\n\t        GV.config.activeControl.deactivate();\n\t      } else {\n\t        GV.config.activeControl.activate();\n\t      }\n\t\n\t      if (codice === 1) {\n\t        this.rectEnable();\n\t      } else {\n\t        this.rectDisable();\n\t        this.showRectReset = false;\n\t      }\n\t\n\t      if (codice === 2) {\n\t        if (!this.layerComuni) return;\n\t        GV.app.map.loadLayers([{\n\t          name: 'SelezioneComune',\n\t          type: 'JSON',\n\t          style: this.style,\n\t          visible: true,\n\t          data: this.layerComuni,\n\t          zIndex: 100,\n\t          onFeatureSelect: function onFeatureSelect(feature, layer) {\n\t            if (_this12.selezioneTerritoriale !== 2) {\n\t              return;\n\t            }\n\t            _this12.comune = feature.get ? feature.get('CODICE_COMUNE') || feature.get('codice_comune') : feature.properties.CODICE_COMUNE || feature.properties.codice_comune;\n\t          }\n\t        }]);\n\t        if (!silent) (0, _notification2.default)('Selezionare un comune sulla mappa o dalla lista');\n\t      } else {\n\t        var layerComuni = GV.app.map.getLayerByName('SelezioneComune');\n\t        if (layerComuni) {\n\t          GV.app.map.removeLayer(layerComuni);\n\t        }\n\t      }\n\t\n\t      if (codice === 3) {\n\t        if (!this.layerFogli) return;\n\t        var style = this.style;\n\t        GV.app.map.loadLayers([{\n\t          name: 'SelezioneSquadri',\n\t          type: 'JSON',\n\t          style: style,\n\t          visible: true,\n\t          data: this.layerFogli,\n\t          zIndex: 100,\n\t          onFeatureSelect: function onFeatureSelect(feature, layer) {\n\t            if (_this12.selezioneTerritoriale !== 3) {\n\t              return;\n\t            }\n\t            var codice = feature.get ? feature.get('COD_SQUADRO') || feature.get('cod_squadro') : feature.properties.COD_SQUADRO || feature.properties.cod_squadro;\n\t            if (_this12.fogli.indexOf(codice) > -1) {\n\t              _this12.fogli = _this12.fogli.filter(function (item) {\n\t                return item !== codice;\n\t              });\n\t            } else {\n\t              _this12.fogli.push(codice);\n\t            }\n\t          }\n\t        }]);\n\t        if (!silent) (0, _notification2.default)('Selezionare un foglio sulla mappa o dalla lista');\n\t      } else {\n\t        var layerSquadri = GV.app.map.getLayerByName('SelezioneSquadri');\n\t        if (layerSquadri) {\n\t          GV.app.map.removeLayer(layerSquadri);\n\t        }\n\t      }\n\t    },\n\t\n\t    collapse: function collapse(event) {\n\t      if (this.show) {\n\t        document.getElementById('gv-map-download-body').style.display = 'none';\n\t      } else {\n\t        document.getElementById('gv-map-download-body').style.display = 'block';\n\t      }\n\t      this.show = !this.show;\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  var url = '/geoservices/REST/download/richieste_cache';\n\t  return _axios2.default.get(url).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(4);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ 511:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(2)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".el-tree-node__label{font-size:12px!important}.el-tabs__item.is-active{color:#24386c!important}.el-tabs__header{margin:0 0 5px!important}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Download.vue\"],\"names\":[],\"mappings\":\"AACA,qBACE,wBAA2B,CAC5B,AACD,yBACE,uBAA0B,CAC3B,AACD,iBACE,wBAA2B,CAC5B\",\"file\":\"Download.vue\",\"sourcesContent\":[\"\\n.el-tree-node__label {\\r\\n  font-size: 12px !important;\\n}\\n.el-tabs__item.is-active {\\r\\n  color: #24386c !important;\\n}\\n.el-tabs__header {\\r\\n  margin: 0 0 5px !important;\\n}\\r\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 512:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(2)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".gv-map-download[data-v-98509560]{position:absolute;left:0;top:0;margin-left:10px;margin-top:50px;background-color:#fff;z-index:800}.gv-map-download-body[data-v-98509560]{margin:10px}.gv-map-download-label[data-v-98509560]{display:inline-block;width:150px}.gv-map-download-title[data-v-98509560]{display:inline-block;font-weight:800;width:400px;margin-bottom:20px}.gv-map-download-buttons[data-v-98509560]{float:right}.gv-map-download-buttons img[data-v-98509560]{float:left;margin-right:150px;margin-top:10px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Download.vue\"],\"names\":[],\"mappings\":\"AACA,kCACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,iBAAkB,AAClB,gBAAiB,AACjB,sBAAuB,AACvB,WAAa,CACd,AACD,uCACE,WAAa,CACd,AACD,wCACE,qBAAsB,AACtB,WAAa,CACd,AACD,wCACE,qBAAsB,AACtB,gBAAiB,AACjB,YAAa,AACb,kBAAoB,CACrB,AACD,0CACE,WAAa,CACd,AACD,8CACE,WAAY,AACZ,mBAAoB,AACpB,eAAiB,CAClB\",\"file\":\"Download.vue\",\"sourcesContent\":[\"\\n.gv-map-download[data-v-98509560] {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  margin-left: 10px;\\r\\n  margin-top: 50px;\\r\\n  background-color: #fff;\\r\\n  z-index: 800;\\n}\\n.gv-map-download-body[data-v-98509560] {\\r\\n  margin: 10px;\\n}\\n.gv-map-download-label[data-v-98509560] {\\r\\n  display: inline-block;\\r\\n  width: 150px;\\n}\\n.gv-map-download-title[data-v-98509560] {\\r\\n  display: inline-block;\\r\\n  font-weight: 800;\\r\\n  width: 400px;\\r\\n  margin-bottom: 20px;\\n}\\n.gv-map-download-buttons[data-v-98509560] {\\r\\n  float: right;\\n}\\n.gv-map-download-buttons img[data-v-98509560] {\\r\\n  float: left;\\r\\n  margin-right: 150px;\\r\\n  margin-top: 10px;\\n}\\r\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 644:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(511);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(3)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(512);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(3)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 690:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ 707:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(645)\n\t__webpack_require__(644)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(259)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(869)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-98509560\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n\n/***/ 869:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-map-download gv-inverted-color-scheme\",\n\t    attrs: {\n\t      \"id\": \"gv-map-download\"\n\t    }\n\t  }, [_vm._c('gv-title', {\n\t    directives: [{\n\t      name: \"draggable\",\n\t      rawName: \"v-draggable\"\n\t    }],\n\t    attrs: {\n\t      \"title\": _vm.title,\n\t      \"divId\": 'gv-map-download',\n\t      \"noClose\": true,\n\t      \"collapsible\": 'gv-map-download-body'\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-map-download-body\",\n\t    attrs: {\n\t      \"id\": \"gv-map-download-body\"\n\t    }\n\t  }, [_vm._c('el-form', {\n\t    ref: \"form\",\n\t    attrs: {\n\t      \"model\": _vm.form\n\t    }\n\t  }, [_vm._c('span', {\n\t    staticClass: \"gv-map-download-title\"\n\t  }, [_vm._v(_vm._s(_vm.config.name))]), _vm._v(\" \"), _vm._c('el-form-item', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!_vm.config.flagDownloadStatico),\n\t      expression: \"!config.flagDownloadStatico\"\n\t    }]\n\t  }, [_vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Email\")]), _vm._v(\" \"), _vm._c('el-input', {\n\t    staticStyle: {\n\t      \"width\": \"250px\"\n\t    },\n\t    attrs: {\n\t      \"id\": \"gv-map-download-email\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Email\",\n\t      \"type\": \"email\"\n\t    },\n\t    model: {\n\t      value: (_vm.codCliente),\n\t      callback: function($$v) {\n\t        _vm.codCliente = $$v\n\t      },\n\t      expression: \"codCliente\"\n\t    }\n\t  })], 1), _vm._v(\" \"), _vm._c('el-form-item', [(_vm.showSelectLivelli) ? _vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Livello\")]) : _vm._e(), _vm._v(\" \"), (_vm.showSelectLivelli) ? _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-livello\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Scegli un livello\"\n\t    },\n\t    model: {\n\t      value: (_vm.livello),\n\t      callback: function($$v) {\n\t        _vm.livello = $$v\n\t      },\n\t      expression: \"livello\"\n\t    }\n\t  }, _vm._l((_vm.livelli), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"label\": item.nome,\n\t        \"value\": item.codice\n\t      }\n\t    })\n\t  })) : _vm._e()], 1), _vm._v(\" \"), _vm._c('el-form-item', [(_vm.config.flagDownloadPerTemi) ? _vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Tematismo\")]) : _vm._e(), _vm._v(\" \"), (_vm.config.flagDownloadPerTemi) ? _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-temi\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Tutti i tematismi\"\n\t    },\n\t    model: {\n\t      value: (_vm.codTema),\n\t      callback: function($$v) {\n\t        _vm.codTema = $$v\n\t      },\n\t      expression: \"codTema\"\n\t    }\n\t  }, _vm._l((_vm.config.temi), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"label\": item.tematismo,\n\t        \"value\": item.codice\n\t      }\n\t    })\n\t  })) : _vm._e()], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Sistema di Coordinate\")]), _vm._v(\" \"), _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-crs\",\n\t      \"size\": \"mini\"\n\t    },\n\t    model: {\n\t      value: (_vm.sistemaCoordinate),\n\t      callback: function($$v) {\n\t        _vm.sistemaCoordinate = $$v\n\t      },\n\t      expression: \"sistemaCoordinate\"\n\t    }\n\t  }, _vm._l((_vm.config.sistemiCoordinate), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.epsg_code,\n\t      attrs: {\n\t        \"value\": item.epsg_code,\n\t        \"label\": item.proj_descr\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Formato\")]), _vm._v(\" \"), _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-formato\",\n\t      \"size\": \"mini\",\n\t      \"disabled\": _vm.formatDisabled\n\t    },\n\t    on: {\n\t      \"change\": _vm.changeFormat\n\t    },\n\t    model: {\n\t      value: (_vm.formato),\n\t      callback: function($$v) {\n\t        _vm.formato = $$v\n\t      },\n\t      expression: \"formato\"\n\t    }\n\t  }, _vm._l((_vm.config.formati), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.cod_formato,\n\t      attrs: {\n\t        \"value\": item.cod_formato,\n\t        \"label\": item.formato\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Selezione Territoriale\")]), _vm._v(\" \"), _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-selterr\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.changeSelezioneTerritoriale\n\t    },\n\t    model: {\n\t      value: (_vm.selezioneTerritoriale),\n\t      callback: function($$v) {\n\t        _vm.selezioneTerritoriale = $$v\n\t      },\n\t      expression: \"selezioneTerritoriale\"\n\t    }\n\t  }, _vm._l((_vm.config.selezioneTerritoriale), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"value\": item.codice,\n\t        \"label\": item.descrizione\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelectComuni),\n\t      expression: \"showSelectComuni\"\n\t    }],\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Selezione Comune\")]), _vm._v(\" \"), _vm._c('el-select', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelectComuni),\n\t      expression: \"showSelectComuni\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"gv-map-download-comuni\",\n\t      \"size\": \"mini\",\n\t      \"filterable\": \"\"\n\t    },\n\t    model: {\n\t      value: (_vm.comune),\n\t      callback: function($$v) {\n\t        _vm.comune = $$v\n\t      },\n\t      expression: \"comune\"\n\t    }\n\t  }, _vm._l((_vm.comuni), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"value\": item.codice,\n\t        \"label\": item.nome\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelectFogli),\n\t      expression: \"showSelectFogli\"\n\t    }],\n\t    staticClass: \"gv-map-download-label\"\n\t  }, [_vm._v(\"Selezione Fogli\")]), _vm._v(\" \"), _vm._c('el-select', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelectFogli),\n\t      expression: \"showSelectFogli\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"gv-map-download-fogli\",\n\t      \"size\": \"mini\",\n\t      \"multiple\": \"\",\n\t      \"collapse-tags\": \"\"\n\t    },\n\t    model: {\n\t      value: (_vm.fogli),\n\t      callback: function($$v) {\n\t        _vm.fogli = $$v\n\t      },\n\t      expression: \"fogli\"\n\t    }\n\t  }, _vm._l((_vm.config.fogli), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.codice,\n\t      attrs: {\n\t        \"value\": item.codice,\n\t        \"label\": item.nome\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('el-button', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showRectReset),\n\t      expression: \"showRectReset\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"gv-map-download-rect-reset\",\n\t      \"type\": \"primary\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.rectReset\n\t    }\n\t  }, [_vm._v(\"Reimposta Rettangolo\")])], 1), _vm._v(\" \"), _vm._c('el-form-item', {\n\t    staticClass: \"gv-map-download-buttons\"\n\t  }, [_vm._c('img', {\n\t    attrs: {\n\t      \"src\": __webpack_require__(690),\n\t      \"align\": \"bottom\",\n\t      \"onclick\": \"window.open('https://creativecommons.org/licenses/by/4.0/')\"\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('el-button', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-submit\",\n\t      \"type\": \"primary\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.submit\n\t    }\n\t  }, [_vm._v(\"Conferma\")]), _vm._v(\" \"), _vm._c('el-button', {\n\t    attrs: {\n\t      \"id\": \"gv-map-download-cancel\",\n\t      \"type\": \"primary\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.cancel\n\t    }\n\t  }, [_vm._v(\"Annulla\")])], 1)], 1)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/10.js","import notification from '../util/notification';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      drawnRectangle: null,\r\n      dragBoxInteraction: null,\r\n    };\r\n  },\r\n  methods: {\r\n    rectAddLayer() {\r\n      if (GV.app.map.type === 'openlayers') {\r\n        this.rectAddLayerOL();\r\n      } else {\r\n        this.drawnRectangle = new L.FeatureGroup();\r\n        GV.app.map.addLayer(this.drawnRectangle);\r\n      }\r\n    },\r\n    rectAddLayerOL() {\r\n      GV.app.map.loadLayers([\r\n        {\r\n          name: 'DrawnRectangle',\r\n          type: 'JSON',\r\n          visible: true,\r\n          zIndex: 100,\r\n        },\r\n      ]);\r\n      this.drawnRectangle = GV.app.map.getLayerByName('DrawnRectangle');\r\n    },\r\n    rectEnable() {\r\n      notification('Disegna un rettangolo sulla mappa');\r\n      if (GV.app.map.type === 'openlayers') {\r\n        this.dragBoxInteraction = new ol.interaction.DragBox({});\r\n        GV.app.map.addInteraction(this.dragBoxInteraction);\r\n        this.dragBoxInteraction.on('boxend', this.rectOnDraw);\r\n      } else {\r\n        if (!GV.app.map.map.drawRectangle) {\r\n          GV.app.map.addHandler('drawRectangle', L.Draw.Rectangle);\r\n        }\r\n        GV.app.map.map.drawRectangle.enable();\r\n        GV.app.map.on('draw:created', this.rectOnDraw);\r\n      }\r\n    },\r\n    rectReset() {\r\n      if (GV.app.map.type === 'openlayers') {\r\n        if (this.drawnRectangle) {\r\n          this.drawnRectangle.getSource().clear();\r\n        }\r\n      } else {\r\n        if (this.drawnRectangle) {\r\n          this.drawnRectangle.clearLayers();\r\n        }\r\n        if (GV.app.map.map.drawRectangle) {\r\n          GV.config.activeControl.deactivate();\r\n          GV.app.map.map.drawRectangle.disable();\r\n          GV.app.map.map.drawRectangle.enable();\r\n        }\r\n      }\r\n    },\r\n    rectDisable() {\r\n      if (GV.app.map.type === 'openlayers') {\r\n        GV.app.map.removeInteraction(this.dragBoxInteraction);\r\n        if (this.drawnRectangle) {\r\n          this.drawnRectangle.getSource().clear();\r\n        }\r\n      } else {\r\n        if (GV.app.map.map.drawRectangle) {\r\n          GV.app.map.map.drawRectangle.disable();\r\n        }\r\n        if (this.drawnRectangle) {\r\n          this.drawnRectangle.clearLayers();\r\n        }\r\n      }\r\n    },\r\n  },\r\n  mounted: function() {\r\n    this.rectAddLayer();\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/node-prj/geoviewer2/src/mixins/RectDraw.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function(data) {\r\n  return axios\r\n    .post(globals.RL_DOWNLOAD_INSERT_SERVICE, {\r\n      headers: { Accept: 'text/xml' },\r\n      data: data,\r\n    })\r\n    .then(response => response.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/node-prj/geoviewer2/src/services/insertRichiestaDownload.js","<template>\r\n  <div class=\"gv-map-download gv-inverted-color-scheme\" id=\"gv-map-download\">\r\n    <gv-title\r\n      v-draggable\r\n      :title=\"title\"\r\n      :divId=\"'gv-map-download'\"\r\n      :noClose=\"true\"\r\n      :collapsible=\"'gv-map-download-body'\"\r\n    ></gv-title>\r\n    <div class=\"gv-map-download-body\" id=\"gv-map-download-body\">\r\n      <el-form :model=\"form\" ref=\"form\">\r\n        <span class=\"gv-map-download-title\">{{ config.name }}</span>\r\n        <el-form-item v-show=\"!config.flagDownloadStatico\">\r\n          <span class=\"gv-map-download-label\">Email</span>\r\n          <el-input\r\n            id=\"gv-map-download-email\"\r\n            style=\"width: 250px\"\r\n            size=\"mini\"\r\n            placeholder=\"Email\"\r\n            type=\"email\"\r\n            v-model=\"codCliente\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span v-if=\"showSelectLivelli\" class=\"gv-map-download-label\">Livello</span>\r\n          <el-select\r\n            id=\"gv-map-download-livello\"\r\n            v-if=\"showSelectLivelli\"\r\n            v-model=\"livello\"\r\n            size=\"mini\"\r\n            placeholder=\"Scegli un livello\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in livelli\"\r\n              :key=\"item.codice\"\r\n              :label=\"item.nome\"\r\n              :value=\"item.codice\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span v-if=\"config.flagDownloadPerTemi\" class=\"gv-map-download-label\">Tematismo</span>\r\n          <el-select\r\n            id=\"gv-map-download-temi\"\r\n            v-if=\"config.flagDownloadPerTemi\"\r\n            v-model=\"codTema\"\r\n            size=\"mini\"\r\n            placeholder=\"Tutti i tematismi\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in config.temi\"\r\n              :key=\"item.codice\"\r\n              :label=\"item.tematismo\"\r\n              :value=\"item.codice\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span class=\"gv-map-download-label\">Sistema di Coordinate</span>\r\n          <el-select id=\"gv-map-download-crs\" v-model=\"sistemaCoordinate\" size=\"mini\">\r\n            <el-option\r\n              v-for=\"item in config.sistemiCoordinate\"\r\n              :key=\"item.epsg_code\"\r\n              :value=\"item.epsg_code\"\r\n              :label=\"item.proj_descr\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span class=\"gv-map-download-label\">Formato</span>\r\n          <el-select\r\n            id=\"gv-map-download-formato\"\r\n            v-model=\"formato\"\r\n            size=\"mini\"\r\n            @change=\"changeFormat\"\r\n            :disabled=\"formatDisabled\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in config.formati\"\r\n              :key=\"item.cod_formato\"\r\n              :value=\"item.cod_formato\"\r\n              :label=\"item.formato\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span class=\"gv-map-download-label\">Selezione Territoriale</span>\r\n          <el-select\r\n            id=\"gv-map-download-selterr\"\r\n            v-model=\"selezioneTerritoriale\"\r\n            size=\"mini\"\r\n            @change=\"changeSelezioneTerritoriale\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in config.selezioneTerritoriale\"\r\n              :key=\"item.codice\"\r\n              :value=\"item.codice\"\r\n              :label=\"item.descrizione\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span v-show=\"showSelectComuni\" class=\"gv-map-download-label\">Selezione Comune</span>\r\n          <el-select\r\n            id=\"gv-map-download-comuni\"\r\n            v-show=\"showSelectComuni\"\r\n            v-model=\"comune\"\r\n            size=\"mini\"\r\n            filterable\r\n          >\r\n            <el-option\r\n              v-for=\"item in comuni\"\r\n              :key=\"item.codice\"\r\n              :value=\"item.codice\"\r\n              :label=\"item.nome\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <span v-show=\"showSelectFogli\" class=\"gv-map-download-label\">Selezione Fogli</span>\r\n          <el-select\r\n            id=\"gv-map-download-fogli\"\r\n            v-show=\"showSelectFogli\"\r\n            v-model=\"fogli\"\r\n            size=\"mini\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in config.fogli\"\r\n              :key=\"item.codice\"\r\n              :value=\"item.codice\"\r\n              :label=\"item.nome\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            id=\"gv-map-download-rect-reset\"\r\n            v-show=\"showRectReset\"\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            @click=\"rectReset\"\r\n            >Reimposta Rettangolo</el-button\r\n          >\r\n        </el-form-item>\r\n\r\n        <el-form-item class=\"gv-map-download-buttons\">\r\n          <img\r\n            src=\"../../static/img/cc-by.png\"\r\n            align=\"bottom\"\r\n            onclick=\"window.open('https://creativecommons.org/licenses/by/4.0/')\"\r\n          />\r\n          <el-button id=\"gv-map-download-submit\" type=\"primary\" size=\"mini\" @click=\"submit\"\r\n            >Conferma</el-button\r\n          >\r\n          <el-button id=\"gv-map-download-cancel\" type=\"primary\" size=\"mini\" @click=\"cancel\"\r\n            >Annulla</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\n\r\n// require('leaflet-draw');\r\n// require('style!../../node_modules/leaflet-draw/dist/leaflet.draw.css');\r\n\r\nimport mountComponent from '../util/mountComponent';\r\nimport notification from '../util/notification';\r\nimport globals from '../globals';\r\nimport getGeoJSON from '../services/getGeoJSON';\r\nimport insertRichiestaDownload from '../services/insertRichiestaDownload';\r\nimport getDownloadRichiesteCache from '../services/getDownloadRichiesteCache';\r\nimport RectDraw from '../mixins/RectDraw.js';\r\n\r\nVue.component('gv-download-sincrono-panel', () => import('./DownloadSincrono.vue'));\r\n\r\nimport { Button, Input, Form, FormItem, Select, Option } from 'element-ui';\r\nVue.use(Button);\r\nVue.use(Input);\r\nVue.use(Form);\r\nVue.use(FormItem);\r\nVue.use(Select);\r\nVue.use(Option);\r\nimport lang from 'element-ui/lib/locale/lang/it';\r\nimport locale from 'element-ui/lib/locale';\r\nlocale.use(lang);\r\n\r\nvar VueCookie = require('vue-cookie');\r\nVue.use(VueCookie);\r\n\r\nexport default {\r\n  name: 'gv-map-download',\r\n  props: ['idMap', 'closeWindow', 'inputFormat'],\r\n  data() {\r\n    return {\r\n      title: 'DOWNLOAD',\r\n      sistemiCoordinate: [\r\n        {\r\n          epsg_code: '3003',\r\n          proj_descr: 'ROMA40 - Gauss-Boaga - Fuso Ovest',\r\n        },\r\n        {\r\n          epsg_code: '25832',\r\n          proj_descr: 'ETRF89 - Proiezione UTM - Fuso 32',\r\n        },\r\n        {\r\n          epsg_code: '4258',\r\n          proj_descr: 'ETRF89 - Coordinate Geografiche',\r\n        },\r\n        {\r\n          epsg_code: '4806',\r\n          proj_descr: 'ROMA40 - Coordinate Geografiche',\r\n        },\r\n        {\r\n          epsg_code: '4326',\r\n          proj_descr: 'WGS84 - Coordinate Geografiche',\r\n        },\r\n      ],\r\n      codCliente: '',\r\n      codTema: null,\r\n      formato: null,\r\n      selezioneTerritoriale: null,\r\n      sistemaCoordinate: '3003',\r\n      comune: null,\r\n      bbox: null,\r\n      bboxSRS: null,\r\n      fogli: [],\r\n      comuni: [],\r\n      livelli: [],\r\n      livello: null,\r\n      config: {},\r\n      style: null,\r\n      hlStyle: null,\r\n      showRectReset: false,\r\n      storageKey: 'download',\r\n      formatDisabled: false,\r\n    };\r\n  },\r\n  computed: {\r\n    showSelectComuni() {\r\n      return this.selezioneTerritoriale === 2;\r\n    },\r\n    showSelectFogli() {\r\n      return this.selezioneTerritoriale === 3;\r\n    },\r\n    showSelectLivelli() {\r\n      return this.livelli.length > 0;\r\n    },\r\n  },\r\n  watch: {\r\n    fogli(fogliSel) {\r\n      this.syncFogli(fogliSel);\r\n    },\r\n    comune(comune) {\r\n      this.syncComune(comune);\r\n    },\r\n  },\r\n  mixins: [RectDraw],\r\n  mounted() {\r\n    // Gestione sospensione per menutenzione\r\n    if (GV.globals.SYS_MANUTENZIONE_DOWNLOAD) {\r\n      notification('SISTEMA IN MANUTENZIONE: SERVIZIO TEMPORANEAMENTE SOSPESO');\r\n      this.$el.hidden = true;\r\n      return;\r\n    }\r\n    if (this.inputFormat) {\r\n      this.formatDisabled = true;\r\n    }\r\n    // Leggo le richieste in cache\r\n    getDownloadRichiesteCache().then((response) => {\r\n      this.cachedRequests = response;\r\n    });\r\n    // imposto la configurazione\r\n    this.setConfig();\r\n    // imposto stile feature\r\n    this.setFeatureStyle();\r\n    // Leggo cookies\r\n    this.codCliente =\r\n      this.$cookie.get('codCliente') != 'null' ? this.$cookie.get('codCliente') : '';\r\n    // Imposto layer per selezione fogli\r\n    this.addLayerSquadri();\r\n    // Imposto layer per selezione comuni\r\n    this.addLayerComuni();\r\n    // Imposto combo livelli\r\n    if (this.config.flagDownloadLivello) {\r\n      this.livelli = GV.config.getMapConfig(this.idMap).layers.map((layer) => {\r\n        return {\r\n          codice: layer.id,\r\n          nome: layer.legend.label,\r\n        };\r\n      });\r\n      this.livelli.sort((a, b) => {\r\n        if (a.nome < b.nome) {\r\n          return -1;\r\n        }\r\n        if (a.nome > b.nome) {\r\n          return 1;\r\n        }\r\n      });\r\n      if (this.livelli.length === 1) {\r\n        this.livello = this.livelli[0].codice;\r\n      }\r\n    }\r\n    // Imposto formato di default\r\n    if (this.config.formati.length > 0) {\r\n      this.setDefaultFormat(this.config.formati);\r\n    } else {\r\n      notification('Formati non impostati', 'error');\r\n      this.removePanel();\r\n      return;\r\n    }\r\n\r\n    this.show = true;\r\n  },\r\n  methods: {\r\n    syncComune(comune) {\r\n      const layerComuni = GV.app.map.getLayerByName('SelezioneComune');\r\n      if (!layerComuni) {\r\n        return;\r\n      }\r\n      if (GV.app.map.type === 'openlayers') {\r\n        const features = layerComuni.getSource().getFeatures();\r\n        for (const feature of features) {\r\n          const codice = feature.get('CODICE_COMUNE') || feature.get('codice_comune');\r\n          if (codice === comune) {\r\n            feature.setStyle(this.hlStyle);\r\n          } else {\r\n            feature.setStyle(false);\r\n          }\r\n        }\r\n      } else {\r\n        layerComuni.eachLayer((layer) => {\r\n          layer.setStyle(this.style);\r\n        });\r\n        layerComuni.eachLayer((layer) => {\r\n          const codice =\r\n            layer.feature.properties.CODICE_COMUNE || layer.feature.properties.codice_comune;\r\n          if (codice === comune) {\r\n            layer.setStyle(this.hlStyle);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    syncFogli(fogliSel) {\r\n      const layerFogli = GV.app.map.getLayerByName('SelezioneSquadri');\r\n      if (!layerFogli) {\r\n        return;\r\n      }\r\n      const style = this.hlStyle;\r\n      if (GV.app.map.type === 'openlayers') {\r\n        const features = layerFogli.getSource().getFeatures();\r\n        for (const feature of features) {\r\n          feature.setStyle(false);\r\n        }\r\n        for (const foglio of fogliSel) {\r\n          for (const feature of features) {\r\n            const codice = feature.get('COD_SQUADRO') || feature.get('cod_squadro');\r\n            if (codice == foglio) {\r\n              feature.setStyle(style);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        layerFogli.eachLayer((layer) => {\r\n          layer.setStyle(this.style);\r\n        });\r\n        layerFogli.eachLayer((layer) => {\r\n          fogliSel.forEach((foglio) => {\r\n            const codice =\r\n              layer.feature.properties.COD_SQUADRO || layer.feature.properties.cod_squadro;\r\n            if (codice === foglio) {\r\n              layer.setStyle(this.hlStyle);\r\n            }\r\n          });\r\n        });\r\n      }\r\n    },\r\n    removePanel() {\r\n      const dlPanel = document.getElementById('gv-map-download');\r\n      if (dlPanel) {\r\n        dlPanel.parentNode.removeChild(dlPanel);\r\n      }\r\n    },\r\n    setConfig() {\r\n      if (GV.config.getMapConfig(this.idMap) && GV.config.getMapConfig(this.idMap).downloadConfig) {\r\n        this.config = GV.config.getMapConfig(this.idMap).downloadConfig;\r\n        this.sistemiCoordinate = this.config.sistemiCoordinate;\r\n        this.sistemaCoordinate = this.sistemiCoordinate[0].epsg_code;\r\n        if (this.config.temi && this.config.temi[0] && this.config.temi[0].codice !== 0) {\r\n          this.config.temi.unshift({\r\n            codice: 0,\r\n            tematismo: 'Tutti i tematismi',\r\n          });\r\n        }\r\n      }\r\n    },\r\n    setFeatureStyle() {\r\n      let style;\r\n      if (GV.app.map.type === 'openlayers') {\r\n        style = new ol.style.Style({\r\n          stroke: new ol.style.Stroke({\r\n            color: [255, 204, 0, 1],\r\n            width: 1,\r\n          }),\r\n          fill: new ol.style.Fill({\r\n            color: [255, 204, 0, 0.1],\r\n          }),\r\n        });\r\n      } else {\r\n        style = {\r\n          color: '#ffcc00',\r\n          fillOpacity: 0,\r\n          weight: 1,\r\n          opacity: 1,\r\n        };\r\n      }\r\n      this.style = style;\r\n\r\n      if (GV.app.map.type === 'openlayers') {\r\n        style = new ol.style.Style({\r\n          stroke: new ol.style.Stroke({\r\n            color: [255, 204, 0, 1],\r\n            width: 3,\r\n          }),\r\n          fill: new ol.style.Fill({\r\n            color: [255, 204, 0, 0.6],\r\n          }),\r\n        });\r\n      } else {\r\n        style = {\r\n          color: '#ffcc00',\r\n          fillOpacity: 0.6,\r\n          weight: 2,\r\n          opacity: 1,\r\n        };\r\n      }\r\n      this.hlStyle = style;\r\n    },\r\n\r\n    setDefaultFormat(formati) {\r\n      const inputFormat =\r\n        formati.filter((formato) => {\r\n          return formato.cod_formato === this.inputFormat;\r\n        }).length > 0\r\n          ? this.inputFormat\r\n          : null;\r\n\r\n      const cachedFormat =\r\n        formati.filter((formato) => {\r\n          return formato.cod_formato === this.$cookie.get('formato');\r\n        }).length > 0\r\n          ? this.$cookie.get('formato')\r\n          : null;\r\n\r\n      const defaultFormat =\r\n        formati.filter((formato) => {\r\n          return formato.cod_formato === 'SHP';\r\n        }).length > 0\r\n          ? 'SHP'\r\n          : formati[0].cod_formato;\r\n\r\n      const formato = inputFormat || cachedFormat || defaultFormat;\r\n      this.changeFormat(formato);\r\n      this.formato = formato;\r\n    },\r\n    addLayerSquadri() {\r\n      let selFogli = false;\r\n      if (!this.config.formati) return;\r\n      this.config.formati.forEach((formato) => {\r\n        formato.selezioneTerritoriale.forEach((selTerr) => {\r\n          if (selTerr.codice === 3) {\r\n            selFogli = true;\r\n          }\r\n        });\r\n      });\r\n      if (selFogli) {\r\n        const baseUrl = `${globals.DEFAULT_PROXY}https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=`;\r\n        const url = `${baseUrl}${this.config.livelloSquadri}`;\r\n        getGeoJSON(url).then((response) => {\r\n          this.loadDataSquadri(response.data);\r\n        });\r\n      }\r\n    },\r\n    loadDataSquadri(data) {\r\n      if (GV.app.map.getLayerByName('SelezioneSquadri')) {\r\n        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneSquadri'));\r\n      }\r\n\r\n      const filteredFeatures = data.features.filter((feature) => {\r\n        const filter = this.config.fogli.filter((foglio) => {\r\n          const codice = feature.properties.COD_SQUADRO || feature.properties.cod_squadro;\r\n          return foglio.codice === codice;\r\n        });\r\n        return filter.length > 0;\r\n      });\r\n      data.features = filteredFeatures;\r\n\r\n      this.layerFogli = data;\r\n\r\n      this.changeSelezioneTerritoriale(this.selezioneTerritoriale, true);\r\n    },\r\n\r\n    addLayerComuni() {\r\n      let selComune = false;\r\n      if (!this.config.formati) return;\r\n      this.config.formati.forEach((formato) => {\r\n        formato.selezioneTerritoriale.forEach((selTerr) => {\r\n          if (selTerr.codice === 2) {\r\n            selComune = true;\r\n          }\r\n        });\r\n      });\r\n      if (selComune) {\r\n        const baseUrl = `${globals.DEFAULT_PROXY}https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=`;\r\n        const url = `${baseUrl}${this.config.livelloComuni}`;\r\n        getGeoJSON(url).then((response) => {\r\n          this.loadDataComuni(response.data);\r\n        });\r\n      }\r\n    },\r\n    loadDataComuni(data) {\r\n      if (GV.app.map.getLayerByName('SelezioneComune')) {\r\n        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneComune'));\r\n      }\r\n\r\n      if (!data.features) {\r\n        console.error('Layer Comuni con caricato');\r\n        return;\r\n      }\r\n      this.comuni = data.features\r\n        .map((feature) => {\r\n          return {\r\n            codice: feature.properties.CODICE_COMUNE || feature.properties.codice_comune,\r\n            nome: feature.properties.NOME_COMUNE || feature.properties.nome_comune,\r\n          };\r\n        })\r\n        .sort(function (a, b) {\r\n          if (a.nome < b.nome) {\r\n            return -1;\r\n          }\r\n          if (a.nome > b.nome) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n\r\n      this.layerComuni = data;\r\n\r\n      this.changeSelezioneTerritoriale(this.selezioneTerritoriale, true);\r\n    },\r\n    downloadURI(url) {\r\n      var link = document.createElement('a');\r\n      link.setAttribute('target', '_blank');\r\n      document.body.appendChild(link);\r\n      link.href = url;\r\n      link.click();\r\n    },\r\n    validateEmail(email) {\r\n      var re =\r\n        /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email);\r\n    },\r\n    submit() {\r\n      // CONTROLLI\r\n      if (!this.config.flagDownloadStatico && !this.codCliente) {\r\n        notification('Indicare Indirizzo Email');\r\n        return;\r\n      }\r\n      if (!this.config.flagDownloadStatico && !this.validateEmail(this.codCliente)) {\r\n        notification('Indirizzo Email non valido');\r\n        return;\r\n      }\r\n\r\n      if (this.config.flagDownloadLivello && !this.livello) {\r\n        notification('Selezionare un livello dalla lista');\r\n        return;\r\n      }\r\n      if (this.selezioneTerritoriale === 1 && !this.bbox) {\r\n        notification('Disegnare un rettangolo sulla mappa');\r\n        return;\r\n      }\r\n      if (this.selezioneTerritoriale === 2 && !this.comune) {\r\n        notification('Selezionare un comune dalla lista');\r\n        return;\r\n      }\r\n      if (this.selezioneTerritoriale === 3 && this.fogli.length === 0) {\r\n        notification('Selezionare i fogli di interesse dalla lista o sulla mappa');\r\n        return;\r\n      }\r\n      if (this.config.flagDownloadStatico) {\r\n        this.downloadStatico();\r\n        return;\r\n      }\r\n      const data = {\r\n        codCliente: this.codCliente,\r\n        codCatalogo: this.idMap,\r\n        bbox: this.bbox || '',\r\n        codCom: this.comune,\r\n        bboxSRS: this.bboxSRS,\r\n        crsOut: this.sistemaCoordinate,\r\n        formato: this.formato,\r\n        fogli: this.fogli.join(','),\r\n        codTema: this.codTema || '',\r\n        utente_registrato: 'N',\r\n        flagDownloadSincrono: this.isSyncDownload() ? 'S' : 'N',\r\n        test: false,\r\n      };\r\n      insertRichiestaDownload(data).then((resp) => {\r\n        this.isSyncDownload() ? this.showSyncPanel(resp) : this.sendNotification(resp);\r\n      });\r\n    },\r\n    isSyncDownload() {\r\n      if (this.config.flagDownloadSincrono) return true;\r\n\r\n      if (!this.bbox && !this.codTema) {\r\n        const cached = this.cachedRequests.filter((cache) => {\r\n          return (\r\n            cache.codiceCatalogo.toString() === this.idMap &&\r\n            cache.crsOut.toString() === this.sistemaCoordinate &&\r\n            cache.formato === this.formato\r\n          );\r\n        });\r\n        if (cached && cached.length > 0) return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    showSyncPanel(resp) {\r\n      mountComponent({\r\n        elId: 'gv-download-sincrono-panel',\r\n        containerId: GV.config.containerId,\r\n        vm: new Vue({\r\n          template: `<gv-download-sincrono-panel v-draggable :idRichiesta=\"idRichiesta\"></gv-download-sincrono-panel>`,\r\n          data: {\r\n            idRichiesta: resp.data.idRichiesta,\r\n          },\r\n        }),\r\n      });\r\n    },\r\n    sendNotification(resp) {\r\n      if (resp.success) {\r\n        notification(\r\n          `<p>Inserita richiesta numero: ${resp.data.idRichiesta}.</p> <p>Al termine della elaborazione l'esito verr comunicato via mail</p>`,\r\n          'info'\r\n        );\r\n        const me = this;\r\n        setTimeout(function () {\r\n          me.cleanUp();\r\n        }, 5000);\r\n      } else {\r\n        notification(`<p>Errore inserimento richiesta: ${resp.message}.</p>`, 'error');\r\n      }\r\n    },\r\n    downloadStatico() {\r\n      const baseUrl = 'https://srvcarto.regione.liguria.it/dtuff/download_statico/';\r\n      let url = `${baseUrl}/${this.idMap}/${this.formato}/${this.sistemaCoordinate}/${this.selezioneTerritoriale}/`;\r\n      console.log(url);\r\n      if (this.config.flagDownloadLivello) {\r\n        switch (this.selezioneTerritoriale) {\r\n          case 0:\r\n            url += `${this.livello}.zip`;\r\n            break;\r\n          case 2:\r\n            url += `${this.livello}_${this.comune}.zip`;\r\n            break;\r\n          // case 5:\r\n          //   url += `${this.livello}_${this.macrobacino}.zip`;\r\n          //   break;\r\n        }\r\n      } else {\r\n        url += `${this.idMap}.zip`;\r\n      }\r\n\r\n      this.downloadURI(url);\r\n    },\r\n    cancel() {\r\n      this.cleanUp();\r\n    },\r\n    cleanUp() {\r\n      // imposto cookies\r\n      this.$cookie.set('codCliente', this.codCliente, '1Y');\r\n      this.$cookie.set('formato', this.formato, '1Y');\r\n      this.$cookie.set('selezioneTerritoriale', this.selezioneTerritoriale, '1Y');\r\n      this.$cookie.set('sistemaCoordinate', this.sistemaCoordinate, '1Y');\r\n      //this.$cookie.set('codTema', this.codTema, '1Y')\r\n\r\n      // rimuovo livelli selezione\r\n      if (GV.app.map.getLayerByName('SelezioneSquadri')) {\r\n        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneSquadri'));\r\n      }\r\n      if (GV.app.map.getLayerByName('SelezioneComune')) {\r\n        GV.app.map.removeLayer(GV.app.map.getLayerByName('SelezioneComune'));\r\n      }\r\n\r\n      // rimuovo livello selezione libera\r\n      this.rectDisable();\r\n\r\n      // Riattivo controllo\r\n      GV.config.activeControl.activate();\r\n\r\n      // rimuovo pannello download\r\n      if (this.closeWindow === 'true') {\r\n        window.close();\r\n      } else {\r\n        const dlPanel = document.getElementById('gv-map-download');\r\n        if (dlPanel) {\r\n          dlPanel.parentNode.removeChild(dlPanel);\r\n        }\r\n      }\r\n    },\r\n    changeFormat(codFormato) {\r\n      const selTerr = this.config.formati\r\n        .filter((formato) => {\r\n          return formato.cod_formato === codFormato;\r\n        })[0]\r\n        .selezioneTerritoriale.filter((sel) => {\r\n          return sel.codice !== 4;\r\n        });\r\n\r\n      this.config.selezioneTerritoriale = selTerr;\r\n\r\n      const selTerrCached = selTerr.filter((sel) => {\r\n        return sel.codice == this.$cookie.get('selezioneTerritoriale');\r\n      });\r\n\r\n      this.selezioneTerritoriale =\r\n        selTerrCached.length > 0 ? selTerrCached[0].codice : selTerr[0].codice;\r\n      this.changeSelezioneTerritoriale(this.selezioneTerritoriale);\r\n\r\n      // if (codFormato === 'KML') {\r\n      //   this.sistemaCoordinate = '4326';\r\n      //   this.config.sistemiCoordinate = [\r\n      //     {\r\n      //       epsg_code: '4326',\r\n      //       proj_descr: 'WGS84 - Coordinate Geografiche',\r\n      //     },\r\n      //   ];\r\n      // } else {\r\n      //   this.config.sistemiCoordinate = this.sistemiCoordinate;\r\n      //   const isCached =\r\n      //     this.sistemiCoordinate.filter(sis => {\r\n      //       return sis.epsg_code == this.$cookie.get('sistemaCoordinate');\r\n      //     }).length > 0;\r\n      //   this.sistemaCoordinate = isCached ? this.$cookie.get('sistemaCoordinate') : '3003';\r\n      // }\r\n    },\r\n    rectOnDraw(event) {\r\n      if (GV.app.map.type === 'openlayers') {\r\n        this.rectOnDrawOL(event);\r\n      } else {\r\n        this.rectOnDrawLL(event);\r\n      }\r\n    },\r\n    rectOnDrawOL() {\r\n      this.drawnRectangle.getSource().addFeature(\r\n        new ol.Feature({\r\n          geometry: this.dragBoxInteraction.getGeometry(),\r\n          id: 'rect',\r\n        })\r\n      );\r\n      const coords = this.drawnRectangle\r\n        .getSource()\r\n        .getFeatures()[0]\r\n        .getGeometry()\r\n        .getCoordinates();\r\n      this.bbox = coords.map((coord) => {\r\n        return coord.join(',');\r\n      })[0];\r\n      // console.log(coords, this.bbox);\r\n      this.bboxSRS = '3857';\r\n    },\r\n    rectOnDrawLL(event) {\r\n      this.drawnRectangle.addLayer(event.layer);\r\n      const xMin = event.layer.getBounds()._southWest.lng;\r\n      const yMin = event.layer.getBounds()._southWest.lat;\r\n      const xMax = event.layer.getBounds()._northEast.lng;\r\n      const yMax = event.layer.getBounds()._northEast.lat;\r\n      this.bbox = `${xMin},${yMin},${xMax},${yMin},${xMax},${yMax},${xMin},${yMax},${xMin},${yMin}`;\r\n      this.bboxSRS = '4326';\r\n      this.showRectReset = true;\r\n    },\r\n    changeSelezioneTerritoriale(codice, silent) {\r\n      this.comune = null;\r\n      this.bbox = null;\r\n      this.fogli = [];\r\n\r\n      if (codice === 1 || codice === 2 || codice === 3 || codice === 5) {\r\n        GV.config.activeControl.deactivate();\r\n      } else {\r\n        GV.config.activeControl.activate();\r\n      }\r\n\r\n      if (codice === 1) {\r\n        this.rectEnable();\r\n      } else {\r\n        this.rectDisable();\r\n        this.showRectReset = false;\r\n      }\r\n\r\n      // Selezione per comune\r\n      if (codice === 2) {\r\n        if (!this.layerComuni) return;\r\n        GV.app.map.loadLayers([\r\n          {\r\n            name: 'SelezioneComune',\r\n            type: 'JSON',\r\n            style: this.style,\r\n            visible: true,\r\n            data: this.layerComuni,\r\n            zIndex: 100,\r\n            onFeatureSelect: (feature, layer) => {\r\n              if (this.selezioneTerritoriale !== 2) {\r\n                return;\r\n              }\r\n              this.comune = feature.get\r\n                ? feature.get('CODICE_COMUNE') || feature.get('codice_comune')\r\n                : feature.properties.CODICE_COMUNE || feature.properties.codice_comune;\r\n            },\r\n          },\r\n        ]);\r\n        if (!silent) notification('Selezionare un comune sulla mappa o dalla lista');\r\n      } else {\r\n        const layerComuni = GV.app.map.getLayerByName('SelezioneComune');\r\n        if (layerComuni) {\r\n          GV.app.map.removeLayer(layerComuni);\r\n        }\r\n      }\r\n\r\n      // Selezione per fogli\r\n      if (codice === 3) {\r\n        if (!this.layerFogli) return;\r\n        const style = this.style;\r\n        GV.app.map.loadLayers([\r\n          {\r\n            name: 'SelezioneSquadri',\r\n            type: 'JSON',\r\n            style: style,\r\n            visible: true,\r\n            data: this.layerFogli,\r\n            zIndex: 100,\r\n            onFeatureSelect: (feature, layer) => {\r\n              if (this.selezioneTerritoriale !== 3) {\r\n                return;\r\n              }\r\n              const codice = feature.get\r\n                ? feature.get('COD_SQUADRO') || feature.get('cod_squadro')\r\n                : feature.properties.COD_SQUADRO || feature.properties.cod_squadro;\r\n              if (this.fogli.indexOf(codice) > -1) {\r\n                this.fogli = this.fogli.filter((item) => item !== codice);\r\n              } else {\r\n                this.fogli.push(codice);\r\n              }\r\n            },\r\n          },\r\n        ]);\r\n        if (!silent) notification('Selezionare un foglio sulla mappa o dalla lista');\r\n      } else {\r\n        const layerSquadri = GV.app.map.getLayerByName('SelezioneSquadri');\r\n        if (layerSquadri) {\r\n          GV.app.map.removeLayer(layerSquadri);\r\n        }\r\n      }\r\n    },\r\n    collapse: function (event) {\r\n      if (this.show) {\r\n        document.getElementById('gv-map-download-body').style.display = 'none';\r\n      } else {\r\n        document.getElementById('gv-map-download-body').style.display = 'block';\r\n      }\r\n      this.show = !this.show;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.gv-map-download {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  margin-left: 10px;\r\n  margin-top: 50px;\r\n  background-color: #fff;\r\n  z-index: 800;\r\n}\r\n\r\n.gv-map-download-body {\r\n  margin: 10px;\r\n}\r\n\r\n.gv-map-download-label {\r\n  display: inline-block;\r\n  width: 150px;\r\n}\r\n\r\n.gv-map-download-title {\r\n  display: inline-block;\r\n  font-weight: 800;\r\n  width: 400px;\r\n  margin-bottom: 20px;\r\n}\r\n.gv-map-download-buttons {\r\n  float: right;\r\n}\r\n.gv-map-download-buttons img {\r\n  float: left;\r\n  margin-right: 150px;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.el-tree-node__label {\r\n  font-size: 12px !important;\r\n}\r\n\r\n.el-tabs__item.is-active {\r\n  color: #24386c !important;\r\n}\r\n\r\n.el-tabs__header {\r\n  margin: 0 0 5px !important;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Download.vue?71b749fe","import axios from 'axios';\r\n\r\nexport default function() {\r\n  let url = `/geoservices/REST/download/richieste_cache`;\r\n  return axios.get(url).then(response => response.data.data);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/node-prj/geoviewer2/src/services/getDownloadRichiesteCache.js","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".el-tree-node__label{font-size:12px!important}.el-tabs__item.is-active{color:#24386c!important}.el-tabs__header{margin:0 0 5px!important}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Download.vue\"],\"names\":[],\"mappings\":\"AACA,qBACE,wBAA2B,CAC5B,AACD,yBACE,uBAA0B,CAC3B,AACD,iBACE,wBAA2B,CAC5B\",\"file\":\"Download.vue\",\"sourcesContent\":[\"\\n.el-tree-node__label {\\r\\n  font-size: 12px !important;\\n}\\n.el-tabs__item.is-active {\\r\\n  color: #24386c !important;\\n}\\n.el-tabs__header {\\r\\n  margin: 0 0 5px !important;\\n}\\r\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/components/Download.vue\n// module id = 511\n// module chunks = 10","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gv-map-download[data-v-98509560]{position:absolute;left:0;top:0;margin-left:10px;margin-top:50px;background-color:#fff;z-index:800}.gv-map-download-body[data-v-98509560]{margin:10px}.gv-map-download-label[data-v-98509560]{display:inline-block;width:150px}.gv-map-download-title[data-v-98509560]{display:inline-block;font-weight:800;width:400px;margin-bottom:20px}.gv-map-download-buttons[data-v-98509560]{float:right}.gv-map-download-buttons img[data-v-98509560]{float:left;margin-right:150px;margin-top:10px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Download.vue\"],\"names\":[],\"mappings\":\"AACA,kCACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,iBAAkB,AAClB,gBAAiB,AACjB,sBAAuB,AACvB,WAAa,CACd,AACD,uCACE,WAAa,CACd,AACD,wCACE,qBAAsB,AACtB,WAAa,CACd,AACD,wCACE,qBAAsB,AACtB,gBAAiB,AACjB,YAAa,AACb,kBAAoB,CACrB,AACD,0CACE,WAAa,CACd,AACD,8CACE,WAAY,AACZ,mBAAoB,AACpB,eAAiB,CAClB\",\"file\":\"Download.vue\",\"sourcesContent\":[\"\\n.gv-map-download[data-v-98509560] {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  margin-left: 10px;\\r\\n  margin-top: 50px;\\r\\n  background-color: #fff;\\r\\n  z-index: 800;\\n}\\n.gv-map-download-body[data-v-98509560] {\\r\\n  margin: 10px;\\n}\\n.gv-map-download-label[data-v-98509560] {\\r\\n  display: inline-block;\\r\\n  width: 150px;\\n}\\n.gv-map-download-title[data-v-98509560] {\\r\\n  display: inline-block;\\r\\n  font-weight: 800;\\r\\n  width: 400px;\\r\\n  margin-bottom: 20px;\\n}\\n.gv-map-download-buttons[data-v-98509560] {\\r\\n  float: right;\\n}\\n.gv-map-download-buttons img[data-v-98509560] {\\r\\n  float: left;\\r\\n  margin-right: 150px;\\r\\n  margin-top: 10px;\\n}\\r\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Download.vue\n// module id = 512\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-98509560!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/components/Download.vue\n// module id = 644\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-98509560&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Download.vue\n// module id = 645\n// module chunks = 10","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/cc-by.png\n// module id = 690\n// module chunks = 10","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-98509560&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Download.vue\")\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-98509560!vue-loader/lib/selector?type=styles&index=1!./Download.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Download.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-98509560!vue-loader/lib/selector?type=template&index=0!./Download.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-98509560\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Download.vue\n// module id = 707\n// module chunks = 10","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-map-download gv-inverted-color-scheme\",\n    attrs: {\n      \"id\": \"gv-map-download\"\n    }\n  }, [_vm._c('gv-title', {\n    directives: [{\n      name: \"draggable\",\n      rawName: \"v-draggable\"\n    }],\n    attrs: {\n      \"title\": _vm.title,\n      \"divId\": 'gv-map-download',\n      \"noClose\": true,\n      \"collapsible\": 'gv-map-download-body'\n    }\n  }), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-map-download-body\",\n    attrs: {\n      \"id\": \"gv-map-download-body\"\n    }\n  }, [_vm._c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form\n    }\n  }, [_vm._c('span', {\n    staticClass: \"gv-map-download-title\"\n  }, [_vm._v(_vm._s(_vm.config.name))]), _vm._v(\" \"), _vm._c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.config.flagDownloadStatico),\n      expression: \"!config.flagDownloadStatico\"\n    }]\n  }, [_vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Email\")]), _vm._v(\" \"), _vm._c('el-input', {\n    staticStyle: {\n      \"width\": \"250px\"\n    },\n    attrs: {\n      \"id\": \"gv-map-download-email\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Email\",\n      \"type\": \"email\"\n    },\n    model: {\n      value: (_vm.codCliente),\n      callback: function($$v) {\n        _vm.codCliente = $$v\n      },\n      expression: \"codCliente\"\n    }\n  })], 1), _vm._v(\" \"), _vm._c('el-form-item', [(_vm.showSelectLivelli) ? _vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Livello\")]) : _vm._e(), _vm._v(\" \"), (_vm.showSelectLivelli) ? _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-map-download-livello\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Scegli un livello\"\n    },\n    model: {\n      value: (_vm.livello),\n      callback: function($$v) {\n        _vm.livello = $$v\n      },\n      expression: \"livello\"\n    }\n  }, _vm._l((_vm.livelli), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"label\": item.nome,\n        \"value\": item.codice\n      }\n    })\n  })) : _vm._e()], 1), _vm._v(\" \"), _vm._c('el-form-item', [(_vm.config.flagDownloadPerTemi) ? _vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Tematismo\")]) : _vm._e(), _vm._v(\" \"), (_vm.config.flagDownloadPerTemi) ? _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-map-download-temi\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Tutti i tematismi\"\n    },\n    model: {\n      value: (_vm.codTema),\n      callback: function($$v) {\n        _vm.codTema = $$v\n      },\n      expression: \"codTema\"\n    }\n  }, _vm._l((_vm.config.temi), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"label\": item.tematismo,\n        \"value\": item.codice\n      }\n    })\n  })) : _vm._e()], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Sistema di Coordinate\")]), _vm._v(\" \"), _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-map-download-crs\",\n      \"size\": \"mini\"\n    },\n    model: {\n      value: (_vm.sistemaCoordinate),\n      callback: function($$v) {\n        _vm.sistemaCoordinate = $$v\n      },\n      expression: \"sistemaCoordinate\"\n    }\n  }, _vm._l((_vm.config.sistemiCoordinate), function(item) {\n    return _vm._c('el-option', {\n      key: item.epsg_code,\n      attrs: {\n        \"value\": item.epsg_code,\n        \"label\": item.proj_descr\n      }\n    })\n  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Formato\")]), _vm._v(\" \"), _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-map-download-formato\",\n      \"size\": \"mini\",\n      \"disabled\": _vm.formatDisabled\n    },\n    on: {\n      \"change\": _vm.changeFormat\n    },\n    model: {\n      value: (_vm.formato),\n      callback: function($$v) {\n        _vm.formato = $$v\n      },\n      expression: \"formato\"\n    }\n  }, _vm._l((_vm.config.formati), function(item) {\n    return _vm._c('el-option', {\n      key: item.cod_formato,\n      attrs: {\n        \"value\": item.cod_formato,\n        \"label\": item.formato\n      }\n    })\n  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Selezione Territoriale\")]), _vm._v(\" \"), _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-map-download-selterr\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"change\": _vm.changeSelezioneTerritoriale\n    },\n    model: {\n      value: (_vm.selezioneTerritoriale),\n      callback: function($$v) {\n        _vm.selezioneTerritoriale = $$v\n      },\n      expression: \"selezioneTerritoriale\"\n    }\n  }, _vm._l((_vm.config.selezioneTerritoriale), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"value\": item.codice,\n        \"label\": item.descrizione\n      }\n    })\n  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelectComuni),\n      expression: \"showSelectComuni\"\n    }],\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Selezione Comune\")]), _vm._v(\" \"), _vm._c('el-select', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelectComuni),\n      expression: \"showSelectComuni\"\n    }],\n    attrs: {\n      \"id\": \"gv-map-download-comuni\",\n      \"size\": \"mini\",\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.comune),\n      callback: function($$v) {\n        _vm.comune = $$v\n      },\n      expression: \"comune\"\n    }\n  }, _vm._l((_vm.comuni), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"value\": item.codice,\n        \"label\": item.nome\n      }\n    })\n  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelectFogli),\n      expression: \"showSelectFogli\"\n    }],\n    staticClass: \"gv-map-download-label\"\n  }, [_vm._v(\"Selezione Fogli\")]), _vm._v(\" \"), _vm._c('el-select', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelectFogli),\n      expression: \"showSelectFogli\"\n    }],\n    attrs: {\n      \"id\": \"gv-map-download-fogli\",\n      \"size\": \"mini\",\n      \"multiple\": \"\",\n      \"collapse-tags\": \"\"\n    },\n    model: {\n      value: (_vm.fogli),\n      callback: function($$v) {\n        _vm.fogli = $$v\n      },\n      expression: \"fogli\"\n    }\n  }, _vm._l((_vm.config.fogli), function(item) {\n    return _vm._c('el-option', {\n      key: item.codice,\n      attrs: {\n        \"value\": item.codice,\n        \"label\": item.nome\n      }\n    })\n  }))], 1), _vm._v(\" \"), _vm._c('el-form-item', [_vm._c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showRectReset),\n      expression: \"showRectReset\"\n    }],\n    attrs: {\n      \"id\": \"gv-map-download-rect-reset\",\n      \"type\": \"primary\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.rectReset\n    }\n  }, [_vm._v(\"Reimposta Rettangolo\")])], 1), _vm._v(\" \"), _vm._c('el-form-item', {\n    staticClass: \"gv-map-download-buttons\"\n  }, [_vm._c('img', {\n    attrs: {\n      \"src\": require(\"../../static/img/cc-by.png\"),\n      \"align\": \"bottom\",\n      \"onclick\": \"window.open('https://creativecommons.org/licenses/by/4.0/')\"\n    }\n  }), _vm._v(\" \"), _vm._c('el-button', {\n    attrs: {\n      \"id\": \"gv-map-download-submit\",\n      \"type\": \"primary\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"Conferma\")]), _vm._v(\" \"), _vm._c('el-button', {\n    attrs: {\n      \"id\": \"gv-map-download-cancel\",\n      \"type\": \"primary\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"Annulla\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-98509560!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Download.vue\n// module id = 869\n// module chunks = 10"],"sourceRoot":""}