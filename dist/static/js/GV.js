<<<<<<< HEAD
webpackJsonp([33,32],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(37),i=a(o),r=n(36),l=a(r);n(498),n(499);var s=n(606),c=a(s),u=n(320),d=(a(u),n(6)),f=a(d),p=n(157),g=a(p),m=n(371),v=a(m),h=n(368),y=a(h),_=n(7),b=a(_),w=n(19),C=a(w),M=n(367),S=a(M),E=n(361),L=a(E),O=n(362),x=a(O),I=n(360),T=a(I),R=n(359),G=a(R),A=n(331),V=a(A),P=n(346),F=a(P),z=n(337),k=a(z),B=n(315),N=a(B),D=n(1),j=a(D),U=n(628),W=a(U),q=n(366),H=a(q);n(607);n(620),n(184),n(184),n(326),n(325),n(327),n(497).polyfill(),window.GV={init:function(e){var t=this;return(0,l.default)(i.default.mark(function n(){var a,o,r,l,s,u,d,f,p;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("INIT",e),!e.application.mapOptions||"openlayers"!==e.application.mapOptions.type){n.next=17;break}if(console.log("Caricamento libreria OpenLayers"),a=["/geoservices/apps/viewer/dist/openlayers/ol.js","/geoservices/apps/viewer/dist/openlayers/ol.css","/geoservices/apps/viewer/dist/proj4js/proj4.js"],o=["/geoservices/apps/viewer/dist/proj4js/3003.js"],!e.application.mapOptions.ol3d){n.next=13;break}return window.CESIUM_BASE_URL="/geoservices/apps/viewer/dist/cesium/Build/Cesium",r=["/geoservices/apps/viewer/dist/cesium/Build/Cesium/Cesium.js"],l=["/geoservices/apps/viewer/dist/olcs/olcesium.js","/geoservices/apps/viewer/dist/olcs/olcs.css"],n.next=11,(0,c.default)(o,(0,c.default)(l,(0,c.default)(a,(0,c.default)(r))));case 11:n.next=15;break;case 13:return n.next=15,(0,c.default)(o,(0,c.default)(a));case 15:n.next=21;break;case 17:return console.log("Caricamento libreria LeafLet"),s=["/geoservices/apps/viewer/dist/leaflet/leaflet-min.js","/geoservices/apps/viewer/dist/leaflet/leaflet-min.css"],n.next=21,(0,c.default)(s);case 21:return n.next=23,(0,k.default)();case 23:if(u=n.sent,GV.globals.ENV=u,t.messageEventListener(),!e.application.auth){n.next=43;break}d=e.application.auth.options,n.t0=e.application.auth.type,n.next="NAM"===n.t0?31:"S3"===n.t0?36:41;break;case 31:return n.next=33,(0,V.default)(d.ruolo);case 33:return f=n.sent,f.success?t.initConfig(e):(0,C.default)("ACCESSO ALLA APPLICAZIONE NON AUTORIZZATO"),n.abrupt("break",41);case 36:return n.next=38,(0,G.default)(d.s3Token,d.s3TokenType,d.s3TokenProv);case 38:return p=n.sent,p.success&&p.found?t.initConfig(e):(0,C.default)("ACCESSO ALLA APPLICAZIONE NON AUTORIZZATO"),n.abrupt("break",41);case 41:n.next=44;break;case 43:t.initConfig(e);case 44:case"end":return n.stop()}},n,t)}))()},messageEventListener:function(){window.addEventListener("message",function(e){var t=e.data;!t.type},!1)},initConfig:function(e){GV.config=N.default,N.default.init(e),j.default.component("gv-app",W.default);var t=new j.default({el:"#gv-container",template:"<gv-app></gv-app>"});return t},mountLegend:function(){(0,b.default)({elId:"gv-legend",clear:!0,containerId:GV.config.containerId,vm:new j.default({template:'<gv-legend ref="gv-legend"></gv-legend>'})})},mount:function(e){(0,b.default)({elId:e.eldId,clear:e.clear,containerId:GV.config.containerId,vm:new j.default({template:e.template,data:e.data})})},dragbox:y.default,globals:f.default,log:v.default,eventBus:new j.default,utils:{getUrlParam:g.default,buildFindOptionsFromQueryStringParams:S.default,insertAgCoordinate:L.default,notification:C.default,insertGeomPraticaGenio:x.default,getS3TokenBbox:T.default,getS3Token:G.default,getGeneric:F.default},tools:H.default,gvInfoFeatures:[]}},,,,,function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_PROXY:"/geoservices/REST/proxy/proxy?url=",USE_SUBDOMAINS:!0,RL_MAP_CONFIG_SERVICE:"/geoservices/REST/geoportale/map/",RL_LAYER_CONFIG_SERVICE:"/geoservices/REST/config/layer/",RL_QUERY_LAYER_VALUE_LIST_SERVICE:"/geoservices/REST/config/query_layer_valuelist/",RL_QUERY_LAYER_TOPO_VALUE_LIST_SERVICE:"/geoservices/REST/config/query_layer_topo_valuelist/",RL_QUERY_LAYER_SERVICE:"/geoservices/REST/config/query_layer/",RL_QUERY_LAYER_TOPO_SERVICE:"/geoservices/REST/config/query_layer_topo/",RL_DYN_MAP_CONFIG_SERVICE:"/geoservices/REST/config/map/",RL_CREATE_SLD_SERVICE:"/geoservices/REST/config/create_sld/",RL_XSL_INFO_SERVICE:"/geoservices/REST/config/info_xsl?",RL_CATALOG_SERVICE:"/geoservices/REST/geoportale/catalogo/",RL_CANALI_SERVICE:"/geoservices/REST/config/ag_app_canali_tree/",RL_CANALE_CARTE_SERVICE:"/geoservices/REST/config/ag_canale_tree/",RL_DOWNLOAD_CONFIG_SERVICE:"/geoservices/REST/download/map/",RL_DOWNLOAD_INSERT_SERVICE:"/geoservices/REST/download/insert_richiesta/",RL_DOWNLOAD_ESEGUI_RICHIESTA:"/geoservices/REST/download/elabora_richiesta_sincrona/",RL_ENTI_SERVICE:"/geoservices/REST/geoportale/enti/",RL_METADATA_URL:"/geoservices/REST/metadata/scheda_xml/",RL_TRANSFORM_POINT_SERVICE:"/geoservices/REST/coordinate/transform_point/",RL_TRANSFORM_BBOX_SERVICE:"/geoservices/REST/coordinate/transform_bbox/",RL_TRANSFORM_POLY_SERVICE:"/geoservices/REST/coordinate/transform_poly/",RL_ELEVATION:"/geoservices/REST/coordinate/elevation/",RL_AG_APP_LISTA_MAPPE:"/geoservices/REST/config/ag_app_lista_mappe/",RL_CATALOG:"pub",HERE_GEOCODE_PROXY:"/geoservices/REST/proxy/here_geocode.v3",MAPBOX_USERNAME:"stefanoparodi",MAPBOX_ACCESS_TOKEN:"pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g",MAX_BOUNDS:{X_MIN:43.4,Y_MIN:7.3,X_MAX:44.8,Y_MAX:10.5},INFO_WMS_MAX_FEATURES:10,BASE_SCALES:[591657550.5,295828775.3,147914387.6,73957193.82,36978596.91,18489298.45,9244649.227,4622324.614,2311162.307,1155581.153,577790.5767,288895.2884,144447.6442,72223.82209,36111.91104,18055.95552,9027.977761,4513.98888,2256.99444,1128.49722,564.24861,282.124305],BASE_LAYERS:{BLANK:{label:"Sfondo Bianco",icon:"/geoservices/apps/viewer/static/img/legend/bianco.gif"},RL_ORTOFOTO_2013:{label:"AGEA: Ortofoto 2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2010:{label:"AGEA: Ortofoto 2010",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2007:{label:"AGEA: Ortofoto 2007",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2000:{label:"Ortofoto IT 2000",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2016:{label:"AGEA: Ortofoto 2016",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2019:{label:"AGEA: Ortofoto 2019",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE:{label:"Carte Regionali 2007 -2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE_NC25:{label:"Carta Regionale 1:25000 - DBT NC25",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE_GS:{label:"Carte Regionali 2007 -2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_STREETS:{label:"Stradario",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_DARK_MATTER:{label:"Dark",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_POSITRON:{label:"Positron",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_MONOCHROME:{label:"Monochrome",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_TONER:{label:"Toner",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},OSM:{label:"OpenStreetMap",icon:"/geoservices/apps/viewer/static/img/legend/openstreetmap.png"},ESRI_IMAGERY:{label:"ESRI Imagery",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_GRAY:{label:"ESRI Gray",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_DARKGRAY:{label:"ESRI Dark Gray",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_STREETS:{label:"ESRI Streets",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},MAPBOX_STREETS:{label:"Mapbox Streets",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_MONOCHROME:{label:"Mapbox Monochrome",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_VIABILITA:{label:"Carta della Viabilità",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_VIABILITA_SATELLITARE:{label:"Carta satellitare della Viabilità",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_OUTDOOR:{label:"Mapbox Outdoor",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_LIGHT:{label:"Mapbox Light",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elId,n=e.vm,a=e.toggleEl,o=document.getElementById(t);if(a&&o)o.style.display="none"!==o.style.display&&o.style.display?"none":"block";else{var r=(0,i.default)(e);n.$mount(r)}return n};var o=n(155),i=a(o)},,function(e,t){},,,,function(e,t){},function(e,t){},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a="info"===t?"Info":"Attenzione!!!";e&&t&&(0,s.default)({title:a,type:t,duration:n,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:e})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),r=(a(i),n(5)),l=(a(r),n(76)),s=a(l);t.default=o},,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(t,n){t.wmsParams.infoFormat||(t.wmsParams.infoFormat=n);var a=i(t,e);switch(Q++,n){case"application/json":(0,z.default)(a).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;case"application/geojson":(0,D.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;case"text/plain":(0,U.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;default:(0,B.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)})}}GV.log("start info request: "+new Date),Y=0,Q=0,J=[],GV.config.maps.forEach(function(e){var n=e.flagGeoserver?"application/json":"application/vnd.ogc.gml";e.layers.forEach(function(e){"WMS"===e.type&&e.queryable&&e.visible&&GV.app.map.layerInRange(e)&&t(e,n)})})}function i(e,t){if("openlayers"===GV.app.map.type)return r(e,t);var n=e.infoOptions.infoQueryUrl||S.default.DEFAULT_PROXY+e.wmsParams.url,a=e.infoOptions.infoQueryLayers||e.wmsParams.name,o=e.wmsParams.cql_filter,i=e.wmsParams.infoFormat;return l(n,a,t.latlng,i,e.infoBuffer,o)}function r(e,t){var n=e.infoOptions.infoQueryUrl||e.wmsParams.url,a=e.infoOptions.infoQueryLayers||e.wmsParams.name,o=e.wmsParams.infoFormat,i=e.infoBuffer||10,r=GV.app.map.getView().getProjection(),l=GV.app.map.getView().getResolution(),s=new ol.source.ImageWMS({url:n,params:{LAYERS:e.wmsParams.name},ratio:1,serverType:"geoserver"}),c=s.getFeatureInfoUrl(t.coordinate,l,r,{INFO_FORMAT:o,QUERY_LAYERS:a,FEATURE_COUNT:100,BUFFER:i});return c=S.default.DEFAULT_PROXY+c}function l(e,t,n,a,o,i){var r=GV.app.map.getContainerPoint(n),l=GV.app.map.getSize(),s=GV.app.map.getBbox(),c=null===o||void 0===o?10:o,u={request:"GetFeatureInfo",service:"WMS",crs:"EPSG:3857",styles:"",version:"1.3.0",bbox:s,height:l.y,width:l.x,layers:t,query_layers:t,FEATURE_COUNT:100,buffer:c,info_format:a,i:parseInt(r.x),j:parseInt(r.y)};return i&&(u.cql_filter=i),e+(0,P.default)(u,e,!0)}function s(e,t){function n(e,t){var n=GV.app.map.getLayerByName(e).config,o=a(t,n.cachePostGIS);return o}function a(e,t){var n={};for(var a in e)"bbox"!==a&&e.hasOwnProperty(a)&&(t?n[a.toUpperCase()]=e[a]:n[a]=e[a]);return n}function o(e,t){var n,a;return n=i(e,"infoLabelAttr"),a=i(e,"infoIdAttr"),n&&t[n]?t[n]:a&&t[a]?t[a]:t[r(t)]}function i(e,t){var n=GV.app.map.getLayerByName(e).config;return n&&n.infoOptions&&n.infoOptions[t]?n.infoOptions[t]:null}function r(e){for(var t in e)if(e.hasOwnProperty(t)&&"function"!=typeof t)return t;return null}if(e&&(Y++,e.forEach(function(e){e.text?(e.layer=GV.app.map.getLayerByName(e.layerName),e.infoOptions=e.layer.config.infoOptions):(e.layerName=t,e.layer=GV.app.map.getLayerByName(t),e.properties=n(t,e.properties),e.label=o(t,e.properties),e.infoOptions=e.layer.config.infoOptions)}),Array.prototype.push.apply(J,e),Y===Q)){if(0===J.length)return void GV.log("Nessun elemento trovato");if(1===J.length){var l=document.getElementById("gv-info-wms-list");l&&l.parentNode.removeChild(l),c(J[0])}else(0,I.default)({elId:"gv-info-wms-list",clear:!0,vm:new O.default({template:'<gv-info-wms-list :items="items"></gv-info-wms-list>',data:{items:J}})});GV.log("end info request: "+new Date)}}function c(e){var t=m(e);switch(t){case"text":p(e);break;case"generico":f(e);break;case"xsl":g(e);break;case"gvi":u(e);break;default:d(e)}v(e)}function u(e){var t=e.id,n=e.layer.config.id;GV.gvInfoFeatures[t]=e;var a="gvi-info-"+t,o="/geoservices/apps/gvi/info/"+n+"/?feature_id="+t;e.infoOptions.infoTarget&&"panel"!==e.infoOptions.infoTarget?y(o,e.infoOptions):h(o,e.infoOptions,a)}function d(e){var t=(0,A.default)(e.infoOptions.infoUrl,e.properties);e.infoOptions.infoTarget&&"panel"!==e.infoOptions.infoTarget?y(t,e.infoOptions):h(t,e.infoOptions)}function f(e){var t=e.layer.legend.label;(0,I.default)({elId:"gv-info-generico",vm:new O.default({template:'<gv-info-generico :properties="properties" :height="height" :width="width" :title="title"></gv-info-generico>',data:{title:t,properties:e.properties,width:e.infoOptions.infoWidth||400,height:e.infoOptions.infoHeight||600}})})}function p(e){var t=e.infoOptions,n=t.infoUrl,a={text:e.text.replace(/(?:\r\n|\r|\n)/g,"<br>")};(0,Z.default)(n,a).then(function(e){var n=e.infoUrl;h(n,t)})}function g(e){function t(e){try{var t='<?xml version="1.0" encoding="ISO-8859-1"?><msGMLOutput xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></msGMLOutput>',n=(0,R.default)(t),a=/^\d/.test(e.layerName)?"L"+e.layerName.replace(/\s+/g,"_"):e.layerName.replace(/\s+/g,"_"),o=a+"_layer",i=n.createElement(o),r=a+"_feature",l=n.createElement(r),s=e.properties;for(var c in s)if(s.hasOwnProperty(c)&&"boundedBy"!==c){var u=null;u=0===s[c]||s[c]?n.createTextNode(s[c]):n.createTextNode("");var d=c.match(/^\d/)?"_"+c:c,f=n.createElement(d);f.appendChild(u),l.appendChild(f)}return i.appendChild(l),n.documentElement.appendChild(i),n}catch(e){console.error(e)}}var n=e.infoOptions,a=t(e);e.gml=(new XMLSerializer).serializeToString(a);var o=n.infoUrl,i=n.infoTarget;(0,Z.default)(o,e).then(function(e){var t=e.infoUrl;i&&"panel"!==i?y(t,n):h(t,n)})}function m(e){var t=e.infoOptions.infoUrl;return console.log("infoUrl!!!!!!",t),e.text?"text":"gvi"===t?"gvi":"generico.xsl"===t.substr(t.length-12)?"generico":".xsl"===t.substr(t.length-4)?"xsl":void 0}function v(e){if(e.layer.config.flagGeoserver&&"VECTOR"===e.layer.config.geomType){var t=([e.layerName],e.layer.config),n=t.infoOptions.infoIdAttr;n&&t.cachePostGIS&&(n=n.toLowerCase());var a=n+"='"+e.properties[t.infoOptions.infoIdAttr]+"'";e.layer.config.wmsParams.cql_filter&&(a+=" AND "+e.layer.config.wmsParams.cql_filter),(0,q.default)(t.wfsParams,a,null).then(function(e){GV.app.map.hiliteFeatures(e)})}}function h(e,t,n){var a=n||"gv-info-wms-html";(0,I.default)({elId:a,vm:new O.default({template:'<gv-info-wms-html :src="src" :height="height" :width="width" :title="title" :id="id"></gv-info-wms-html>',data:{title:"Risultato Info",src:e,width:t.infoWidth||400,height:t.infoHeight||400,id:a}})})}function y(e,t){var n=t.infoWidth||400,a=t.infoHeight||500,o=t.infoTarget,i=window.open(e,o,"status=yes, toolbar=yes, menubar=no, width="+n+", height="+a+", resizable=yes, scrollbars=yes"),r=setInterval(function(){i.closed&&(clearInterval(r),console.log("Chiusa Popup"),GV.app.map.clearLayer("InfoWmsHilite"))},1e3);return i?i:void(0,$.default)("Popup bloccata sul browser<br>Per visualizzare info è necessario abilitare popup","info")}function _(){"openlayers"===GV.app.map.type?b():w()}function b(){var e=[255,204,0,.6],t=new ol.style.Stroke({color:e,width:6}),n={Point:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:null,stroke:t})}),MultiPoint:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:null,stroke:t})}),LineString:new ol.style.Style({stroke:t}),MultiLineString:new ol.style.Style({stroke:t}),Polygon:new ol.style.Style({stroke:t}),MultiPolygon:new ol.style.Style({stroke:t}),GeometryCollection:new ol.style.Style({stroke:t,image:new ol.style.Circle({radius:8,fill:null,stroke:t})})};GV.app.map.loadLayers([{name:"InfoWmsHilite",type:"JSON",style:function(e){return n[e.getGeometry().getType()]},visible:!0,zIndex:1e3}])}function w(){GV.app.map.loadLayers([{name:"InfoWmsHilite",type:"JSON",style:{color:"#ffcc00",fillOpacity:0,weight:6,opacity:.6},pointToLayer:function(e,t){return L.circleMarker(t,{radius:8,color:"#ffcc00",fillColor:"#ffcc00",fill:!0,fillOpacity:.6,weight:6,opacity:.6})},visible:!0}])}function C(e){o(e)}Object.defineProperty(t,"__esModule",{value:!0});var M=n(6),S=a(M),E=n(1),O=a(E),x=n(7),I=a(x),T=n(110),R=a(T),G=n(372),A=a(G),V=n(156),P=a(V),F=n(100),z=a(F),k=n(340),B=a(k),N=n(338),D=a(N),j=n(339),U=a(j),W=n(35),q=a(W),H=n(341),Z=a(H),X=n(19),$=a(X),Y=0,Q=0,J=[];t.default={id:"info-wms-manager",active:!1,firstActivation:!0,addHiliteLayer:_,getGetFeatureInfoUrl:i,features:J,activate:function(){GV.log("GV.app.infoWmsManager.activate"),this.active=!0,GV.app.map?_(GV.app.map):GV.eventBus.$on("gv-map-mounted",function(e){_(e)}),GV.app.map.on("click",C),GV.app.infoWmsManager=this,GV.config.activeControl=this},deactivate:function(){GV.log("GV.app.infoWmsManager.deactivate"),GV.app.map.off("click",C),this.active=!1},showFeatureInfo:c}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!n&&!e&&!e.url)return void console.warning("getWFSFeature: URL non impostata");var a=""+GV.globals.DEFAULT_PROXY+n;if(e){var o="service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson";a=""+GV.globals.DEFAULT_PROXY+e.url+o+"&typeName="+e.typeName+"&cql_filter="+t}var i=s.default.service({text:"Attendere...",background:"rgba(0, 0, 0, 0.8)"});return u.default.get(a).then(function(e){return i.close(),e.data.features}).catch(function(e){i.close(),console.error(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(a(i),n(5)),l=(a(r),n(30)),s=a(l);t.default=o;var c=n(4),u=a(c),d=n(6);a(d)},,,,,,function(e,t){},function(e,t){},,function(e,t){},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,a){var o=""+s.default.RL_TRANSFORM_POINT_SERVICE+e+"/"+t+"/"+n+","+a;return r.default.get(o,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return r.default.get(e,{params:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},,,,,,,,,,function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{switchActiveButton:function(){this.active=!this.active,this.active?(GV.config.activeControl&&GV.config.activeControl.deactivate(),GV.config.activeControl=this.control,GV.config.activeButton&&this.name!==GV.config.activeButton.name&&(GV.config.activeButton.active=!1),GV.config.activeButton=this,GV.config.activeButton.active=!0,this.control.activate()):this.control.deactivate()}},mounted:function(){this.options&&this.options.active&&this.switchActiveButton()}}},,,function(e,t){},,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return r.default.get(e,{params:t}).then(function(e){return e.data.features})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},,,,,,,,,function(e,t,n){function a(e){return e&&e.__esModule?e:{default:e}}var o,i,r,l=n(69);a(l);!function(n,a){i=[],o=a,r="function"==typeof o?o.apply(t,i):o,!(void 0!==r&&(e.exports=r))}(void 0,function(){return function(e){"use strict";function t(){void 0===e.escapeMode&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1)}function n(){}function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function o(e){return e.prefix}function i(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function r(e,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if("string"==typeof i){if(i==a)break}else if(i instanceof RegExp){if(i.test(a))break}else if("function"==typeof i&&i(t,n,a))break}return o!=e.length}function l(t,n,a){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&r(e.arrayAccessFormPaths,t,n,a)&&(t[n]=[t[n]])}function s(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),a=t[5].split(".");if(n.setHours(t[3],t[4],a[0]),a.length>1&&n.setMilliseconds(a[1]),t[6]&&t[7]){var o=60*t[6]+Number(t[7]),i=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";o=0+("-"==i?-1*o:o),n.setMinutes(n.getMinutes()-o-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function c(t,n,a){if(e.datetimeAccessFormPaths.length>0){var o=a.split(".#")[0];return r(e.datetimeAccessFormPaths,t,n,o)?s(t):t}return t}function u(t,n,a,o){return!(n==E.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||r(e.xmlElementsFilter,t,a,o)}function d(t,n){if(t.nodeType==E.DOCUMENT_NODE){for(var i=new Object,r=t.childNodes,s=0;s<r.length;s++){var f=r.item(s);if(f.nodeType==E.ELEMENT_NODE){var p=a(f);i[p]=d(f,p)}}return i}if(t.nodeType==E.ELEMENT_NODE){var i=new Object;i.__cnt=0;for(var r=t.childNodes,s=0;s<r.length;s++){var f=r.item(s),p=a(f);if(f.nodeType!=E.COMMENT_NODE){var g=n+"."+p;u(i,f.nodeType,p,g)&&(i.__cnt++,null==i[p]?(i[p]=d(f,g),l(i,p,g)):(null!=i[p]&&(i[p]instanceof Array||(i[p]=[i[p]],l(i,p,g))),i[p][i[p].length]=d(f,g)))}}for(var m=0;m<t.attributes.length;m++){var v=t.attributes.item(m);i.__cnt++,i[e.attributePrefix+v.name]=v.value}var h=o(t);return null!=h&&""!=h&&(i.__cnt++,i.__prefix=h),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==e.arrayAccessForm&&delete i["#text_asArray"],i.__text=c(i.__text,p,n+"."+p)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==e.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==e.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||e.keepCData?i.__cnt>1&&null!=i.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!e.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(t.nodeType==E.TEXT_NODE||t.nodeType==E.CDATA_SECTION_NODE)return t.nodeValue}function f(t,n,a,o){var r="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=a)for(var l=0;l<a.length;l++){var s=a[l],c=t[s];e.escapeMode&&(c=i(c)),r+=" "+s.substr(e.attributePrefix.length)+"=",r+=e.useDoubleQuotes?'"'+c+'"':"'"+c+"'"}return r+=o?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function g(e,t){return e.indexOf(t,e.length-t.length)!==-1}function m(t,n){return!!("property"==e.arrayAccessForm&&g(n.toString(),"_asArray")||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||t[n]instanceof Function)}function v(e){var t=0;if(e instanceof Object)for(var n in e)m(e,n)||t++;return t}function h(t,n,a){return 0==e.jsonPropertiesFilter.length||""==a||r(e.jsonPropertiesFilter,t,n,a)}function y(t){var n=[];if(t instanceof Object)for(var a in t)a.toString().indexOf("__")==-1&&0==a.toString().indexOf(e.attributePrefix)&&n.push(a);return n}function _(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(n+=e.escapeMode?i(t.__text):t.__text),n}function b(t){var n="";return t instanceof Object?n+=_(t):null!=t&&(n+=e.escapeMode?i(t):t),n}function w(e,t){return""===e?t:e+"."+t}function C(e,t,n,a){var o="";if(0==e.length)o+=f(e,t,n,!0);else for(var i=0;i<e.length;i++)o+=f(e[i],t,y(e[i]),!1),o+=M(e[i],w(a,t)),o+=p(e[i],t);return o}function M(e,t){var n="",a=v(e);if(a>0)for(var o in e)if(!m(e,o)&&(""==t||h(e,o,w(t,o)))){var i=e[o],r=y(i);if(null==i||void 0==i)n+=f(i,o,r,!0);else if(i instanceof Object)if(i instanceof Array)n+=C(i,o,r,t);else if(i instanceof Date)n+=f(i,o,r,!1),n+=i.toISOString(),n+=p(i,o);else{var l=v(i);l>0||null!=i.__text||null!=i.__cdata?(n+=f(i,o,r,!1),n+=M(i,w(t,o)),n+=p(i,o)):n+=f(i,o,r,!0)}else n+=f(i,o,r,!1),n+=b(i),n+=p(i,o)}return n+=b(e)}var S="1.2.0";e=e||{},t(),n();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;var n;if(window.DOMParser){var a=new window.DOMParser,o=null;if(!t)try{o=a.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){o=null}try{n=a.parseFromString(e,"text/xml"),null!=o&&n.getElementsByTagNameNS(o,"parsererror").length>0&&(n=null)}catch(e){n=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?s(e):e},this.xml2json=function(e){return d(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return M(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return S}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){try{var t=null;if((0,r.default)()){var n=new ActiveXObject("Microsoft.XMLDOM");n.async="false",n.loadXML(e),t=n}else{var a=new DOMParser;t=a.parseFromString(e,"text/xml")}return t}catch(e){console.error(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(159),r=a(i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a,o;n(527),a=n(292);var i=n(729);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-33e858c0",e.exports=a},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-coordinate-panel",function(){return new i.default(function(e){n.e(21,function(t){e(n(635))})})});var u={id:"coordinate",active:!1,latlng:null,activate:function(){GV.log("GV.controls.coordinate.activate"),this.active=!0,this.openPanel(),GV.eventBus.$emit("gv-control-coordinate-activate",this)},deactivate:function(){GV.log("GV.controls.coordinate.deactivate"),GV.eventBus.$emit("gv-control-coordinate-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-coordinate-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-coordinate-panel></gv-coordinate-panel>"})})},closePanel:function(){document.getElementById("gv-coordinate-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.default.RL_CATALOG_SERVICE;return e.idMap&&(t+=e.idMap),e.cat=GV.globals.RL_CATALOG,r.default.get(t,{params:e}).then(function(e){return e.data.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e||"null"===e)throw new Error("Parametro idMap mancante");var t=e.startsWith("D")?""+s.default.RL_DYN_MAP_CONFIG_SERVICE+e:""+s.default.RL_MAP_CONFIG_SERVICE+e,n={};return GV.config.application.name?n.app=GV.config.application.name:n.app="gv2",GV.config.geoserverUrl&&(n.geoserverUrl=GV.config.geoserverUrl),GV.config.flagGeoserver&&(n.geoserver="true"),r.default.get(t,{params:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var a=""+s.default.RL_TRANSFORM_BBOX_SERVICE+e+"/"+t+"/"+n;return r.default.get(a,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.default.RL_DOWNLOAD_CONFIG_SERVICE+e;return i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6),l=a(r)},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(new s).xml_str2json(e)}function i(e){var t=GV.globals.DEFAULT_PROXY+e;return l.default.get(t).then(function(e){var t=e.data,n=o(t);return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(4),l=a(r),s=n(109)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=e.fields;e.values.split(",").forEach(function(e){t.push(n+"='"+e+"'")});var a=encodeURIComponent(t.join(" OR "));return a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elType||"div",n=e.containerId||"gv-container",a=e.elId,o=e.clear;o&&document.getElementById(a)&&document.getElementById(a).remove();var i=document.createElement(t);return i.id=a,document.getElementById(n)?document.getElementById(n).appendChild(i):(console.log("Elemento "+n+" non trovato faccio mount su body"),document.body.appendChild(i)),i}},function(e,t){"use strict";function n(e,t,n){var a=[];for(var o in e)a.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&t.indexOf("?")!==-1?"&":"?")+a.join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(window.location.href);return t&&"null"===t[1]&&(t=null),t?decodeURIComponent(t[1]):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=r.default.BASE_SCALES.findIndex(function(t){return e>t});return t<0?20:t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(6),r=a(i)},function(e,t){"use strict";function n(){return navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("Edge")>0;
}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(){return window.matchMedia("(pointer: coarse)").matches}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){var a=n(605);"string"==typeof a&&(a=[[e.id,a,""]]);n(183)(a,{});a.locals&&(e.exports=a.locals)},,,,function(e,t,n){var a,o;n(561),a=n(268);var i=n(758);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(374),i=a(o),r=n(53),l=a(r),s=n(10),c=a(s),u=n(160),d=(a(u),n(369)),f=(a(d),n(7)),p=a(f),g=n(1),m=a(g),v=n(664),h=a(v),y=n(662),_=a(y),b=n(650),w=a(b),C=n(138),M=a(C);m.default.component("gv-map",h.default),m.default.component("gv-legend",_.default),m.default.component("gv-header",w.default),m.default.component("gv-title",M.default),m.default.component("gv-iframe-panel",function(){return new c.default(function(e){n.e(29,function(t){e(n(652))})})}),m.default.component("gv-info-wms-list",function(){return new c.default(function(e){n.e(25,function(t){e(n(656))})})}),m.default.component("gv-info-wms-html",function(){return new c.default(function(e){n.e(26,function(t){e(n(655))})})}),m.default.component("gv-info-generico",function(){return new c.default(function(e){n.e(27,function(t){e(n(654))})})}),t.default={name:"gv-app",data:function(){return{showHeader:GV.config.application.layout.header,showLegend:GV.config.application.layout.legend,showToolbar:GV.config.application.layout.toolbar}},created:function(){GV.log("gv-app: created"),GV.app=this},mounted:function(){GV.log("gv-app: mounted"),this.addTools(GV.config.application.layout.tools),GV.eventBus.$emit("gv-app-mounted",this)},methods:{addTools:function(){var e=this;if(GV.config.application.layout.tools){var t=GV.config.application.layout.tools;t.forEach(function(t){var n=t.position||"topleft";t.options=t.options||{},e.addTool(t,n)})}},addTool:function(e,t){var n=!1;GV.tools.forEach(function(a){if(e.name===a.name){n=!0;var o=e.name;GV.log("gv-app: addTool -> "+o),e.active&&(e.options.active=!0);var r=e.options.props?e.options.props.map(function(e){return(0,l.default)(e)[0]+"="+(0,i.default)(e)[0]}).join(" "):"",s="gv-tool-"+t;(0,p.default)({containerId:s,elId:o,vm:new m.default({template:"<"+o+" "+r+"></"+o+">"}),toggleEl:!1})}}),n||console.error("Strumento "+e.name+" non trovato")}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(5)),d=(a(u),n(12)),f=a(d),p=n(1),g=a(p),m=n(7),v=a(m),h=n(330),y=a(h),_=n(34),b=a(_),w=n(100),C=a(w);g.default.use(f.default),g.default.use(s.default),g.default.component("gv-atlante-geochimico-scheda-panel",function(){return new i.default(function(e){n.e(31,function(t){e(n(630))})})}),t.default={data:function(){return{livelli:[],livello:null,downloadConfig:null,metaData:null,layerConfig:null,show:!0,showLegend:!1,legendUrl:null,baseMapConfigId:2037}},methods:{toggleCollapseClass:function(){return this.show?"gv-panel-collapse gv-color-scheme el-icon-arrow-up":"gv-panel-collapse gv-color-scheme el-icon-arrow-down"},hidePanel:function(){this.show?document.getElementById("ag-wrapper").style.display="none":document.getElementById("ag-wrapper").style.display="block",this.show=!this.show},onChange:function(e){var t=this.livelli.filter(function(t){return t.id==e});this.layerConfig=t[0],this.loadLayer(t[0]),this.legendUrl="/geoservices/REST/atlante_geochimico/legenda/?id="+this.layerConfig.id,this.showLegend=!0,this.cleanUpDownload()},cleanUpDownload:function(){var e=document.getElementById("gv-map-download");e&&e.parentNode.removeChild(e);var t=GV.app.map.getLayerByName("SelezioneMacrobacino");t&&GV.app.map.removeLayer(t),GV.config.activeControl&&GV.config.activeControl.activate()},loadLayer:function(e){e.visible=!0,e.legend.popUpFlag=!1,e.multiClasse=!1;var t=e.idMap;GV.config.removeMap(t),GV.config.removeMap(this.baseMapConfigId),GV.config.addMapConfig({id:t,name:"Atlante Geochimico",flagGeoserver:!0,flagDownload:!0,downloadConfig:this.downloadConfig,metaData:this.metaData,layers:[e]}),GV.config.addRlMap(this.baseMapConfigId.toString(),!0,!1)},subscribeMapEvent:function(e){var t=this;GV.app.map.on("click",function(e){var n=t.getWmsUrl(e);t.layerConfig&&t.layerConfig.visible&&(0,C.default)(n).then(function(e){t.showInfo(e)})})},showInfo:function(e){var t={pcdf:e[0].properties.GRAY_INDEX,pest:e[1].properties.GRAY_INDEX,plower:e[2].properties.GRAY_INDEX,pupper:e[3].properties.GRAY_INDEX,Q1:e[4].properties.GRAY_INDEX,Q2:e[5].properties.GRAY_INDEX,Q3:e[6].properties.GRAY_INDEX,QCD:e[7].properties.GRAY_INDEX,cifre:this.layerConfig.infoOptions.cifreSignificative,unitaMisura:this.layerConfig.infoOptions.unitaMisura,titolo:this.layerConfig.title};(0,v.default)({elId:"gv-atlante-geochimico-scheda-panel",clear:!0,vm:new g.default({template:'<gv-atlante-geochimico-scheda-panel :pcdf="pcdf" :pest="pest" :plower="plower" :pupper="pupper" :Q1="Q1" :Q2="Q2" :Q3="Q3" :QCD="QCD" :cifre="cifre" :unitaMisura="unitaMisura" :titolo="titolo"></gv-atlante-geochimico-scheda-panel>',data:t})})},getWmsUrl:function(e){if(this.layerConfig){return this.layerConfig.wmsParams.infoFormat="application/json",this.layerConfig.infoBuffer=0,b.default.getGetFeatureInfoUrl(this.layerConfig,e)}}},mounted:function(){var e=this;(0,y.default)().then(function(t){e.livelli=t.layers.sort(function(e,t){return e.title.localeCompare(t.title)}),e.livelli.forEach(function(e){e.title=e.title.replace("2","₂").replace("3","₃").replace("5","₅")}),e.downloadConfig=t.downloadConfig,e.metaData=t.metaData}),GV.config.addRlMap(this.baseMapConfigId.toString(),!0,!1),this.subscribeMapEvent(event)}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={name:"gv-base-layer-switcher",data:function(){return{baseLayers:GV.config.baseLayers,activeBaseLayer:GV.config.activeBaseLayer}},methods:{onChange:function(e){GV.eventBus.$emit("change-base-layer",{layer:e})}},mounted:function(){GV.baseLayerSwitcher=this}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(601),i=(a(o),n(5)),r=(a(i),n(483)),l=a(r),s=n(1),c=a(s);c.default.use(l.default),t.default={name:"gv-conferma-dettaglio",props:["link","label","idMap"],data:function(){return{dialogVisible:!0}},methods:{cancel:function(){this.dialogVisible=!1},submit:function(){GV.config.addRlMap(this.idMap,!1,!0),this.dialogVisible=!1}}}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(1),l=a(r),s=n(7),c=a(s);l.default.component("image-viewer",function(){return new i.default(function(e){n.e(28,function(t){e(n(653))})})}),l.default.component("gv-fototeca-carrello-panel",function(){return new i.default(function(e){n.e(2,function(t){e(n(186))})})}),t.default={name:"gv-fototeca-immagine",props:["volo","foto"],data:function(){var e="https://geoservizi.regione.liguria.it/dtuff/Img/voli/",t=""+e+this.volo+"/"+this.foto+".jpg";return{title:"Fotogramma: "+this.foto,imgUrl:t,logo:"/geoservices/apps/imageviewer2/fototeca/logo.gif"}},methods:{addToBasket:function(){var e=this,t=GV.globals.FOTOTECA_CARRELLO.filter(function(e){return e.id===GV.globals.FOTOTECA_SEL_VOLO.id});if(0===t.length)GV.globals.FOTOTECA_CARRELLO.push({id:GV.globals.FOTOTECA_SEL_VOLO.id,label:GV.globals.FOTOTECA_SEL_VOLO.nome,dir:GV.globals.FOTOTECA_SEL_VOLO.volo.toLowerCase(),children:[{label:this.foto,file:this.foto+".jpg"}]});else{var n=t[0],a=!1;n.children.forEach(function(t){t.label===e.foto&&(a=!0)}),a||n.children.push({label:this.foto,file:this.foto+".jpg"})}this.showCart()},showCart:function(){(0,c.default)({elId:"gv-fototeca-carrello-panel",containerId:GV.config.containerId,toggleEl:!1,vm:new l.default({template:"<gv-fototeca-carrello-panel></gv-fototeca-carrello-panel>"})})}},mounted:function(){}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(5)),d=(a(u),n(12)),f=a(d),p=n(1),g=a(p),m=n(342),v=a(m),h=n(148),y=a(h),_=n(7),b=a(_),w=n(641),C=a(w);g.default.use(f.default),g.default.use(s.default),g.default.component("gv-fototeca-immagine",C.default),g.default.component("gv-fototeca-scheda-volo-panel",function(){return new i.default(function(e){n.e(3,function(t){e(n(187))})})}),t.default={data:function(){return{voli:[],volo:[],loading:!1,marker:null,bbox:null,baseWfsUrl:GV.globals.DEFAULT_PROXY+"https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson&",strisciata:null,foto:null}},methods:{onChange:function(e){GV.globals.FOTOTECA_SEL_VOLO=this.voli.filter(function(t){return t.id===e})[0];var t="M"+GV.globals.FOTOTECA_SEL_VOLO.id,n="L"+GV.globals.FOTOTECA_SEL_VOLO.codLivStrisciata,a="presenza_fotogrammi='SI'",o=this.baseWfsUrl+"typeName="+t+":"+n+"&cql_filter="+a;this.loadLayerStrisciata(o),this.showSchedaVolo()},showSchedaVolo:function(){(0,b.default)({elId:"gv-fototeca-scheda-volo-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new g.default({template:"<gv-fototeca-scheda-volo-panel></gv-fototeca-scheda-volo-panel>"})})},hiliteStrisciata:function(e){var t=GV.app.map.getLayerByName("strisciate");t.eachLayer(function(e){e.setStyle({color:"#ff0000"})}),e.setStyle({color:"#ffff00"})},loadLayerStrisciata:function(e){var t=this,n={type:"JSON",dataType:"json",name:"strisciate",visible:!0,geomSubType:"POLYGON",url:e,idMap:"fototeca",style:{color:"#ff0000",fillOpacity:0,weight:2,opacity:1},zoomToLayerExtent:!0,onEachFeature:function(e,n){n.on("click",function(e){t.strisciata=e.target.feature.properties.id_strisciata,t.hiliteStrisciata(n),t.loadLayerFoto()}),n.on("mouseover",function(e){t.strisciata!==e.target.feature.properties.id_strisciata&&n.setStyle({color:"#ff9900"})}),n.on("mouseout",function(e){t.strisciata!==e.target.feature.properties.id_strisciata&&n.setStyle({color:"#ff0000"})})}},a=n.idMap;GV.config.removeMap(a),GV.config.addMapConfig({id:a,name:"Fototeca",flagGeoserver:!0,layers:[n]})},hiliteFoto:function(e){var t=GV.app.map.getLayerByName("foto");t.eachLayer(function(e){e.setStyle({color:"#ff0000"})}),e.setStyle({color:"#ffff00"})},loadLayerFoto:function(){var e=this;GV.config.removeLayer("foto");var t="M"+GV.globals.FOTOTECA_SEL_VOLO.id,n="L"+GV.globals.FOTOTECA_SEL_VOLO.codLivFoto,a="id_strisciata='"+this.strisciata+"'",o=this.baseWfsUrl+"typeName="+t+":"+n+"&cql_filter="+a,i={type:"JSON",name:"foto",visible:!0,geomSubType:"POINT",url:o,idMap:"fototeca",pointToLayer:function(e,t){var n={color:"#ff0000",fillColor:"#ff0000",fill:!0,weight:3,radius:2};return L.circleMarker(t,n)},zoomToLayerExtent:!0,onEachFeature:function(t,n){n.on("click",function(t){e.foto=t.target.feature.properties.foto,e.hiliteFoto(n),GV.app.map.setView([n._latlng.lat,n._latlng.lng],15),"obliterato"===t.target.feature.properties.immagine?GV.utils.notification("Fotogramma consultabile presso lo Sportello Cartografico <br>Codice Fotogramma: <b>"+e.foto+"</b>","info"):e.showFoto()}),n.on("mouseover",function(t){e.foto!==t.target.feature.properties.foto&&n.setStyle({color:"#ff9900"})}),n.on("mouseout",function(t){e.foto!==t.target.feature.properties.foto&&n.setStyle({color:"#ff0000"})})}};i.idMap;GV.config.addLayerToMap(i,"fototeca")},showFoto:function(){(0,b.default)({elId:"gv-fototeca-immagine",clear:!0,vm:new g.default({template:'<gv-fototeca-immagine :volo="volo" :foto="foto" ></gv-fototeca-immagine>',data:{volo:GV.globals.FOTOTECA_SEL_VOLO.volo.toLowerCase(),foto:this.foto}})})}},mounted:function(){var e=this;(0,v.default)(this.bbox).then(function(t){e.voli=t}),GV.eventBus.$on("gv-fototeca-reload-voli",function(t){var n=t.bbox,a=t.bboxSRS,o="3003";n?(0,y.default)(a,o,n).then(function(t){t.data.data&&(console.log(t.data.data),e.bbox=t.data.data[0][0]+","+t.data.data[1][0],(0,v.default)(e.bbox).then(function(t){e.voli=t}))}):(e.bbox=n,(0,v.default)(e.bbox).then(function(t){e.voli=t}))})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(180),i=(a(o),n(58)),r=a(i),l=n(83),s=(a(l),n(76)),c=a(s),u=n(9),d=(a(u),n(8)),f=a(d),p=n(13),g=(a(p),n(11)),m=a(g),v=n(14),h=(a(v),n(5)),y=(a(h),n(12)),_=a(y),b=n(1),w=a(b),C=n(344),M=a(C),S=n(345),E=a(S);w.default.use(_.default,m.default,f.default,c.default),w.default.use(r.default),t.default={data:function(){return{name:"gv-gas",title:"FILTRI",aree:null,area:null,province:[{codice:null,descrizione:"TUTTE LE PROVINCE"},{codice:"010",descrizione:"GENOVA"},{codice:"008",descrizione:"IMPERIA"},{codice:"011",descrizione:"LA SPEZIA"},{codice:"009",descrizione:"SAVONA"}],provincia:null,moduli:[],modulo:null,listaAsl:[],asl:0,soloPostiDisponibili:!1,features:null,options:GV.config.getToolOptions("gv-gas")}},methods:{onChangeArea:function(e){this.moduli=this.aree.filter(function(t){return t.codice===e})[0].moduli},onChangeProvincia:function(e){this.asl=0},onChangeASL:function(e){this.provincia=null},elenco:function(){window.open("http://www.alisa.liguria.it/index.php?option=com_docman&view=docman&Itemid=382")},submit:function(){this.area?this.showFeatures():(0,c.default)({title:"Attenzione",type:"info",duration:5e3,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:'Il parametro "Area" � obbligatorio'})},showFeatures:function(){var e=this,t=this.features.filter(function(t){var n=!e.area||t.properties.idarea===e.area.toString(),a=!e.provincia||t.properties.codProvincia===e.provincia,o=!e.soloPostiDisponibili||"S"===t.properties.disponibilita,i=!e.asl||t.properties.ASL==e.asl,r=!1;if(e.modulo){if(t.properties.idModuli){var l=t.properties.idModuli.split(",");l.forEach(function(t){t==e.modulo&&(r=!0)})}}else r=!0;return n&&a&&o&&r&&i});this.loadLayer(t)},loadLayer:function(e){var t=GV.app.map.getLayerByName("Strutture");if(t&&GV.app.map.removeLayer(t),0===e.length)return void(0,c.default)({title:"Attenzione",type:"info",duration:5e3,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:"Nessuna struttura soddisfa i parametri<br>di ricerca"});var n=function(e){var t=e.feature.properties,n="";t.cVia&&(n+=" "+t.cVia),t.via&&(n+=" "+t.via),t.nCivico&&(n+=" "+t.nCivico),n+=", ",t.cap&&(n+=t.cap+" "),t.desComune&&(n+=t.desComune+" "),t.telefono&&(n+="<br/>Tel: "+t.telefono+" ");var a=GV.globals.GAS_SCHEDA+"gasweb/gestione/scheda?ID="+t.idul,o="\n              <p><b>"+t.denominazione+"</b></p> \n              <p>"+n+"<br/><br/>\n              Moduli: "+t.moduli+'<br/>\n              <a href="'+a+'" target="_blank">Scheda dettaglio</a>\n        ';return o};GV.app.map.loadLayers([{name:"Strutture",type:"JSON",geomSubType:"POINT",classes:[{name:"CLASSE_BASE",style:{iconUrl:"/geoservices/apps/viewer/static/img/gas/strutture.png",iconSize:[22,27],iconAnchor:[11,27],popupAnchor:[0,-27]}}],visible:!0,data:e,customPopup:n,cluster:{options:{iconCreateFunction:function(e){return L.divIcon({html:e.getChildCount(),className:"cluster",iconSize:L.point(28,28)})},showCoverageOnHover:!1,maxClusterRadius:80}}}]),GV.app.map.fitBounds(GV.app.map.getLayerByName("Strutture").getBounds()),GV.app.map.getZoom()>18&&GV.app.map.setZoom(18)}},mounted:function(){(0,c.default)({title:"Attenzione",type:"info",duration:1e4,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:'Sulla mappa potrebbero non comparire <br>tutte le strutture.<br>Per ottenere un elenco di tutte le <br>strutture selezionare il bottone <br><b>"Elenco Strutture"</b>'})},created:function(){var e=this,t="/geoservices/REST/gas/combo?ENV="+this.options.env;(0,M.default)(t).then(function(t){e.aree=t.aree.sort(function(e,t){return e.descrizione>t.descrizione?1:t.descrizione>e.descrizione?-1:0}),e.aree.forEach(function(e){e.moduli.unshift({codiceArea:0,codice:0,descrizione:"TUTTI"})}),e.listaAsl=t.asl,e.listaAsl=e.listaAsl.sort(function(e,t){return e.descrizione<t.descrizione?-1:e.descrizione>t.descrizione?1:0}),e.listaAsl.unshift({codice:0,descrizione:"TUTTE LE ASL"})});var n="/geoservices/REST/gas/strutture?ENV="+this.options.env;(0,E.default)(n).then(function(t){e.features=t})}}},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(349),f=a(d),p=n(1),g=a(p);g.default.use(u.default),g.default.use(r.default),t.default={data:function(){return{results:[],address:[],loading:!1,marker:null}},methods:{remoteMethod:function(e){var t=this;if(e.length<4)return void(this.results=[]);this.loading=!0;var n=1e3;setTimeout(function(){(0,f.default)(e).then(function(e){t.loading=!1,e&&e.length>0?t.results=e.map(function(e){return{label:e.formatted_address,value:e.place_id,location:e.geometry.location}}):t.results=[]}).catch(function(e){t.loading=!1,console.error(e)})},n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?this.marker=GV.app.map.addMarker(t):this.marker&&GV.app.map.removeLayer(this.marker)}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(350),f=a(d),p=n(1),g=a(p);g.default.use(u.default),g.default.use(r.default),t.default={data:function(){return{results:[],address:[],loading:!1,marker:null}},methods:{remoteMethod:function(e){var t=this;if(e.length<4)return void(this.results=[]);this.loading=!0;var n=1e3;setTimeout(function(){(0,f.default)(e).then(function(e){t.loading=!1,console.log(e);var n=e?e.features:null;n&&n.length>0?t.results=n.map(function(e){return{label:e.properties.label,value:e.properties.id,location:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}}}):t.results=[]}).catch(function(e){t.loading=!1,console.error(e)})},n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?(t.type="circle",this.marker=GV.app.map.addMarker(t)):this.marker&&GV.app.map.removeLayer(this.marker)}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gv-header",computed:{style:function(){return"height:"+GV.config.application.layout.header.height}},mounted:function(){this.$el.innerHTML=GV.config.application.layout.header.html}}},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gv-inner-html",props:["html"],data:function(){return{}},methods:{},mounted:function(){}}},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=(a(o),n(5)),r=(a(i),n(8)),l=a(r),s=n(10),c=a(s),u=n(1),d=a(u),f=n(7),p=a(f),g=n(631),m=a(g),v=n(188),h=a(v);d.default.component("gv-base-layer-switcher",m.default),d.default.component("gv-legend-maps",h.default),d.default.component("gv-map-catalog-panel",function(){return new c.default(function(e){n.e(1,function(t){e(n(137))})})}),d.default.use(l.default),t.default={name:"gv-legend",data:function(){return{options:GV.config.application.layout.legend.options,maps:GV.config.maps,show:!0}},mounted:function(){if(GV.log("gv-legend: mounted"),GV.legend=this,this.options.showAddMap){var e=!GV.config.idMap&&!GV.config.agAppMap;this.options.showMapCatalogPanelOnStart&&(e=!0),this.options.dontShowMapCatalogPanelOnStart&&(e=!1),GV.config.loadCatalog({showMapCatalogPanel:e,filterDownloadCatalog:this.options.filterDownloadCatalog})}(this.options.collapsed||window.matchMedia("(max-width: 500px)").matches)&&(this.show=!1),this.hideLegend()},methods:{hideLegend:function(e){this.show?(document.getElementById("gv-legend-title").style.display="block",document.getElementById("gv-legend-title-collapsed").style.display="none",document.getElementById("gv-legend-wrapper").style.display="block",document.getElementById("gv-legend").style.width="260px"):(document.getElementById("gv-legend-title").style.display="none",document.getElementById("gv-legend-title-collapsed").style.display="block",document.getElementById("gv-legend-wrapper").style.display="none",document.getElementById("gv-legend").style.width="26px"),this.show=!this.show},toggleCollapseClass:function(){return this.show?"gv-legend-collapse gv-color-scheme el-icon-arrow-down":"gv-legend-collapse gv-color-scheme el-icon-arrow-up"},addMap:function(){(0,p.default)({elId:"gv-map-catalog-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new d.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})})},downloadMaps:function(){(0,p.default)({elId:"gv-download-totale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new d.default({template:"<gv-download-totale-panel></gv-download-totale-panel>"})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),i=(a(o),n(64)),r=a(i),l=n(42),s=(a(l),n(39)),c=a(s),u=n(182),d=(a(u),n(178)),f=a(d),p=n(181),g=(a(p),n(177)),m=a(g),v=n(61),h=(a(v),n(60)),y=a(h),_=n(44),b=(a(_),n(43)),w=a(b),C=n(9),M=(a(C),n(8)),S=a(M),E=n(13),L=(a(E),n(11)),O=a(L),x=n(14),I=(a(x),n(5)),T=(a(I),n(12)),R=a(T),G=n(10),A=a(G),V=n(1),P=a(V),F=n(7),z=a(F);P.default.component("gv-multi-legend-panel",function(){return new A.default(function(e){n.e(23,function(t){e(n(673))})})}),P.default.component("gv-layers-transparency",function(){return new A.default(function(e){n.e(24,function(t){e(n(661))})})}),P.default.component("gv-layer-search-legend",function(){return new A.default(function(e){n.e(6,function(t){e(n(659))})})}),P.default.use(R.default),P.default.use(O.default),P.default.use(S.default),P.default.use(w.default),P.default.use(y.default),P.default.use(m.default),P.default.use(f.default),P.default.use(c.default),P.default.use(r.default),t.default={name:"gv-legend-layers",props:["map","options"],data:function(){return{}},mounted:function(){GV.log("gv-legend-layers: mounted")},methods:{iconUrl:function(e){return e.legend.icon},getClass:function(e){return e.inRange?"gv-list-legend-layer-item":"gv-list-legend-layer-item gv-list-legend-layer-disabled-item"},layerClassName:function(e){var t=e.row;e.rowIndex;return t.inRange?"gv-list-legend-layer-item":"gv-list-legend-layer-item gv-list-legend-layer-disabled-item"},setLayerVisible:function(e){GV.eventBus.$emit("set-layer-visible",{layer:e,checked:e.visible}),this.setLayerTransparency(e)},setLayerTransparency:function(e){var t=e.opacityBase100/100;GV.eventBus.$emit("set-layer-transparency",{layerName:e.name,opacity:t})},layerSearch:function(e){(0,z.default)({elId:"gv-layer-search-legend",containerId:GV.config.containerId,toggleEl:!0,vm:new P.default({template:"<gv-layer-search-legend layerId="+e.id+"></gv-layer-search-legend>"})})},showLegendPanel:function(e){if(e.inRange&&(e.multiClasse||e.flagRemote||e.legend.popUpFlag)){var t,n,a=null;e.legend.popUpUrl&&e.legend.popUpFlag?(a=""+GV.globals.DEFAULT_PROXY+e.legend.popUpUrl,t=window.matchMedia("(max-width: 450px)").matches?300:e.legend.popUpWidth||600,n=window.matchMedia("(max-height: 620px)").matches?400:e.legend.popUpHeight||600):e.multiClasse?(e.flagGeoserver||e.flagRemote)&&(a=""+GV.globals.DEFAULT_PROXY+e.wmsParams.url+"LAYER="+e.name+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&",e.wmsParams.styles&&(a+="STYLES="+e.wmsParams.styles+"&"),t=window.matchMedia("(max-width: 450px)").matches?300:400,n=350):e.flagRemote&&(a=""+GV.globals.DEFAULT_PROXY+e.wmsParams.url+"&LAYER="+e.name+"&SERVICE=WMS&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/jpeg",e.wmsParams.styles&&(a+="STYLES="+e.wmsParams.styles+"&"),t=window.matchMedia("(max-width: 450px)").matches?300:500,n=350),(0,z.default)({elId:"gv-multi-legend-panel",containerId:GV.config.containerId,vm:new P.default({template:'<gv-multi-legend-panel visible="true" :src="src" :height="height" :width="width" :title="title"></gv-multi-legend-panel>',data:{title:"LEGENDA",src:a,width:t,height:n}})})}}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=(a(o),n(5)),r=(a(i),n(8)),l=a(r),s=n(10),c=a(s),u=n(1),d=a(u),f=n(7),p=a(f),g=n(663),m=a(g),v=n(789),h=a(v);d.default.component("gv-legend-layers",m.default),d.default.component("gv-map-info-panel",function(){return new c.default(function(e){n.e(0,function(t){e(n(96))})})}),d.default.component("gv-map-catalog-panel",function(){return new c.default(function(e){n.e(1,function(t){e(n(137))})})}),d.default.component("gv-map-download",function(){return new c.default(function(e){n.e(9,function(t){e(n(636))})})}),d.default.use(h.default),d.default.use(l.default),t.default={name:"gv-legend-maps",props:["options"],data:function(){return{maps:GV.config.maps}},mounted:function(){var e=this;GV.log("gv-legend-maps: mounted"),this.options.showDownloadPanelOnLoad&&GV.config.idMap&&GV.eventBus.$on("gv-config-init",function(t){e.openDownloadPanel(GV.config.idMap)})},methods:{showMapLayers:function(e){return e.showLayersInLegend},toggleLayers:function(e){e.showLayersInLegend=!e.showLayersInLegend},getToggleLayersClass:function(e){return e.showLayersInLegend?"gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-up":"gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-down"},isDownloadable:function(e){return!this.options.noDownloadButton&&(!("pub"!==GV.globals.RL_CATALOG||!e.flagDownload)||!("int"!==GV.globals.RL_CATALOG||!e.flagDownloadExtranet&&!e.flagDownload))},checkInfoMap:function(e){return this.options.showInfoMap&&GV.config.getMapConfig(e.id).metaData},showMapInfoPanel:function(e){var t=GV.config.getMapConfig(e.id).metaData,n=this.isDownloadable(e);(0,p.default)({elId:"gv-map-info-panel",containerId:GV.config.containerId,clear:!0,vm:new d.default({template:'<gv-map-info-panel visible="true" :metaData="metaData" addToMapButton="true" downloadable="'+n+'"></gv-map-info-panel>',data:{metaData:t}})})},remove:function(e){GV.config.removeMap(e.id)},download:function(e){this.openDownloadPanel(e.id)},openDownloadPanel:function(e){if(document.getElementById("gv-map-download")){var t=document.getElementById("gv-map-download");t.parentNode.removeChild(t)}var n="closeWindow"===this.options.downloadPanelCloseMode;(0,p.default)({elId:"gv-map-download",containerId:GV.config.containerId,toggleEl:!1,vm:new d.default({template:'<gv-map-download idMap="'+e+'" closeWindow="'+n+'"></gv-map-download>'})})},layerTransparency:function(e){(0,p.default)({elId:"gv-layers-transparency",containerId:GV.config.containerId,toggleEl:!1,vm:new d.default({template:'<gv-layers-transparency idMap="'+e.id+'"></gv-layers-transparency>'})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(322),i=a(o),r=n(324),l=a(r),s=n(34),c=a(s),u=n(145),d=a(u),f=["dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","zoomanim","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose"],p=["click","dblclick","singleclick","change:layerGroup","change:size","change:target","change:view","error","moveend","movestart","pointerdrag","pointermove","postcompose","postrender","precompose","propertychange","rendercomplete"];t.default={name:"gv-map",data:function(){return{map:null,type:null}},mounted:function(){if(console.log("COMPONENTE MAP",this),this.type=GV.config.application.mapOptions&&GV.config.application.mapOptions.type||"leaflet",this.setMapSize(),"leaflet"===this.type?GV.app.map=i.default.initialize(GV.config.application.mapOptions):GV.app.map=l.default.initialize(GV.config.application.mapOptions),this.map=GV.app.map,this.registerMapEvents(),this.subscribeConfigEvents(),GV.config.application.mapOptions&&GV.config.application.mapOptions.click)switch(GV.config.application.mapOptions.click){case"info":c.default.activate();break;case"coordinate":d.default.activate()}GV.log("gv-map: mounted"),GV.eventBus.$emit("gv-map-mounted",GV.app.map)},methods:{setMapSize:function(){var e=document.getElementById("gv-map");GV.config.application.mapOptions&&GV.config.application.mapOptions.width&&(e.style.width=GV.config.application.mapOptions.width+"px"),GV.config.application.mapOptions&&GV.config.application.mapOptions.height&&(e.style.height=GV.config.application.mapOptions.height+"px")},registerMapEvents:function(){var e=this,t="leaflet"===this.type?f:p;t.forEach(function(t){var n="map-"+t;GV.app.map.on(t,function(t){t.mapType=e.mapType,GV.eventBus.$emit(n,t)})})},subscribeConfigEvents:function(){GV.eventBus.$on("config-add-map",function(e){var t=e.config;GV.app.map.loadLayers(t.layers),t.extent_3857&&GV.app.map.setExtent(t.extent_3857)}),GV.eventBus.$on("config-add-layer",function(e){var t=e.config;GV.app.map.loadLayers([t]),t.extent_3857&&GV.app.map.setExtent(t.extent_3857)}),GV.eventBus.$on("config-remove-layer",function(e){var t=e.config,n=GV.app.map.getLayerByName(t);n&&GV.app.map.removeLayer(n)}),GV.eventBus.$on("config-remove-map",function(e){var t=e.config;t.layers.forEach(function(e){var t=GV.app.map.getLayerByName(e.name);t&&GV.app.map.removeLayer(t)})})}}}},,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(600),i=(a(o),n(482)),r=a(i),l=n(42),s=(a(l),n(39)),c=a(s),u=n(13),d=(a(u),n(11)),f=a(d),p=n(14),g=(a(p),n(5)),m=(a(g),n(12)),v=a(m),h=n(1),y=a(h),_=n(4),b=a(_);y.default.use(v.default),y.default.use(f.default),y.default.use(c.default),y.default.use(r.default),t.default={data:function(){return{idMap:null,mapConfig:null,baseLayerGG:null,baseLayerAA:null,tipi:[],indicatoriGiorno:[],indicatoriAnno:[],anni:[],tipo:null,indicatore:null,data:null,giorno:null,show:!0,buttonDisabled:!0,showLegend:!1,legendUrl:null}},watch:{giorno:function(){this.data=this.giorno},data:function(){this.data||(this.showLegend=!1),this.data&&this.indicatore&&this.loadLayer()}},methods:{onChangeTipo:function(e){this.tipo=e,this.indicatore=null,this.data=null,this.giorno=null,this.showLegend=!1},onChangeIndicatore:function(e){this.indicatore=e,this.data&&this.loadLayer()},loadLayer:function(){GV.config.removeMap(this.idMap),this.mapConfig.layers=[],this.mapConfig.layers=[this.getLayer()],GV.config.addMapConfig(this.mapConfig),this.legendUrl="/geoservices/REST/rqa/legenda/"+this.indicatore,this.showLegend=!0},getLayer:function(){var e=this,t="G"===this.tipo?this.baseLayerGG:this.baseLayerAA;if("G"===this.tipo){t.wmsParams.styles="RQA_"+this.indicatore,t.wmsParams.cql_filter="cod_indicatore='"+this.indicatore+"' AND giorno='"+this.data+"'";var n=this.indicatoriGiorno.find(function(t){return t.id===e.indicatore}).nome;t.legend.label=n+" ("+this.data+")"}else{t.wmsParams.styles="RQA_"+this.indicatore,t.wmsParams.cql_filter="cod_indicatore='"+this.indicatore+"' AND anno="+this.data;var a=this.indicatoriAnno.find(function(t){return t.id===e.indicatore;
}).nome;t.legend.label=a+" ("+this.data+")"}return t},toggleCollapseClass:function(){return this.show?"gv-panel-collapse gv-color-scheme el-icon-arrow-up":"gv-panel-collapse gv-color-scheme el-icon-arrow-down"},hidePanel:function(){this.show?document.getElementById("rqa-wrapper").style.display="none":document.getElementById("rqa-wrapper").style.display="block",this.show=!this.show},setData:function(e){this.tipi=e.tipi,this.indicatoriGiorno=e.indicatoriGiorno,this.indicatoriAnno=e.indicatoriAnno,this.anni=e.anni,this.mapConfig=e.mapConfig,this.idMap=e.mapConfig.id,this.baseLayerGG=e.mapConfig.layers.filter(function(t){return t.id===e.idLayerGG})[0],this.baseLayerAA=e.mapConfig.layers.filter(function(t){return t.id===e.idLayerAA})[0]},download:function(){this.downloadURI("https://geoservizi.regione.liguria.it/dtuff/download_statico/2219/rqa-dati.zip")},downloadURI:function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),document.body.appendChild(t),t.href=e,t.click()}},computed:{showIndicatoriGiorno:function(){return"G"==this.tipo},showIndicatoriAnno:function(){return"A"==this.tipo}},mounted:function(){var e=this;b.default.get("/geoservices/REST/rqa/app-config/").then(function(e){return e.data.data}).then(function(t){e.setData(t)})}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={data:function(){var e=[{value:8,label:"1:2.300.000"},{value:9,label:"1:1.150.000"},{value:10,label:"1:580.000"},{value:11,label:"1:290.000"},{value:12,label:"1:144.000"},{value:13,label:"1:72.000"},{value:14,label:"1:36.000"},{value:15,label:"1:18.000"},{value:16,label:"1:9.000"},{value:17,label:"1:4.500"},{value:18,label:"1:2.200"},{value:19,label:"1:1.100"},{value:20,label:"1:560"}];return{options:e,value:9}},methods:{onChange:function(e){GV.app.map.setZoom(e)}},mounted:function(){var e=this;GV.eventBus.$on("map-zoom",function(t){e.value=Math.round(t)})}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(61),l=(a(r),n(60)),s=a(l),c=n(44),u=(a(c),n(43)),d=a(u),f=n(9),p=(a(f),n(8)),g=a(p),m=n(13),v=(a(m),n(11)),h=a(v),y=n(14),_=(a(y),n(5)),b=(a(_),n(12)),w=a(b),C=n(1),M=a(C),S=n(188),E=a(S),L=n(7),O=a(L);M.default.component("gv-legend-maps",E.default),M.default.use(w.default),M.default.use(h.default),M.default.use(g.default),M.default.use(d.default),M.default.use(s.default),M.default.component("gv-scuoladigitale-ricerca",function(){return new i.default(function(e){n.e(15,function(t){e(n(680))})})}),t.default={name:"gv-scuoladigitale-legend",data:function(){return{options:GV.config.getToolOptions("gv-scuoladigitale-legend"),maps:GV.config.maps,show:!0,tema:0,title:"LEGENDA ICONE"}},mounted:function(){GV.log("gv-scuoladigitale-legend: mounted"),GV.legend=this,this.changeMap(0),this.show=!1,2===this.options.version&&(this.hideLegend(),(0,O.default)({elId:"gv-scuoladigitale-ricerca",containerId:GV.config.containerId,toggleEl:!0,vm:new M.default({template:"<gv-scuoladigitale-ricerca></gv-scuoladigitale-ricerca>"})}))},methods:{changeMap:function(e){GV.config.maps[0]&&GV.config.removeMap(GV.config.maps[0].id),GV.config.addMapConfig(this.options.maps[e])},showSearch:function(){(0,O.default)({elId:"gv-scuoladigitale-ricerca",containerId:GV.config.containerId,toggleEl:!0,vm:new M.default({template:"<gv-scuoladigitale-ricerca></gv-scuoladigitale-ricerca>"})})},hideLegend:function(e){this.show?(document.getElementById("gv-scuoladigitale-legend-wrapper").style.display="block",document.getElementById("gv-scuoladigitale-legend").style.width="260px"):(document.getElementById("gv-scuoladigitale-legend-wrapper").style.display="none",document.getElementById("gv-scuoladigitale-legend").style.width="160px"),this.show=!this.show},toggleCollapseClass:function(){return console.log("legend",this.show),this.show?"gv-scuoladigitale-legend-collapse gv-color-scheme el-icon-arrow-down":"gv-scuoladigitale-legend-collapse gv-color-scheme el-icon-arrow-up"}}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={data:function(){return{results:[],address:[],recordsCache:{},layers:null,cachedLayers:[],propertyName:null,loading:!1,marker:null,placeHolder:"Ricerca..."}},mounted:function(){this.layers=GV.config.getToolOptions("gv-search").layers,this.propertyName=GV.config.getToolOptions("gv-search").propertyName,this.additionalLabel=GV.config.getToolOptions("gv-search").additionalLabel,this.placeHolder=GV.config.getToolOptions("gv-search").placeHolder||"Ricerca..."},methods:{search:function(e){this.results=[],e.length<3||(this.results=this.filterData(e))},filterData:function(e){var t=this,n=[];return e=e.replace(/[*+?^${}()|[\]\\]/g,""),""===e?[]:(this.layers.forEach(function(a){GV.app.map.eachLayer(function(o){o.name===a&&o instanceof L.LayerGroup&&o.eachLayer(function(a){var o=a.getLatLng();o.layer=a;var i=a.feature.properties[t.propertyName];if(new RegExp(e,"i").test(i)){var r=t.additionalLabel?a.feature.properties[t.additionalLabel]:null,l=t.additionalLabel?i+" ("+r+")":i;n.push({label:l,value:l,location:o})}})})}),n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?(t.type="circle",t.zoomLevel=16,this.marker=GV.app.map.addMarker(t)):this.marker&&GV.app.map.removeLayer(this.marker)}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(12)),d=a(u),f=n(41),p=(a(f),n(38)),g=a(p),m=n(32),v=(a(m),n(29)),h=a(v),y=n(9),_=(a(y),n(5)),b=(a(_),n(8)),w=a(b),C=n(1),M=a(C),S=n(6),E=a(S),L=n(51),O=a(L),x=n(19),I=a(x),T=n(22),R=a(T),G=n(17),A=a(G);M.default.use(w.default),M.default.use(h.default),M.default.use(g.default),M.default.use(d.default),M.default.use(s.default),A.default.use(R.default);var V=n(66);M.default.use(V),t.default={name:"gv-map-selezione-fogli",props:{idMap:String,selFogli:String,field:String},data:function(){return{title:"SELEZIONE FOGLI",fogli:[],config:{},storageKey:"selFogli",style:null,hlStyle:null}},computed:{},watch:{fogli:function(e){this.syncFogli(e)}},mounted:function(){var e=this;GV.eventBus.$on("gv-config-init",function(){e.config=GV.config.getMapConfig(e.idMap).downloadConfig,e.setFeatureStyle(),e.addLayerSquadri(),e.show=!0})},methods:{setFeatureStyle:function(){var e=void 0;e="openlayers"===GV.app.map.type?new ol.style.Style({stroke:new ol.style.Stroke({color:[255,204,0,1],width:1}),fill:new ol.style.Fill({color:[255,204,0,.1]})}):{color:"#ffcc00",fillOpacity:0,weight:1,opacity:1},this.style=e,e="openlayers"===GV.app.map.type?new ol.style.Style({stroke:new ol.style.Stroke({color:[255,204,0,1],width:3}),fill:new ol.style.Fill({color:[255,204,0,.6]})}):{color:"#ffcc00",fillOpacity:.6,weight:2,opacity:1},this.hlStyle=e},syncFogli:function(e){var t=this,n=GV.app.map.getLayerByName("SelezioneSquadri");if(n){var a=this.hlStyle;if("openlayers"===GV.app.map.type){var o=n.getSource().getFeatures(),r=!0,l=!1,s=void 0;try{for(var c,u=(0,i.default)(o);!(r=(c=u.next()).done);r=!0){var d=c.value;d.setStyle(!1)}}catch(e){l=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw s}}var f=!0,p=!1,g=void 0;try{for(var m,v=(0,i.default)(e);!(f=(m=v.next()).done);f=!0){var h=m.value,y=!0,_=!1,b=void 0;try{for(var w,C=(0,i.default)(o);!(y=(w=C.next()).done);y=!0){var M=w.value,S=M.get("COD_SQUADRO")||M.get("cod_squadro");S==h&&M.setStyle(a)}}catch(e){_=!0,b=e}finally{try{!y&&C.return&&C.return()}finally{if(_)throw b}}}}catch(e){p=!0,g=e}finally{try{!f&&v.return&&v.return()}finally{if(p)throw g}}}else n.eachLayer(function(e){e.setStyle(t.style)}),n.eachLayer(function(n){e.forEach(function(e){var a=n.feature.properties.COD_SQUADRO||n.feature.properties.cod_squadro;a===e&&n.setStyle(t.hlStyle)})})}},addLayerSquadri:function(){var e=this,t=E.default.DEFAULT_PROXY+"https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=",n=""+t+this.config.livelloSquadri;(0,O.default)(n).then(function(t){e.loadDataSquadri(t.data)})},loadDataSquadri:function(e){var t=this;GV.app.map.getLayerByName("SelezioneSquadri")&&GV.app.map.removeLayer(GV.app.map.getLayerByName("SelezioneSquadri"));var n=e.features.filter(function(e){var n=t.config.fogli.filter(function(t){var n=e.properties.COD_SQUADRO||e.properties.cod_squadro;return t.codice===n});return n.length>0});e.features=n,this.layerFogli=e,this.loadLayer()},submit:function(){this.postMessage("conferma")},cancel:function(){this.postMessage("annulla")},postMessage:function(e){var t={fogliSelezionati:this.fogli.join(","),field:parseInt(this.field),button:e};window.parent.postMessage(t,"*")},loadLayer:function(){var e=this;GV.app.map.loadLayers([{name:"SelezioneSquadri",type:"JSON",style:this.style,visible:!0,data:this.layerFogli,zIndex:100,onFeatureSelect:function(t,n){var a=t.get?t.get("COD_SQUADRO")||t.get("cod_squadro"):t.properties.COD_SQUADRO||t.properties.cod_squadro;e.fogli.indexOf(a)>-1?e.fogli=e.fogli.filter(function(e){return e!==a}):e.fogli.push(a)}}]),GV.config.activeControl.deactivate(),this.selFogli&&(this.fogli=this.selFogli.split(",")),(0,I.default)("Selezionare un foglio sulla mappa o dalla lista","info")},collapse:function(e){this.show?document.getElementById("gv-map-selezione-fogli-body").style.display="none":document.getElementById("gv-map-selezione-fogli-body").style.display="block",this.show=!this.show}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);a(o);t.default={name:"gv-title",props:["divId","title","fullTitle","hide","noClose","collapsible","width","collapsedWidth"],data:function(){return{collapsed:!1}},methods:{closePanel:function(){var e=document.getElementById(this.divId);e&&(this.hide?e.style.display="none":e.parentNode.removeChild(e),GV.eventBus.$emit("title-close-panel",{divId:this.divId}))},collapse:function(){this.collapsed?(document.getElementById(this.collapsible).style.display="block",this.$el.style.width=null):(document.getElementById(this.collapsible).style.display="none",this.collapsedWidth&&(this.$el.style.width=this.collapsedWidth)),this.collapsed=!this.collapsed},toggleCollapseClass:function(){return this.collapsed?"gv-title-collapse gv-color-scheme el-icon-arrow-down":"gv-title-collapse gv-color-scheme el-icon-arrow-up"}},mounted:function(){this.$el.id=this.divId+"-title"}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-map-catalog-panel",function(){return new i.default(function(e){n.e(1,function(t){e(n(137))})})});var g="gv-add-map-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{name:g,active:!1,options:e,cssClass:"gv-add-map gv-button fa fa-plus-square-o",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-map-catalog-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="gv-back-button";t.default={data:function(){var e=GV.config.getToolOptions(n);return{name:n,active:!1,options:e,action:e.action,url:e.url,confirm:e.confirm,cssClass:"gv-back gv-button fa fa-arrow-left",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){if(this.confirm){var e=confirm("Sei sicuro?");1==e&&this.back()}else this.back()},back:function(){"close"===this.action?window.close():this.url?window.location=this.url:history.back()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-cem-elaborazioni",function(){return new i.default(function(e){n.e(22,function(t){e(n(632))})})});var g="gv-cem-elaborazioni-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-cem-elaborazioni gv-button fa fa-magnet",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-cem-elaborazioni",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-cem-elaborazioni></gv-cem-elaborazioni>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){(0,d.default)({elId:"gv-cem-elaborazioni",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-cem-elaborazioni></gv-cem-elaborazioni>"})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(145),l=a(r),s="gv-coordinate-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-hand-point-down",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-download-totale-panel",function(){return new i.default(function(e){n.e(14,function(t){e(n(638))})})});var g="gv-download-totale-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-download-totale-button gv-button el-icon-download",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-download-totale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-download-totale-panel></gv-download-totale-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(316),l=a(r),s="gv-draw-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,title:"Acquisizione Geometrie",cssClass:"gv-button fas fa-edit",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-carrello-panel",function(){return new i.default(function(e){n.e(2,function(t){e(n(186))})})});var u="gv-fototeca-carrello-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-shopping-cart",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,l.default)({elId:"gv-fototeca-carrello-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-carrello-panel></gv-fototeca-carrello-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-scheda-volo-panel",function(){return new i.default(function(e){n.e(3,function(t){e(n(187))})})});var u="gv-fototeca-scheda-volo-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-info-circle",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){GV.globals.FOTOTECA_SEL_VOLO&&(0,l.default)({elId:"gv-fototeca-scheda-volo-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-scheda-volo-panel></gv-fototeca-scheda-volo-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(317),l=a(r),s="gv-fototeca-selezione-territoriale-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-edit",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){var e=this;GV.eventBus.$on("gv-fototeca-selezione-territoriale-switch",function(t){e.switchActiveButton()})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-genio-localizza",function(){return new i.default(function(e){n.e(13,function(t){e(n(645))})})});var g="gv-genio-localizza-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-genio-localizza-button gv-button ms ms-select-hand",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-genio-localizza",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-genio-localizza></gv-genio-localizza>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-genio-pratiche-collegate-panel",function(){return new i.default(function(e){n.e(18,function(t){e(n(646))})})});var u="gv-genio-pratiche-collegate-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-link",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,l.default)({elId:"gv-genio-pratiche-collegate-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-genio-pratiche-collegate-panel></gv-genio-pratiche-collegate-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(318),l=a(r),s="gv-genio-seleziona-particelle-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-hand-point-down",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-help3D-panel",function(){return new i.default(function(e){n.e(11,function(t){e(n(651))})})});var g="gv-help3D-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-help3D-button gv-button fa fa-question",cssActiveClass:"gv-button"}},methods:{onClick:function(){(0,d.default)({elId:"gv-help3D-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-help3D-panel></gv-help3D-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(34),l=a(r),s="gv-info-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-info",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){this.active=this.options.active}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-layer-search",function(){return new i.default(function(e){n.e(7,function(t){e(n(658))})})});var g="gv-layer-search-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-layer-search-button gv-button fa fa-search",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-layer-search",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-layer-search></gv-layer-search>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-layer-search-topo",function(){return new i.default(function(e){n.e(5,function(t){e(n(660))})})});var g="gv-layer-search-topo-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-layer-search-topo-button gv-button fa fa-search",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-layer-search-topo",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-layer-search-topo></gv-layer-search-topo>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(319),l=a(r),s="gv-measure-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:null,options:e,title:"Misurazioni",cssClass:"gv-button fg-measure",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){console.log("MOUNTED",GV.app.map.type),this.control=l.default}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-print-panel",function(){return new i.default(function(e){n.e(10,function(t){e(n(674))})})});var g="gv-print-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-print-button gv-button fa fa-print",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-print-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-print-panel></gv-print-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-ricerca-particella",function(){return new i.default(function(e){n.e(8,function(t){e(n(675))})})});var g="gv-ricerca-particella-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-ricerca-particella-button gv-button fa fa-building",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-ricerca-particella",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-ricerca-particella></gv-ricerca-particella>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-ricerca-catastale",function(){return new i.default(function(e){n.e(4,function(t){e(n(677))})})});var g="gv-ricerca-catastale-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-ricerca-catastale-button gv-button fa fa-building",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-ricerca-catastale",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-ricerca-catastale></gv-ricerca-catastale>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="gv-switch3D-button";t.default={name:n,data:function(){var e=GV.config.getToolOptions(n);return{name:n,active:!1,options:e,enable3d:null,label:null}},methods:{onClick:function(){this.enable3d=!this.enable3d,this.setLabel(),GV.app.map.ol3d.setEnabled(this.enable3d)},setLabel:function(){this.enable3d?this.label="2D":this.label="3D"}},mounted:function(){this.enable3d=GV.config.application.mapOptions.enable3d,this.setLabel()}}},function(e,t){"use strict";!function(){function e(e,a){Cesium.when(e,function(e){Cesium.defined(e)&&e.ready&&(e.levelZeroMaximumGeometricError=Cesium.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.heightMapWidth,e.tilingScheme.getNumberOfXTilesAtLevel(0)),Cesium.defined(e.URLtemplateImage)&&(e.getHeightmapTerrainDataImage=function(o,i,l){var c;if(!isNaN(o+i+l)){var u=t(e.URLtemplateImage(o,i,l),o,i,l,a),d={highest:e.highest,lowest:e.lowest,offset:e.offset},f=n(o,i,l,a),p=r(u);Cesium.defined(p)&&(c=Cesium.when(p,function(t){return s.imageToHeightmapTerrainData(t,d,{width:e.heightMapWidth,height:e.heightMapHeight},e.waterMask,f,e.hasStyledImage)}).otherwise(function(){return new Cesium.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return c}),Cesium.defined(e.URLtemplateArray)&&(e.getHeightmapTerrainDataArray=function(o,r,l){var c;if(!isNaN(o+r+l)){var u=t(e.URLtemplateArray(o,r,l),o,r,l,a),d={highest:e.highest,lowest:e.lowest,offset:e.offset},f=n(o,r,l,a),p=i(u);Cesium.defined(p)&&(c=Cesium.when(p,function(t){return s.arrayToHeightmapTerrainData(t,d,{width:e.heightMapWidth,height:e.heightMapHeight},e.formatArray,e.waterMask,f)}).otherwise(function(){return Cesium.defined(e.getHeightmapTerrainDataImage)?e.getHeightmapTerrainDataImage(o,r,l):new Cesium.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return c}),a.getLevelMaximumGeometricError=function(t){return e.levelZeroMaximumGeometricError/(1<<t)},a.requestTileGeometry=function(t,n,a){var o;return Cesium.defined(e.getHeightmapTerrainDataArray)?o=e.getHeightmapTerrainDataArray(t,n,a):Cesium.defined(e.getHeightmapTerrainDataImage)&&(o=e.getHeightmapTerrainDataImage(t,n,a)),o},Cesium.defineProperties(a,{tilingScheme:{get:function(){return e.tilingScheme}},ready:{get:function(){return e.ready}},hasWaterMask:{get:function(){return e.waterMask}},heightMapHeight:{get:function(){return e.heightMapHeight}},heightMapWidth:{get:function(){return e.heightMapWidth}},getTileDataAvailable:{get:function(){return e.getTileDataAvailable}}})),a._readyPromise.resolve(e.ready)})}function t(e,t,n,a,o){var i=o.tilingScheme.tileXYToNativeRectangle(t,n,a),r=(i.east-i.west)/(o.heightMapWidth-1),l=(i.north-i.south)/(o.heightMapHeight-1);i.west-=.5*r,i.east+=.5*r,i.south-=.5*l,i.north+=.5*l;var s=o.tilingScheme.getNumberOfYTilesAtLevel(a),c=s-n-1;return e.replace("{south}",i.south).replace("{north}",i.north).replace("{west}",i.west).replace("{east}",i.east).replace("{x}",t).replace("{y}",n).replace("{tmsY}",c)}function n(e,t,n,a){var o=0,i=n+1;return o|=a.getTileDataAvailable(2*e,2*t,i)?1:0,o|=a.getTileDataAvailable(2*e+1,2*t,i)?2:0,o|=a.getTileDataAvailable(2*e,2*t+1,i)?4:0,o|=a.getTileDataAvailable(2*e+1,2*t+1,i)?8:0}var a={},o=void 0===Cesium.loadXML?Cesium.Resource.fetchXML:Cesium.loadXML,i=void 0===Cesium.loadArrayBuffer?Cesium.Resource.fetchArrayBuffer:Cesium.loadArrayBuffer,r=void 0===Cesium.loadImage?Cesium.Resource.fetchImage:Cesium.loadImage,l=function(e,t){var n,a=Math.max(e.west,t.west),o=Math.min(e.east,t.east),i=Math.max(e.south,t.south),r=Math.min(e.north,t.north);return n=o<=a||i>=r?void 0:new Cesium.Rectangle(a,i,o,r)};a.CRS=[{name:"CRS:84",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:Cesium.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],a.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],a.FormatArray=[{
format:"image/bil",postProcessArray:function(e,t,n,a,o){var i,r=new DataView(e),l=new ArrayBuffer(t.height*t.width*2),s=new DataView(l);if(l.byteLength===e.byteLength){for(var c,u=0,d=0,f=0;f<l.byteLength;f+=2)if(c=r.getInt16(f,!1)-o,c>a&&c<n)s.setInt16(f,c,!0),d+=c,u++;else{var p=0===u?1:d/u;s.setInt16(f,p,!0)}i=new Int16Array(l)}return i}}],a.WMSParser={},a.TMSParser={},a.WMTSParser={},a.parser=function(e){var t;switch(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),e.service){case"TMS":t=a.TMSParser.generate(e);break;case"WMTS":t=a.WMTSParser.generate(e);break;default:t=a.WMSParser.generate(e)}return t},a.WMSParser.generate=function(e){var t;if(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),Cesium.defined(e.url)){var n=e.url,i=n.lastIndexOf("?");i>-1&&(n=n.substring(0,i));var r=n+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";Cesium.defined(e.proxy)&&(r=e.proxy.getURL(r)),t=Cesium.when(o(r),function(t){return a.WMSParser.getMetaDatafromXML(t,e)})}else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.WMSParser.getMetaDatafromXML(e.xml,e)}return t},a.WMSParser.getMetaDatafromXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");if(!Cesium.defined(t.layerName))throw new Cesium.DeveloperError("description.layerName is required.");var n={},o=t.layerName,i=Cesium.defaultValue(t.maxLevel,11),r=void 0;n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var s={width:65,height:65},c=void 0;n.formatImage=t.formatImage,n.formatArray=t.formatArray,n.tilingScheme=void 0;var u=void 0,d=void 0;n.ready=!1,n.levelZeroMaximumGeometricError=void 0,n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);var f=t.styleName;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName);var p=e.querySelector("[version]");null!==p&&(r=p.getAttribute("version"),d=/^1\.[3-9]\./.test(r));var g=e.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=g.indexOf("?");m>-1&&(g=g.substring(0,m)),Cesium.defined(t.proxy)&&(g=t.proxy.getURL(g));var v=e.querySelectorAll("Request>GetMap>Format");if(!Cesium.defined(n.formatImage))for(var h=0;h<v.length&&!Cesium.defined(n.formatArray);h++){var y=a.FormatArray.filter(function(e){return e.format===v[h].textContent});y.length>0&&(n.formatArray=y[0])}Cesium.defined(n.formatArray)&&"string"==typeof n.formatArray.format&&"function"==typeof n.formatArray.postProcessArray?n.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:1e4}:n.formatArray=void 0;for(var h=0;h<v.length&&!Cesium.defined(n.formatImage);h++){var y=a.FormatImage.filter(function(e){return e.format===v[h].textContent});y.length>0&&(n.formatImage=y[0])}Cesium.defined(n.formatImage)&&"string"==typeof n.formatImage.format?n.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:1e4}:n.formatImage=void 0;for(var _,b=e.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),w=0;w<b.length&&!Cesium.defined(_);w++)if(b[w].querySelector("Name").textContent===o){_=b[w];var C=_.getAttribute("fixedHeight"),M=_.getAttribute("fixedWidth");Cesium.defined(C)&&(C=parseInt(C),n.heightMapHeight=C>0&&C<n.heightMapHeight?C:n.heightMapHeight,s.height=C>0?C:s.height),Cesium.defined(M)&&(M=parseInt(M),n.heightMapWidth=M>0&&M<n.heightMapWidth?M:n.heightMapWidth,s.width=M>0?M:s.width)}if(Cesium.defined(_)&&Cesium.defined(r)){for(var S=!1,E=0;E<a.CRS.length&&!S;E++){var L=a.CRS[E],O=L.name,x=_.querySelector("BoundingBox[SRS='"+O+"'],BoundingBox[CRS='"+O+"']");if(null!==x){c=O,u=L.firstAxeIsLatitude,n.tilingScheme=new L.tilingScheme({ellipsoid:L.ellipsoid});var I,T,R,G;u&&d?(I=parseFloat(x.getAttribute("miny")),T=parseFloat(x.getAttribute("maxy")),R=parseFloat(x.getAttribute("minx")),G=parseFloat(x.getAttribute("maxx"))):(I=parseFloat(x.getAttribute("minx")),T=parseFloat(x.getAttribute("maxx")),R=parseFloat(x.getAttribute("miny")),G=parseFloat(x.getAttribute("maxy")));var A=new Cesium.Rectangle(I,R,T,G);n.getTileDataAvailable=function(e,t,a){var o=!1,r=n.tilingScheme.tileXYToNativeRectangle(e,t,a);if(a<i){var s=l(A,r);o=Cesium.defined(s)}return o},S=!0}}if(Cesium.defined(f)){for(var V=_.querySelectorAll("Style>Name"),P=!1,F=0;F<V.length&&!P;F++)f===V[F].textContent&&(P=!0);P||(f=void 0)}for(var z=e.querySelectorAll("VendorSpecificCapabilities>TileSet"),k=!1,B=0;B<z.length&&!k;B++){var N=null!==z[B].querySelector("BoundingBox[SRS='"+c+"'],BoundingBox[CRS='"+c+"']"),D=z[B].querySelector("Layers").textContent===o;D&&N&&(s.width=parseInt(z[B].querySelector("Width").textContent),s.height=parseInt(z[B].querySelector("Height").textContent),k=!0)}n.ready=S&&(Cesium.defined(n.formatImage)||Cesium.defined(n.formatArray))&&Cesium.defined(r)}if(n.ready){var j=g+"?SERVICE=WMS&REQUEST=GetMap&layers="+o+"&version="+r+"&bbox=";if(j+=d&&u?"{south},{west},{north},{east}":"{west},{south},{east},{north}",j+="&crs="+c+"&srs="+c,n.formatImage){var U=j+"&format="+n.formatImage.format+"&width="+s.width+"&height="+s.height;Cesium.defined(f)&&(U+="&styles="+f+"&style="+f),n.URLtemplateImage=function(){return U},n.imageSize=s}if(n.formatArray){var W=j+"&format="+n.formatArray.format+"&width="+n.heightMapWidth+"&height="+n.heightMapHeight;n.URLtemplateArray=function(){return W}}}return n},a.TMSParser.generate=function(e){var t;if(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),Cesium.defined(e.url))t=o(e.url).then(function(t){return a.TMSParser.parseXML(t,e)});else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.TMSParser.parseXML(e.xml,e)}return t},a.TMSParser.parseXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");var n;if(null!=e.querySelector("TileMapService")){if(!Cesium.defined(t.layerName))throw new Cesium.DeveloperError("layerName is required.");var i=[].slice.apply(e.querySelectorAll("TileMap[title='"+t.layerName+"']")),r=i.map(function(e){var n=e.getAttribute("href");return Cesium.defined(t.proxy)&&(n=t.proxy.getURL(n)),Cesium.when(o(n),function(e){return a.TMSParser.getMetaDatafromXML(e,t)})}),l=Cesium.when.all(r).then(function(e){for(var t,n=0;n<e.length&&!Cesium.defined(t);n++)Cesium.defined(e[n])&&(t=e[n]);return t});n=l.then(function(e){return e})}else n=a.TMSParser.getMetaDatafromXML(e,t);return n},a.TMSParser.getMetaDatafromXML=function(e,t){var n={};n.ready=!1,n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var o=Cesium.defaultValue(t.maxLevel,11),i=t.proxy;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName),n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);var r=e.querySelector("SRS").textContent,s=a.CRS.filter(function(e){return e.name===r});s.length>0&&(n.tilingScheme=new s[0].tilingScheme({ellipsoid:s[0].ellipsoid}));var c=e.querySelector("TileFormat"),u=a.FormatImage.filter(function(e){return e.extension==c.getAttribute("extension")});u.length>0&&(n.formatImage=u[0],n.imageSize={},n.imageSize.width=parseInt(c.getAttribute("width")),n.imageSize.height=parseInt(c.getAttribute("height")));var d=[].slice.call(e.querySelectorAll("TileSets>TileSet")),f=[];if(Cesium.defined(n.formatImage)&&(f=d.map(function(e){var t=e.getAttribute("href")+"/{x}/{tmsY}."+n.formatImage.extension;Cesium.defined(i)&&(t=i.getURL(t));var a=parseInt(e.getAttribute("order"));return{url:t,level:a}}),f.sort(function(e,t){return e.level-t.level}),f.length>0&&(n.tileSets=f)),Cesium.defined(n.tileSets)&&Cesium.defined(n.formatImage)&&Cesium.defined(n.tilingScheme)){n.URLtemplateImage=function(e,t,n){var a="";return n<f.length&&(a=f[n].url),a};var p=e.querySelector("BoundingBox"),g=parseFloat(p.getAttribute("miny")),m=parseFloat(p.getAttribute("maxy")),v=parseFloat(p.getAttribute("minx")),h=parseFloat(p.getAttribute("maxx")),y=new Cesium.Rectangle(v,g,h,m);n.getTileDataAvailable=function(e,t,a){var i=n.tilingScheme.tileXYToNativeRectangle(e,t,a),r=l(y,i);return Cesium.defined(r)&&a<o&&a<f.length},n.ready=!0}else n=void 0;return n},a.WMTSParser.generate=function(e){e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT);var t;if(Cesium.defined(e.url)){var n=e.url,i=n.lastIndexOf("?");i>-1&&(n=n.substring(0,i));var r=n+"?REQUEST=GetCapabilities";Cesium.defined(e.proxy)&&(r=e.proxy.getURL(r)),t=o(r).then(function(t){return a.WMTSParser.getMetaDatafromXML(t,e)})}else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.WMTSParser.getMetaDatafromXML(e.xml,e)}return t},a.WMTSParser.getMetaDatafromXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");var n={},o=t.layerName;n.ready=!1,n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var i=Cesium.defaultValue(t.maxLevel,12),r=t.proxy,l=t.styleName;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName),n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);for(var s,c,u,d,f=[],p=[].slice.call(e.querySelectorAll('Operation[name="GetTile"] HTTP Get')),g=p.map(function(e){var t,n=e.querySelector("Value").textContent;return"KVP"===n&&(t={node:e,type:"KVP"}),"RESTful"===n&&(t={node:e,type:"RESTful"}),t}).filter(function(e){return Cesium.defined(e)}),m=0;m<g.length;m++){var v=g[m];"RESTful"!==v.type||Cesium.defined(u)||(u=v.node.getAttribute("xlink:href"),Cesium.defined(r)&&(u=r.getURL(u))),"KVP"!==v.type||Cesium.defined(c)||(c=v.node.getAttribute("xlink:href"),Cesium.defined(r)&&(c=r.getURL(c)))}for(var h,y=e.querySelectorAll("Contents>Layer>Identifier"),m=0;m<y.length&&!Cesium.defined(h);m++)o===y[m].textContent&&(h=y[m].parentNode);if(Cesium.defined(h)){for(var _,b,w=h.querySelectorAll("Style"),m=0;m<w.length;m++){var C=w[m].querySelector("Identifier").textContent;null!=w[m].getAttribute("isDefault")&&(_=C),C===l&&(b=C)}Cesium.defined(l)&&l==b||(l=Cesium.defaultValue(_,""));for(var M=[].slice.call(h.querySelectorAll("Format")),S=0;S<a.FormatImage.length&&!Cesium.defined(d);S++){var E=M.filter(function(e){return e.textContent===a.FormatImage[S].format});E.length>0&&(d=a.FormatImage[S])}f=h.querySelectorAll("TileMatrixSetLink")}for(var L=[].slice.call(e.querySelectorAll("TileMatrixSet>Identifier")),O=0;O<f.length&&!n.ready;O++){for(var x,I,T=f[O],R=T.querySelector("TileMatrixSet").textContent,m=0;m<L.length&&!Cesium.defined(x);m++)L[m].textContent===R&&(x=L[m].parentNode);for(var G=x.querySelector("SupportedCRS").textContent,A=0;A<a.CRS.length&&!Cesium.defined(I);A++)a.CRS[A].SupportedCRS===G&&(I=a.CRS[A]);if(Cesium.defined(I)){var V,P=[].slice.call(x.querySelectorAll("TileMatrix"));V=P.map(function(e){var t=e.querySelector("Identifier").textContent,n=parseInt(e.querySelector("MatrixWidth").textContent),a=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),i=parseInt(e.querySelector("TileHeight").textContent),r=parseFloat(e.querySelector("ScaleDenominator").textContent);return{id:t,maxWidth:n,maxHeight:a,scaleDenominator:r,complete:!1,tileWidth:o,tileHeight:i}}),V.sort(function(e,t){return t.scaleDenominator-e.scaleDenominator}),listTileMatrixLimits=T.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var F=0;F<V.length;F++)for(var z=V[F],k=0;k<listTileMatrixLimits.length;k++){var B=listTileMatrixLimits[k];z.id===B.querySelector("TileMatrix").textContent&&(z.minTileRow=parseInt(B.querySelector("MinTileRow").textContent),z.maxTileRow=parseInt(B.querySelector("MaxTileRow").textContent),z.minTileCol=parseInt(B.querySelector("MinTileCol").textContent),z.maxTileCol=parseInt(B.querySelector("MaxTileCol").textContent),z.complete=!0,V[F]=z)}if(V.length>0){n.tilingScheme=new I.tilingScheme({ellipsoid:I.ellipsoid,numberOfLevelZeroTilesX:V[0].maxWidth,numberOfLevelZeroTilesY:V[0].maxHeight});var N=h.querySelector("ResourceURL[format='"+d.format+"']");if(null!=N?s=N.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",l).replace("{TileMatrixSet}",R).replace("{layer}",o).replace("{infoFormatExtension}",d.extension):Cesium.defined(c)&&(s=c+"service=WMTS&request=GetTile&version=1.0.0&layer="+o+"&style="+l+"&format="+d.format+"&TileMatrixSet="+R+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),Cesium.defined(s)){n.getTileDataAvailable=function(e,t,n){var a=!1;if(n<i&&n<V.length){var o=V[n];a=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return a},n.URLtemplateImage=function(e,t,a){var o="";if(n.getTileDataAvailable(e,t,a)){var i=V[a];o=s.replace("{TileMatrix}",i.id)}return o};var D={width:V[0].tileWidth,height:V[0].tileHeight},j=V.filter(function(e){return e.tileWidth!=D.width||e.tileHeight!=D.height});0==j.length&&(n.imageSize=D),n.ready=!0}}}}return n};var s=function(t){if(!Cesium.defined(t))throw new Cesium.DeveloperError("description is required.");var n=new Cesium.Event,o=t.credit;"string"==typeof o&&(o=new Cesium.Credit(o)),this.ready=!1,this._readyPromise=Cesium.when.defer(),Cesium.defineProperties(this,{errorEvent:{get:function(){return n}},credit:{get:function(){return o}},hasVertexNormals:{get:function(){return!1}},readyPromise:{get:function(){return this._readyPromise.promise}}});var i=a.parser(t);e(i,this)};s.arrayToHeightmapTerrainData=function(e,t,n,a,o,i){"number"==typeof n&&(n={width:n,height:n});var r=a.postProcessArray(e,n,t.highest,t.lowest,t.offset);if(!Cesium.defined(r))throw new Cesium.DeveloperError("no good size");var l={buffer:r,width:n.width,height:n.height,childTileMask:i,structure:a.terrainDataStructure};if(o){for(var s=new Uint8Array(r.length),c=0;c<r.length;c++)r[c]<=0&&(s[c]=255);l.waterMask=s}return new Cesium.HeightmapTerrainData(l)},s.imageToHeightmapTerrainData=function(e,t,n,a,o,i){"number"==typeof n&&(n={width:n,height:n});for(var r=Cesium.getImagePixels(e,n.width,n.height),l=new Uint8Array(r.length/4),s=new Int16Array(r.length/4),c=0,u=0,d=0;d<r.length;d+=4){var f=r[d],p=r[d+1],g=r[d+2]>128,m=(f<<8|p)-t.offset-32768;m>t.lowest&&m<t.highest&&(g||i)?(s[d/4]=m,u+=m,c++):s[d/4]=0==c?0:u/c}var v={buffer:s,width:n.width,height:n.height,childTileMask:o,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(a){for(var l=new Uint8Array(s.length),d=0;d<s.length;d++)s[d]<=0&&(l[d]=255);v.waterMask=l}return new Cesium.HeightmapTerrainData(v)},Cesium.GeoserverTerrainProvider=s}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),i=(a(o),n(30)),r=a(i),l=n(83),s=(a(l),n(5)),c=(a(s),n(76)),u=a(c),d=n(52),f=a(d),p=n(37),g=a(p),m=n(36),v=a(m),h=n(1),y=a(h),_=n(6),b=a(_),w=n(147),C=a(w),M=n(146),S=a(M),E=n(329),L=a(E),O=n(336),x=a(O),I=n(50),T=a(I),R=n(7),G=a(R),A=n(149),V=(a(A),n(634)),P=a(V);y.default.component("gv-conferma-dettaglio",P.default),t.default={_lastZIndex:21,debug:!1,containerId:"gv-container",idMap:null,title:null,findOptions:null,zoomTo:null,geoserverUrl:null,application:{},baseLayers:[{type:"ESRI_IMAGERY",visible:!0}],activeBaseLayer:"ESRI_IMAGERY",maps:[],hilitedLayer:[],init:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o,i;return g.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("Opzioni di inizializzazione non impostate!");case 2:if(t.debug=e.debug,t.idMap=e.idMap,t.findOptions=e.findOptions,t.zoomTo=e.zoomTo,t.disableTMS=e.disableTMS,t.disableCache=e.disableCache,t.flagGeoserver=e.flagGeoserver,t.geoserverUrl=e.geoserverUrl,t.agAppMap=e.agAppMapList,e.application&&(t.application=e.application),e.containerId&&(t.containerId=e.containerId),t.application.layout=e.application&&e.application.layout?e.application.layout:{},e.application&&(t.application.proxy=e.application.proxy||b.default.DEFAULT_PROXY),e.application&&e.application.layout&&e.application.layout.title&&(t.title=e.application.layout.title),t.setBaseLayers(e.baseLayers),t.initLoadedMaps=0,t.initLoadingMaps=1,!e.agAppMapList){n.next=26;break}return n.next=22,(0,L.default)(e.agAppMapList);case 22:a=n.sent,t.agAppMapList=a,o=a.map(function(e){return e.id}),t.loadMaps(o);case 26:e.idMap&&(i=e.idMap.toString().split(","),t.loadMaps(i)),e.idMap||e.agAppMap||GV.eventBus.$on("gv-app-mounted",function(n){e.maps.forEach(function(e){t.addMapConfig(e,null)}),t.application&&t.application.callback&&t.application.callback(n)}),GV.eventBus.$on("map-zoom",function(e){var n=t.getLayersConfig();n.forEach(function(e){if(t.setLayerAttribute(e.name,"inRange",GV.app.map.layerInRange(e)),"openlayers"===GV.app.map.type){var n=GV.app.map.getLayerByName(e.name),a=e.visible&&e.inRange;n.setVisible(a)}})});case 29:case"end":return n.stop()}},n,t)}))()},loadMaps:function(e){var t=this;this.initLoadingMaps=e.length,e.forEach(function(e){t.addRlMap(e,!0,!1)}),GV.eventBus.$on("gv-config-init",function(e){t.application&&t.application.callback&&t.application.callback(e)})},setBaseLayers:function(e){var t=this;this.baseLayers=[],e.forEach(function(e){e.name=e.type,e.label=b.default.BASE_LAYERS[e.type].label,e.icon=b.default.BASE_LAYERS[e.type].icon,t.baseLayers.push(e),e.visible&&(t.activeBaseLayer=e.name)})},changeBaseLayers:function(e){var t=this;GV.app.map.removeLayer(GV.app.map.activeBaseLayer),this.baseLayers.splice(0),e.forEach(function(e){e.name=e.type,e.label=b.default.BASE_LAYERS[e.type].label,e.icon=b.default.BASE_LAYERS[e.type].icon,t.baseLayers.push(e),e.visible&&(t.activeBaseLayer=e.name,GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer=e.name))}),GV.app.map.loadBaseLayers()},setLayerconfig:function(e,t){e.extent_3857=t.extent_3857;var n=e.minScale?" da 1:"+e.minScale:" fino",a=e.maxScale?" a 1:"+e.maxScale:"";return e.scaleRangeLabel="Visibile"+n+a,e.minScale=0===e.minScale?591657550:e.minScale,e.inRange=!GV.app||!GV.app.map||GV.app.map.layerInRange(e),"undefined"==typeof e.opacity&&(e.opacity=1),e.opacityBase100=100*e.opacity,e.zIndex=this._lastZIndex++,this.setLayerType(e),this.setLayerCache(e),e},setLayerType:function(e){this.disableTMS&&e.idMap==this.idMap&&"TMS"===e.type&&(e.type="WMS")},setLayerCache:function(e){this.disableCache&&e.idMap==this.idMap&&"WMS"===e.type&&(e.cacheMinZoomLevel=null)},addMapConfig:function(e,t){var n=this;if(e.ancillaryMaps&&e.ancillaryMaps.forEach(function(t){t.extent_3857=null,n.addMapConfig(t,e)}),e.layers=e.layers.filter(function(e){return!e.flagBaseVectorLayer}),e.layers.forEach(function(t){n.setLayerconfig(t,e)}),e.layers.reverse(),e.addLayerConfig&&this.getMapConfig(e.id))e.layers.forEach(function(t){n.getMapConfig(e.id).layers.push(t)});else{if(this.getMapConfig(e.id))return;t&&(this.application.layout.legend.options.hideAncillaryMapLegend||t.hideAncillaryMapLegend)?e.showLayersInLegend=!1:e.showLayersInLegend=!0,this.maps.unshift(e)}console.log("EMETTO config-add-map"),GV.eventBus.$emit("config-add-map",{config:e})},setLayerAttribute:function(e,t,n){this.maps.forEach(function(a){var o=a.layers;o.forEach(function(a){a.name===e&&(a[t]=n)})})},removeMap:function(e){var t=this.getMapConfig(e);if(t){GV.eventBus.$emit("config-remove-map",{config:t});var n=this.maps.findIndex(function(t){return t.id===e});n>-1&&this.maps.splice(n,1)}},removeLayer:function(e){var t=this;this.maps.forEach(function(n){var a=-1;n.layers.forEach(function(t,n){t.name===e&&(a=n)}),a>-1&&n.layers.splice(a,1),0===n.layers.length&&t.removeMap(n.id)}),GV.eventBus.$emit("config-remove-layer",{config:e})},addLayerToMap:function(e,t){var n=this,a=(0,f.default)({},e);this.maps.forEach(function(e){if(e.id===t){var o=n.getMapConfig(t);n.isLayerInMapConfig(a,o)||(n.setLayerconfig(a,o),e.layers.unshift(a))}}),GV.eventBus.$emit("config-add-layer",{config:a})},isLayerInMapConfig:function(e,t){var n=t.layers.filter(function(t){return t.name===e.name});return n.length>0},setFlagVisible:function(e){if(this.agAppMap){var t=this.agAppMapList.filter(function(t){return t.id===e.id.toString()});t&&t[0]&&!t[0].visible&&e.layers.forEach(function(e){e.visible=!1})}},addRlMap:function(e,t,n){var a=this;return(0,v.default)(g.default.mark(function o(){var i,r,l;return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.getMapConfig(e)){o.next=2;break}return o.abrupt("return",a.getMapConfig(e));case 2:return o.prev=2,o.next=5,(0,C.default)(e);case 5:if(i=o.sent,i.data.success){o.next=8;break}throw new Error("Errore Caricamento Mappa: "+i.data.message);case 8:if(i.data.data){o.next=10;break}throw new Error("Errore Caricamento Mappa: configurazione non trovata");case 10:return b.default.SYS_MANUTENZIONE_DOWNLOAD=i.data.sistema&&i.data.sistema.manutenzioneDownload,r=i.data.data,r.fileDettaglio&&!n?(l="Condizioni di utilizzo",(0,G.default)({elId:"gv-conferma-dettaglio",containerId:a.containerId,vm:new y.default({template:'<gv-conferma-dettaglio idMap="'+e+'" label="'+l+'" link="'+r.fileDettaglio+'"></gv-conferma-dettaglio>'})})):a.loadConfig(r,t),o.abrupt("return",r);case 16:o.prev=16,o.t0=o.catch(2),console.error(o.t0),u.default.error({title:"Attenzione",type:"error",duration:5e3,offset:70,position:"bottom-left",message:o.t0.message});case 20:case"end":return o.stop()}},o,a,[[2,16]])}))()},loadConfig:function(e,t){this.setFlagVisible(e),this.addMapConfig(e,null),GV.app&&GV.app.map&&e.type&&"R"==e.type&&t&&this.getBaseLayerConfig("BLANK")&&(GV.app.map.changeBaseLayer("BLANK"),GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer="BLANK")),e.baseLayers&&e.baseLayers.length>0&&this.changeBaseLayers(e.baseLayers),e.activeBaseLayer&&(GV.app.map.changeBaseLayer(e.activeBaseLayer),GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer=e.activeBaseLayer)),GV.config.findOptions&&GV.app.map.find(GV.config.findOptions),GV.config.zoomTo&&this.zoomToCoord(GV.config.zoomTo),this.initLoadedMaps=this.initLoadedMaps+1,this.initLoadingMaps===this.initLoadedMaps&&GV.eventBus.$emit("gv-config-init",GV.app)},zoomToCoord:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o,i,l,s,c;return g.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.coord){t.next=3;break}return console.error("Parametro COORD non impostato"),t.abrupt("return");case 3:if(e.epsg||(e.epsg=3003),e.zoom||(e.zoom=16),a=e.coord.split(",")[0],o=e.coord.split(",")[1],4326===e.epsg||4258===e.epsg){t.next=16;break}return i=r.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"}),t.next=11,(0,T.default)(e.epsg,"4326",a,o);case 11:l=t.sent,l.data.points&&(s=l.data.points[0].split(",")[0],c=l.data.points[0].split(",")[1],GV.app.map.addMarker({location:[c,s],zoomLevel:e.zoom})),i.close(),t.next=17;break;case 16:GV.app.map.addMarker({location:[o,a],zoomLevel:e.zoom});case 17:case"end":return t.stop()}},n,t)}))()},loadCatalog:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o;return g.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,S.default)(e);case 2:return a=n.sent,t.catalog=t.catalogFull=a.children,n.next=6,(0,x.default)();case 6:o=n.sent,t.enti=o,e.showMapCatalogPanel&&(0,G.default)({elId:"gv-map-catalog-panel",toggleEl:!1,vm:new y.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})});case 9:case"end":return n.stop()}},n,t)}))()},getLayersConfig:function(e){var t=[];return this.maps.forEach(function(n){if(e){var a=n.layers.filter(e);a.forEach(function(e){t.push(e)})}else n.layers.forEach(function(e){t.push(e)})}),t},getLayersNameByMapId:function(e){if(!e)return console.error('Parametro "idMap" non definito'),null;var t=[];return this.maps.forEach(function(n){n.id.toString()===e&&n.layers.forEach(function(n){n.idMap.toString()===e&&t.push(n.name)})}),t},getLayerConfig:function(e){var t=null;return this.maps.forEach(function(n){n.layers.forEach(function(n){n.name===e&&(t=n)})}),t},getBaseLayerConfig:function(e){var t=this.baseLayers.find(function(t){return t.name===e});return t},getMapConfig:function(e){return this.maps.find(function(t){return t.id==e})},getToolOptions:function(e){var t=null;return this.application.layout&&this.application.layout.tools?(this.application.layout.tools.forEach(function(n){n.name===e&&n.options&&(t=n.options)}),t):null},getButtonOptions:function(e){var t=null;return this.application.layout&&this.application.layout.toolbar?(this.application.layout.toolbar.items.forEach(function(n){n.name===e&&n.options&&(t=n.options)}),t):null},getActiveBaseLayer:function(){var e=null;return this.baseLayers.forEach(function(t){t.visible&&(e=t)}),e},setActiveBaseLayer:function(e){this.baseLayers.forEach(function(t){t.visible=t.name===e})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s),u={id:"draw",active:!1,latlng:null,activate:function(){GV.log("GV.controls.draw.activate"),GV.eventBus.$emit("gv-control-draw-activate",this),this.active=!0,this.openPanel()},deactivate:function(){GV.log("GV.controls.draw.deactivate"),GV.eventBus.$emit("gv-control-draw-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){"openlayers"===GV.app.map.type?c.default.component("gv-draw-panel",function(){return new i.default(function(e){n.e(30,function(t){e(n(640))})})}):c.default.component("gv-draw-panel",function(){return new i.default(function(e){n.e(20,function(t){e(n(639))})})}),(0,l.default)({elId:"gv-draw-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-draw-panel></gv-draw-panel>"})})},closePanel:function(){document.getElementById("gv-draw-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-selezione-territoriale-panel",function(){return new i.default(function(e){n.e(19,function(t){e(n(642))})})});var u={id:"fototeca-selezione-territoriale",active:!1,latlng:null,activate:function(){GV.log("GV.controls.fototeca-selezione-territoriale.activate"),this.openPanel(),GV.eventBus.$emit("gv-control-fototeca-selezione-territoriale-activate",this),this.active=!0},deactivate:function(){GV.log("GV.controls.fototeca-selezione-territoriale.deactivate"),GV.eventBus.$emit("gv-control-fototeca-selezione-territoriale-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-fototeca-selezione-territoriale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-selezione-territoriale-panel></gv-fototeca-selezione-territoriale-panel>"})})},closePanel:function(){document.getElementById("gv-fototeca-selezione-territoriale-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-genio-seleziona-particelle-panel",function(){return new i.default(function(e){n.e(17,function(t){e(n(647))})})});var u={id:"genio-seleziona-particelle",active:!1,latlng:null,activate:function(){GV.log("GV.controls.genio-seleziona-particelle.activate"),this.openPanel(),GV.eventBus.$emit("gv-control-genio-seleziona-particelle-activate",this),this.active=!0},deactivate:function(){GV.log("GV.controls.genio-seleziona-particelle.deactivate"),GV.eventBus.$emit("gv-control-genio-seleziona-particelle-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-genio-seleziona-particelle-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-genio-seleziona-particelle-panel></gv-genio-seleziona-particelle-panel>"})})},closePanel:function(){document.getElementById("gv-genio-seleziona-particelle-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s),u={id:"coordinate",active:!1,latlng:null,activate:function(){GV.log("GV.controls.measure.activate"),GV.eventBus.$emit("gv-control-measure-activate",this),this.active=!0,this.openPanel()},deactivate:function(){GV.log("GV.controls.measure.deactivate"),GV.eventBus.$emit("gv-control-measure-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){"openlayers"===GV.app.map.type?c.default.component("gv-measure-panel",function(){return new i.default(function(e){n.e(12,function(t){e(n(672))})})}):c.default.component("gv-measure-panel",function(){return new i.default(function(e){n.e(16,function(t){e(n(671))})})}),(0,l.default)({elId:"gv-measure-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-measure-panel></gv-measure-panel>"})})},closePanel:function(){document.getElementById("gv-measure-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=a(o);i.default.directive("draggable",{inserted:function(e,t,n){var a=e.id.replace("-title","");e.className+=" draggable",e.setAttribute("draggable","true"),e.setAttribute("ondragstart","GV.dragbox.start(event)"),e.setAttribute("ondragend","GV.dragbox.end(event,'"+a+"')")}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=void 0;if(t){var a=t.geomField||"location",o=e.hits.hits;n={type:"FeatureCollection",totalFeatures:e.hits.total,features:[],crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::4326"}}},o.forEach(function(e){var t=e._source[a];n.features.push({type:"Feature",id:e._id,geometry:{type:"Point",coordinates:t},geometry_name:"GEOMETRY",properties:e._source})})}else n="string"==typeof e?JSON.parse(e):e;return n}function i(e){if(x[e.type]){var t=x[e.type](e);return t.legend=e.legend,t.config=e,t}throw new Error("Layer di tipo "+e.type+" non gestito")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=n(53),l=a(r),s=n(52),c=a(s),u=n(6),d=a(u),f=n(370),p=a(f),g=n(156),m=a(g),v=n(158),h=a(v),y=n(51),_=a(y),b=n(153),w=a(b),C=n(624),M=a(C),S=n(110),E=a(S),O='<a href="https://www.esri.com/">Esri</a>',x={BLANK:function(e){return e.legend={label:"Sfondo Bianco"},L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{opacity:0,maxZoom:20})},OSM:function(e){return e.legend={label:"OpenStreetMap"},L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20})},TILESERVER_GL:function(e){var t=e;return L.tileLayer("https://geoservizi{s}.regione.liguria.it/styles/"+t+"/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',minZoom:0,maxZoom:20,subdomains:["1","2"]})},TS_STREETS:function(){return this.TILESERVER_GL("streets")},TS_DARK_MATTER:function(){
return this.TILESERVER_GL("dark-matter")},TS_POSITRON:function(){return this.TILESERVER_GL("positron")},TS_MONOCHROME:function(){return this.TILESERVER_GL("monochrome")},TS_TONER:function(){return this.TILESERVER_GL("toner")},ESRI_IMAGERY:function(e){e.legend={label:"ESRI Imagery"},e.name=e.type;var t="DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_STREETS:function(e){e.legend={label:"ESRI Streets"},e.name=e.type;var t="USGS, NOAA";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_TOPOGRAPHIC:function(e){e.legend={label:"ESRI Topographic"},e.name=e.type;var t="USGS, NOAA";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_GRAY:function(e){e.legend={label:"ESRI Gray"},e.name=e.type;var t="HERE, DeLorme, MapmyIndia, OpenStreetMap contributors";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:16})},ESRI_DARKGRAY:function(e){e.legend={label:"ESRI Dark Gray"},e.name=e.type;var t="HERE, DeLorme, MapmyIndia, OpenStreetMap contributors";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:16})},MAPBOX:function(e){var t=e.mapboxConfig.userName,n=e.mapboxConfig.accessToken,a=e.mapboxConfig.style;return L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_VIABILITA:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="cjo442ih3407m2slfdwc1hib5",o="Carta della Viabilità";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_MONOCHROME:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="ckgj8eqz80t8q19theln5gwrk",o="Mapbox Monochrome";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_STREETS:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="ckgj8f25p0o6y19jxk0ykap41",o="Mapbox Streets";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_VIABILITA_SATELLITARE:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="cjo43w54x00di2spieg5itsgf",o="Carta ibrida";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},STAMEN_TERRAIN:function(e){return e.legend={label:"Stamen Terrain"},L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="https://stamen.com">Stamen Design</a>, <a href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"})},STAMEN_TONER_LIGHT:function(e){return e.legend={label:"Stamen Toner Light"},L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="https://stamen.com">Stamen Design</a>, <a href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"})},RL_CARTE_BASE_NC25:function(){return this.WMS({visible:!1,name:"L7273",cacheMinZoomLevel:12,maxScale:1e4,minScale:2e5,wmsParams:{name:"L7273",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M2125/wms?"},zIndex:1,attribution:"Regione Liguria"})},RL_CARTE_BASE:function(){return this.WMS({visible:!1,name:"CARTE_DI_BASE",cacheMinZoomLevel:8,wmsParams:{name:"CARTE_DI_BASE",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Regione Liguria"})},RL_ORTOFOTO_2019:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L8256",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Ortofoto 20cm/ ©2019 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2016:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L5802",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Ortofoto 20cm/ ©2016 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2013:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L4419",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1661/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2010:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L3861",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1505/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2007:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L3463",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1361/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2000:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L48",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M48/wms?"},zIndex:1})},TMS:function(e){var t=e.tmsParams.url.replace("/tms/","/tiles/"),n=e.tmsParams.name,a=e.attribution,o=t+"/1.0.0/"+n+"/{z}/{x}/{y}.png",i=e.maxScale?(0,h.default)(e.maxScale)-1:20,r=L.tileLayer(o,{minZoom:1,maxZoom:i,attribution:a});return r.setZIndex(e.zIndex),r.name=n.replace("/webmercator",""),r},WMS:function(e){var t=e.name,n=e.cacheMinZoomLevel,a=e.minScale,o=e.maxScale,i=e.wmsParams,r=(e.flagGeoserver,e.zIndex);GV.log("layerFactory - Creazione Layer WMS: "+t);var l=null,s=!!n,u=i.format,f=e.opacity||1;e.minZoom=a?(0,h.default)(a):8,e.maxZoom=o?(0,h.default)(o)-1:20;var p={subdomains:["1","2"],transparent:!0,layers:i.name,format:u,styles:i.styles||"",opacity:f,minZoom:e.minZoom,maxZoom:e.maxZoom,bounds:L.latLngBounds(L.latLng(d.default.MAX_BOUNDS.X_MIN,d.default.MAX_BOUNDS.Y_MIN),L.latLng(d.default.MAX_BOUNDS.X_MAX,d.default.MAX_BOUNDS.Y_MAX)),client:"GV2"};i.cql_filter&&(p.cql_filter=i.cql_filter),i.sld&&(p.sld=i.sld);var g=i.url;if(s){d.default.USE_SUBDOMAINS&&g.indexOf("geoservizi.regione.liguria.it")>0&&(g=g.replace("geoservizi","geoservizi{s}"));var m=g.indexOf("geoservizi.datasiel.net")>0?e.cacheVersionTest:e.cacheVersion;(0,c.default)(p,{tiled:!0,TILESORIGIN:"-20037508,-20037508",tileSize:256,CACHE_VERSION:m}),l=L.tileLayer.wms(g,p),l.on("tileerror",function(e){(0,w.default)(e.tile.currentSrc).then(function(e){console.error("ERRORE WMS"),e&&e.ServiceExceptionReport&&console.log(e.ServiceExceptionReport.ServiceException)}).catch(function(e){return console.error(e)})})}else(0,c.default)(p,{tiled:!1,pane:"tilePane"}),l=L.nonTiledLayer.wms(g,p),l.on("error",function(e){(0,w.default)(e.target.url).then(function(e){console.error("ERRORE WMS"),console.log(e.ServiceExceptionReport.ServiceException)}).catch(function(e){return console.error(e)})});return l.setZIndex(r),l.type="WMS",l.name=t,l},JSON:function(e){function t(e){var t=[];(0,l.default)(e.feature.properties).forEach(function(n){if("stroke"!==n&&"stroke-opacity"!==n&&"stroke-width"!==n&&"fill"!==n&&"fill-opacity"!==n){var a=e.feature.properties[n];("string"==typeof a||a instanceof String||"number"==typeof a)&&t.push({key:n,value:a})}});var n="<div><b>"+C.label+"</b><br><br></div>";return n+="<div>",t.forEach(function(e){n+=e.key+":"+e.value+"<br>"}),n+="</div>"}var n=e.data,a=e.url,i=e.name,r=e.wfsParams,s=e.esParams,u=e.classes,d=e.style,f=e.pointToLayer,g=e.tooltip,v=e.popup,h=e.basePopup,y=e.customPopup,b=e.cluster,w=e.subType,C=e.legend,S=e.onEachFeature,O=e.onFeatureSelect,x=e.filter,I=null,T={};u&&u.length>0&&("POINT"===e.geomSubType?T.pointToLayer=function(e,t){var n;if(u.forEach(function(t){t.filter&&t.filter.key&&t.filter.value?e.properties[t.filter.key]===t.filter.value&&(n=t.style):n=t.style}),n.iconUrl){var a;switch(n.iconUrl){case"default":a=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});break;case"default-small":a=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[12,20],iconAnchor:[6,10],popupAnchor:[0,-20]});break;default:a=L.icon({iconUrl:n.iconUrl,iconSize:n.iconSize,iconAnchor:n.iconAnchor,popupAnchor:n.popupAnchor})}return L.marker(t,{icon:a})}return L.circleMarker(t,n)}:T.style=function(e){var t;return u.forEach(function(n){n.filter&&n.filter.key&&n.filter.value?e.properties[n.filter.key]===n.filter.value&&(t=n.style):t=n.style}),t},T.filter=function(e){var t=!1;return u.forEach(function(n){n.filter?n.filter.key&&n.filter.value&&e.properties[n.filter.key]===n.filter.value&&(t=!0):t=!0}),t}),d&&(T.style=d),f&&(T.pointToLayer=f),x&&(T.filter=x),(g||v||h||y)&&(T.onEachFeature=function(e,n){g&&(n.options.title=(0,p.default)(g,e.properties)),v&&n.bindPopup((0,p.default)(v,e.properties)),h&&n.bindPopup(t),y&&n.bindPopup(y)}),S&&(T.onEachFeature=S);var R=L.geoJson(n,T);R.name=i,R.geoJson=null,O&&R.on("click",function(e){O(e.layer.feature,e.layer)});var G;if(r&&r.typeName&&r.url&&(G={service:"WFS",version:"2.0.0",request:"GetFeature",srsName:"EPSG:4326",outputFormat:"text/javascript",format_options:"callback: getJson",typeName:r.typeName},a=r.url+(0,m.default)(G)),s&&(G={},s.field?(G.q=s.field+":",s.query?G.q+=s.query:G.q+="*"):s.query&&(G.q=s.query),G.pretty="true",G.size=1e5,a=GV.config.application.proxy+s.url+(0,m.default)(G)),b){var A={showCoverageOnHover:!1};b.options&&(0,c.default)(A,b.options),I=L.markerClusterGroup(A),I.name=i}return a&&(0,_.default)(a).then(function(e){var t=void 0;if("KML"===w){var n=(0,E.default)(e.data);t=M.default.kml(n)}else if("GPX"===w){var a=(0,E.default)(e.data);t=M.default.gpx(a)}else t=o(e.data,s);R.geoJson=t,R.addData(t),b&&(I.geoJson=R.geoJson,I.addLayer(R)),R.fire("ready"),GV.eventBus.$emit("layer-loaded-json",R)}).catch(function(e){return console.error(e)}),n&&(R.geoJson=n,b&&(I.addLayer(R),I.geoJson=R.geoJson,g&&(I.options.title=(0,p.default)(g,feature.properties)),v&&I.bindPopup((0,p.default)(v,feature.properties)),h&&I.bindPopup(t),y&&I.bindPopup(y))),b?I:R}};t.create=i},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(o(i),n(5)),l=(o(r),n(30)),s=o(l),c=n(52),u=o(c),d=n(6),f=(o(d),n(321)),p=a(f),g=n(35),m=o(g),v=n(154),h=o(v),y=n(34),_=o(y),b=n(50),w=o(b),C=n(148),M=o(C),S=n(19),E=o(S),O={type:"leaflet",layers:[],baseLayers:[],initialExtent:[],map:null,zoom:null,buttons:[],mapOptions:{type:"leaflet",zoomControl:!1,minZoom:7,maxZoom:20},initialize:function(){return(0,u.default)(this.mapOptions,GV.config.application.mapOptions),console.log("MAP OPTIONS",this.mapOptions),this.map=L.map("gv-map",this.mapOptions),this.type="leaflet",this.options=this.map.options,this.setInitialExtent(),this.zoom=this.map._zoom,this.setRestrictedExtent(),this.setLoading(),this.loadBaseLayers(),this.loadControls(),this.eventMngr(),this},on:function(e,t){this.map.on(e,t)},off:function(e){this.map.off(e)},fitBounds:function(e,t){this.map.fitBounds(e,t)},setView:function(e,t,n){var a=Array.isArray(e)?{lat:e[0],lng:e[1]}:e;this.map.setView(a,t,n)},setMaxBounds:function(e){this.map.setMaxBounds(e)},getBounds:function(){return this.map.getBounds()},getSize:function(){return this.map.getSize()},getCenter:function(){return this.map.getCenter()},getZoom:function(){return this.map.getZoom()},setZoom:function(e,t){this.map.setZoom(e,t)},removeLayer:function(e){this.map.removeLayer(e)},addLayer:function(e){this.map.addLayer(e)},flyTo:function(e,t,n){this.map.flyTo(e,t,n)},latLngToContainerPoint:function(e){return this.map.latLngToContainerPoint(e)},addControl:function(e){this.map.addControl(e)},eachLayer:function(e,t){this.map.eachLayer(e,t)},addHandler:function(e,t){this.map.addHandler(e,t)},eventMngr:function(){var e=this;this.on("zoom",function(){GV.eventBus.$emit("map-zoom",e.map._zoom)}),GV.eventBus.$on("set-layer-visible",function(t){e.setLayerVisible(t.layer,t.checked),e.setHiliteLayerVisible(t)}),GV.eventBus.$on("set-layer-transparency",function(t){var n=e.getLayerByName(t.layerName);n&&n.setOpacity&&n.setOpacity(t.opacity)}),GV.eventBus.$on("change-base-layer",function(t){e.changeBaseLayer(t.layer)})},setHiliteLayerVisible:function(e){var t=this;GV.config.hilitedLayer&&GV.config.hilitedLayer.forEach(function(n){if(n===e.layer.name){var a=t.getLayerByName("InfoWmsHilite");a.eachLayer(function(t){var n=e.checked?.6:0;t.setStyle({opacity:n})})}})},projToGeoBounds:function(e){var t=e.split(","),n=L.point(t[0],t[1]),a=L.point(t[2],t[3]),o=L.Projection.SphericalMercator.unproject(n),i=L.Projection.SphericalMercator.unproject(a);return L.latLngBounds(o,i)},setExtent:function(e){this.initialExtent=this.projToGeoBounds(e),this.fitBounds(this.initialExtent)},setInitialExtent:function(){if(GV.log("setInitialExtent"),this.mapOptions.center&&this.mapOptions.zoom)this.setView(this.mapOptions.center,this.mapOptions.zoom);else{var e=this.mapOptions.initialExtent||"830036,5402959,1123018,5597635";this.setExtent(e)}},setRestrictedExtent:function(){this.mapOptions.restrictedExtent&&(this.restrictedExtent=this.projToGeoBounds(this.mapOptions.restrictedExtent),this.setMaxBounds(this.restrictedExtent))},getExtent:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return L.bounds(n,a)},getExtentAsString:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return n.x+","+n.y+","+a.x+","+a.y},setLayerVisible:function(e,t){if(t)e.visible=!0,this.loadLayers([e]);else{var n=this.getLayerByName(e.name);n&&this.removeLayer(n)}},layerInRange:function(e){return!e.minScale&&!e.minScale||this.getScale()<e.minScale&&this.getScale()>e.maxScale},loadControls:function(){var e=this;if(this.mapOptions.controls){var t;this.controls={},this.mapOptions.controls.forEach(function(n){switch(n.name){case"scale":t=L.control.scale({imperial:!1}).addTo(e.map),e.controls[n]=t}})}},loadBaseLayers:function(){var e=this;this.baseLayers=[],GV.config.baseLayers.forEach(function(t){var n=p.create(t,e);e.baseLayers[n.config.type]=n,n&&t.visible&&(n.on("loading",function(){e.loading(!0,n)}),n.on("load",function(){e.loading(!1,n)}),n.addTo(e.map),e.activeBaseLayer=n,GV.config.activeBaseLayer=n.config.name)})},loadLayers:function(e){var t=this;e.forEach(function(e){if(!t.getLayerByName(e.name)){var n=p.create(e);n&&e.visible&&(n.on("loading",function(){t.loading(!0,n)}),n.on("load",function(){t.loading(!1,n)}),n.addTo(t.map),n.on("ready",function(){e.zoomToLayerExtent&&!function(){var e=new L.latLngBounds;n.eachLayer(function(t){t.getBounds?e.extend(t.getBounds()):e.extend(new L.latLngBounds(t._latlng,t._latlng))}),e&&t.fitBounds(e)}()}))}})},filterLayer:function(e,t){var n=this.getLayerByName(e);n&&(t?n.eachLayer(function(e){var a=0;t.forEach(function(t){e.feature.properties[t.key]===t.value&&(a=n.config.opacity||1)}),e.setOpacity(a)}):n.eachLayer(function(e){var t=n.config.opacity||1;e.setOpacity(t)}))},getLayerByName:function(e){var t=null;return this.eachLayer(function(n){n.config&&n.config.name&&n.config.name===e&&(t=n)}),t},changeBaseLayer:function(e){var t=GV.config.getActiveBaseLayer().name;t!==e&&(this.baseLayers[e].addTo(this.map),this.activeBaseLayer=this.baseLayers[e],this.removeLayer(this.baseLayers[t]),GV.config.setActiveBaseLayer(e))},getScale:function(){var e=591657550/Math.pow(2,this.map._zoom);return e},setLoading:function(){var e=this;this._spinning=0,this.on("layerremove",function(t){t.layer.loading&&e.loading(!1),"function"==typeof t.layer.on&&(t.layer.off("load"),t.layer.off("loading"))})},loading:function(e,t){e?(0===this._spinning&&(GV.log("start load: "+t.config.name),this.map._container.style.cursor="progress"),this._spinning++):(this._spinning--,GV.log("end load: "+t.config.name),this._spinning<=0&&(GV.log("FINE CARICAMENTO LAYER"),this.map._container.style.cursor="default",GV.eventBus.$emit("map-full-loaded",this.map)))},addMarker:function(e){var t=this;e.epsg&&"4326"!=e.epsg?(0,w.default)(e.epsg,"4326",e.location[1],e.location[0]).then(function(n){if(n.data.points){var a=n.data.points[0].split(",")[0],o=n.data.points[0].split(",")[1];e.location=[o,a],t.addMarkerToMap(e)}}):this.addMarkerToMap(e)},addMarkerToMap:function(e){var t=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]}),n={opacity:.8,icon:t,title:e.label};"circle"===e.type?L.circleMarker(e.location,n).addTo(this.map):L.marker(e.location,n).addTo(this.map),this.flyTo(e.location,e.zoomLevel||14)},find:function(e){var t=this;if(e.bbox)return void this.zoomToBound(e.bbox,e.epsg,e.maxZoom);if(!(e.values&&"null"!==e.values||e.cqlFilter))return void console.error("Parametri FIND non completi: manca CQL_FILTER o VALUES");var n=e.cqlFilter||(0,h.default)(e),a=e.layers||GV.config.getLayersNameByMapId(e.map),o=a.join(","),i=GV.config.getLayerConfig(a[0]),r=i.wfsParams;r.typeName=o;var l=s.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"});(0,m.default)(r,n).then(function(n){t.hiliteFeatures(n,e,a,l)}).catch(function(e){console.error(e),l.close()})},zoomTo:function(e,t,n){this.setView(new L.LatLng(e,t),n)},zoomToBound:function(e,t,n){var a=this;if("4326"!=t){var o=t,i="4326";(0,M.default)(o,i,e).then(function(e){if(e.data.data){var t=e.data.data[0][0].split(",").reverse(),n=e.data.data[1][0].split(",").reverse();a.fitBounds([t,n])}})}else{var r=e.split(","),l=[r[0],r[1]],s=[r[2],r[3]];this.fitBounds([l,s])}},getContainerPoint:function(e){var t=this.latLngToContainerPoint(e);return t},getBbox:function(){var e=GV.app.map.getBounds(),t=GV.app.map.options.crs.project(e.getSouthWest()),n=GV.app.map.options.crs.project(e.getNorthEast());return t.x+","+t.y+","+n.x+","+n.y},clearLayer:function(){var e=this.getLayerByName("InfoWmsHilite");e.clearLayers()},hiliteFeatures:function(e,t,n,a){_.default.addHiliteLayer();var o=this.getLayerByName("InfoWmsHilite");if(e&&e.length>0){o.clearLayers(),o.addData(e);var i=t&&t.maxZoom?t.maxZoom:15;this.fitBounds(o.getBounds(),{maxZoom:i}),n&&(GV.config.hilitedLayer=n)}else t&&t.notFoundAlert&&(0,E.default)("Nessuna Elemento Trovato"),console.warn("Nessuna Elemento Trovato");a&&a.close()}};t.default=O},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=0,n=0;e.getSource().on("tileloadstart",function(n){++t,1===t&&GV.eventBus.$emit("layer-load",e)}),e.getSource().on("tileloadend",function(a){++n,t===n&&(t=0,n=0,GV.eventBus.$emit("layer-loaded",e))}),e.getSource().on("tileloaderror",function(a){++n,t===n&&(t=0,n=0,GV.eventBus.$emit("layer-loaded",e))})}function i(e){e.getSource().on("imageloadstart",function(){GV.eventBus.$emit("layer-load",e)}),e.getSource().on("imageloadend",function(){GV.eventBus.$emit("layer-loaded",e)}),e.getSource().on("imageloaderror",function(){GV.eventBus.$emit("layer-loaded",e)})}function r(e){var t=e.getSource().on("change",function(n){"loading"==e.getSource().getState()&&GV.eventBus.$emit("layer-load",e),"ready"==e.getSource().getState()&&(GV.eventBus.$emit("layer-loaded",e),e.getSource().un("change",t))})}function l(e,t){if(b[e.type]){var n=b[e.type](e,t);return n.legend=e.legend,n.config=e,n}throw new Error("Layer di tipo "+e.type+" non gestito")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var s=n(53),c=a(s),u=n(45),d=a(u),f=n(52),p=a(f),g=n(6),m=a(g),v=n(158),h=a(v),y=n(153),_=(a(y),'<a href="https://www.esri.com/">Esri</a>'),b={BLANK:function(){return null},OSM:function(e){e.legend={label:"OpenStreetMap"};var t=new ol.layer.Tile({source:new ol.source.OSM});return t.config=e,t.name=e.name,t},TILESERVER_GL:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({url:"https://geoservizi.regione.liguria.it/styles/"+e+"/{z}/{x}/{y}.png"})});return t},TS_STREETS:function(e){var t=this.TILESERVER_GL("streets");return t.config=e,t.name=e.name,t},TS_DARK_MATTER:function(e){var t=this.TILESERVER_GL("dark-matter");return t.config=e,t.name=e.name,t},TS_POSITRON:function(e){var t=this.TILESERVER_GL("positron");return t.config=e,t.name=e.name,t},TS_MONOCHROME:function(e){var t=this.TILESERVER_GL("monochrome");return t.config=e,t.name=e.name,t},TS_TONER:function(e){var t=this.TILESERVER_GL("toner");return t.config=e,t.name=e.name,t},ESRI_IMAGERY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_STREETS:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", 'USGS, NOAA",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_TOPOGRAPHIC:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+",USGS, NOAA",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_GRAY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", HERE, DeLorme, MapmyIndia, OpenStreetMap contributors",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_DARKGRAY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", HERE, DeLorme, MapmyIndia, OpenStreetMap contributors",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},RL_CARTE_BASE_NC25:function(){var e=2125,t="L7273";return this.WMS({idMap:e,visible:!1,name:"RL_CARTE_BASE_NC25",cacheMinZoomLevel:12,maxScale:1e4,minScale:2e5,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Regione Liguria"})},RL_CARTE_BASE:function(){return this.WMS({visible:!1,name:"RL_CARTE_BASE",cacheMinZoomLevel:8,wmsParams:{name:"CARTE_DI_BASE",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/gwc/service/wms?"},zIndex:1,attributions:"Regione Liguria"})},RL_ORTOFOTO_2019:function(){var e=2248,t="L8256";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2019",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Ortofoto 20cm/ ©2019 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2016:function(){var e=1828,t="L5802";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2016",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Ortofoto 20cm/ ©2016 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2013:function(){var e=1661,t="L4419";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2013",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2010:function(){var e=1505,t="L3861";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2010",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2007:function(){var e=1361,t="L3463";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2007",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2000:function(){var e=48,t="L48";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2000",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0})},WMS:function(e){var t=e.name,n=e.cacheMinZoomLevel,a=e.minScale,r=e.maxScale,l=e.wmsParams,s=e.zIndex,c=e.idMap,u=e.attributions;GV.log("layerFactory - Creazione Layer WMS: "+t);var d=null,f=!!n,g=e.opacity||1;e.minZoom=a?(0,h.default)(a):8,e.maxZoom=r?(0,h.default)(r)-1:20;var v={transparent:!0,format:l.format,styles:l.styles||"",client:"GV2"};l.cql_filter&&(v.cql_filter=l.cql_filter),l.sld&&(v.sld=l.sld);var y=l.url;if(console.log("URL",y),f){c?(y=y.replace("M"+c,"gwc/service"),v.layers="M"+c+":"+l.name):v.layers=l.name;var _=m.default.USE_SUBDOMAINS&&y.indexOf("geoservizi.regione.liguria.it")>0?[y.replace("geoservizi","geoservizi1"),y.replace("geoservizi","geoservizi2")]:null,b=y.indexOf("geoservizi.datasiel.net")>0?e.cacheVersionTest:e.cacheVersion;(0,p.default)(v,{SRS:"EPSG:3857",TILESORIGIN:"-20037508,-20037508",width:256,height:256,CACHE_VERSION:b});var w={params:v};_?w.urls=_:w.url=y,u&&(w.attributions=u),d=new ol.layer.Tile({source:new ol.source.TileWMS(w)}),o(d)}else{(0,p.default)(v,{layers:l.name,ratio:1});var C={url:y,params:v};d=new ol.layer.Image({url:y,source:new ol.source.ImageWMS(C)}),i(d)}return d.setOpacity(g),d.setZIndex(s),d.type="WMS",d.config=e,d.name=t,d},JSON:function(e){return this.Vector(e)},Vector:function(e){var t=e.name,n=e.data,a=e.url,o=e.style,i=(e.cluster,e.zIndex),l=e.onFeatureSelect,s=e.onHover,u=e.subType,f=e.basePopup,p=e.legend,g=(e.filter,e.tooltip,void 0);switch(u){case"KML":g=new ol.format.KML({});break;case"GPX":g=new ol.format.GPX({});break;default:g=new ol.format.GeoJSON({})}var m=new ol.source.Vector({format:g,url:a}),v=new ol.layer.Vector({source:m,style:o});if(n){var h=v.getSource();h.clear(!0);var y=!0,_=!1,b=void 0;try{for(var w,C=(0,d.default)(n.features);!(y=(w=C.next()).done);y=!0){var M=w.value,S=(new ol.format.GeoJSON).readFeature(M,{featureProjection:"EPSG:3857"});h.addFeature(S)}}catch(e){_=!0,b=e}finally{try{!y&&C.return&&C.return()}finally{if(_)throw b}}}return l&&GV.app.map.on("click",function(e){GV.app.map.forEachFeatureAtPixel(e.pixel,l,{layerFilter:function(e){return e===v}})}),s&&GV.app.map.on("pointermove",function(e){GV.app.map.forEachFeatureAtPixel(e.pixel,s,{layerFilter:function(e){return e===v}})}),f&&!function(){var e=new ol.Overlay({element:document.getElementById("ol-popup"),autoPan:!0,autoPanAnimation:{duration:250}});GV.app.map.addOverlay(e),GV.app.map.on("pointermove",function(e){var t=GV.app.map.map.hasFeatureAtPixel(GV.app.map.getEventPixel(e.originalEvent));document.getElementById("gv-map").style.cursor=t?"pointer":""}),GV.app.map.on("click",function(t){var n=t.pixel;GV.app.map.forEachFeatureAtPixel(n,function(n){var a=n.getProperties(),o=document.getElementById("ol-popup-closer");o.onclick=function(){return e.setPosition(void 0),o.blur(),!1};var i=document.getElementById("ol-popup-content");i.innerHTML="<p><b>LIVELLO</b> "+p.label+"</p><br>",(0,c.default)(a).forEach(function(e){var t=a[e];("string"==typeof t||t instanceof String||"number"==typeof t)&&(i.innerHTML+="<b>"+e+":</b> "+t+" <br>")}),e.setPosition(t.coordinate)})})}(),r(v),i&&v.setZIndex(i),v.set("altitudeMode","clampToGround"),v.name=t,v},MBS:function(e,t){console.log(e),olms(t,e.url).then(function(e){})},MBS_STREETS:function(e,t){var n="streets",a="https://geoservizi.regione.liguria.it/tileserver-gl/styles/"+n+"/style.json";return this.MBS(a,t.map),null}};t.create=l},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(o(i),n(5)),l=(o(r),n(30)),s=o(l),c=n(45),u=o(c),d=n(52),f=o(d),p=n(323),g=a(p),m=n(35),v=o(m),h=n(154),y=o(h),_=n(34),b=o(_),w=n(50),C=o(w),M=n(155),S=o(M),E=n(19),O=o(E),x={type:"openlayers",layers:[],baseLayers:[],initialExtent:[],map:null,zoom:null,loading:0,loaded:0,buttons:[],options:{type:"openlayers",zoomControl:!1,minZoom:7,maxZoom:20},initialize:function(){(0,f.default)(this.options,GV.config.application.mapOptions);var e={};return this.options.restrictedExtent&&(e.extent=this.extentToArray(this.options.restrictedExtent)),this.map=new ol.Map({target:"gv-map",layers:[],controls:[new ol.control.Attribution],view:new ol.View(e)}),this.createPopupDiv(),this.setInitialExtent(),this.zoom=this.getView().getZoom(),this.setLoading(),this.loadBaseLayer(),this.eventMngr(),this.options.ol3d&&(GV.globals.USE_SUBDOMAINS=!1,this.loadCesium()),this},loadCesium:function(){var e=(n(314),new olcs.OLCesium({map:this.map}));this.scene=e.getCesiumScene();var t=new Cesium.GeoserverTerrainProvider({url:"https://geoservizi.regione.liguria.it/geoserver/DTM/ows",layerName:"DTM_dbtopo_5m_wgs84"});this.scene.terrainProvider=t,this.options.enable3d&&e.setEnabled(!0),this.ol3d=e},setLoading:function(){var e=this;GV.eventBus.$on("layer-load",function(t){++e.loading}),GV.eventBus.$on("layer-loaded",function(t){++e.loaded,e.loading===e.loaded&&(e.loading=0,e.loaded=0,GV.log("FINE CARICAMENTO MAPPA"),GV.eventBus.$emit("map-full-loaded",e.map))})},eventMngr:function(){var e=this;this.map.on("moveend",function(t){var n=e.getView().getZoom();e.zoom!=n&&(GV.eventBus.$emit("map-zoom",n),e.zoom=n)}),this.map.on("rendercomplete",function(e){}),GV.eventBus.$on("set-layer-visible",function(t){e.setLayerVisible(t.layer,t.checked),e.setHiliteLayerVisible(t.layer,t.checked)}),GV.eventBus.$on("set-layer-transparency",function(t){e.setLayerOpacity(t.layerName,t.opacity)}),GV.eventBus.$on("change-base-layer",function(t){e.changeBaseLayer(t.layer)})},addInteraction:function(e){this.map.addInteraction(e)},removeInteraction:function(e){this.map.removeInteraction(e)},getView:function(){return this.map.getView()},
getOverlays:function(){return this.map.getOverlays()},removeOverlay:function(e){this.map.removeOverlay(e)},setLayerOpacity:function(e,t){var n=this.getLayerByName(e);n&&n.setOpacity&&n.setOpacity(t)},setExtent:function(e){var t=this.extentToArray(e);this.fit(t)},extentToArray:function(e){var t=e.split(",").map(function(e){return parseFloat(e)});return t},setInitialExtent:function(){if(GV.log("setInitialExtent"),this.options.center&&this.options.zoom)this.setView(this.options.center,this.options.zoom);else{var e=this.options.initialExtent||"830036,5402959,1123018,5597635";this.setExtent(e)}},setView:function(e,t){var n=Array.isArray(e)?e:[e.lng,e.lat];this.getView().setCenter(ol.proj.fromLonLat(n)),this.getView().setZoom(t)},getExtent:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return L.bounds(n,a)},getExtentAsString:function(){return this.getView().calculateExtent().join(",")},setLayerVisible:function(e,t){var n=this.getLayerByName(e.name);n.setVisible(t),e.visible=t},setHiliteLayerVisible:function(e,t){if(GV.config.hilitedLayer){var n=!0,a=!1,o=void 0;try{for(var i,r=(0,u.default)(GV.config.hilitedLayer);!(n=(i=r.next()).done);n=!0){var l=i.value;if(l[0]===e.name){var s=this.getLayerByName("InfoWmsHilite");s.setVisible(t)}}}catch(e){a=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}}},layerInRange:function(e){return!e.minScale&&!e.minScale||this.getScale()<e.minScale&&this.getScale()>e.maxScale},loadBaseLayer:function(){var e=this;GV.config.baseLayers.forEach(function(t){t.visible&&e.setBaseLayer(t)})},setBaseLayer:function(e){if("BLANK"===e.name)return void(GV.config.activeBaseLayer="BLANK");var t=g.create(e,this);t&&(t.config.baseLayer=!0,this.map.getLayers().insertAt(0,t),this.activeBaseLayer=t,GV.config.activeBaseLayer=t.config.name)},changeBaseLayer:function(e){if(GV.config.activeBaseLayer!==e){var t=this.getLayerByName(GV.config.activeBaseLayer);this.removeLayer(t);var n=GV.config.getBaseLayerConfig(e);this.setBaseLayer(n)}},getLayerByName:function(e){var t=null;return this.map.getLayers().forEach(function(n){n.name&&n.name===e&&(t=n)}),t},getScale:function(){var e=591657550/Math.pow(2,this.getView().getZoom());return e},getZoom:function(){return this.getView().getZoom()},setZoom:function(e){this.getView().setZoom(e)},getCenter:function(){return ol.proj.transform(this.getView().getCenter(),"EPSG:3857","EPSG:4326").reverse()},removeLayer:function(e){this.map.removeLayer(e)},addLayer:function(e){this.map.addLayer(e)},addOverlay:function(e){this.map.addOverlay(e)},getTarget:function(){return this.map.getTarget()},getEventPixel:function(e){return this.map.getEventPixel(e)},getSize:function(){return this.map.getSize()},fit:function(e,t){var n=ol.geom.Polygon.fromExtent(e);n.scale(1.2),this.getView().fit(n,t)},createPopupDiv:function(){(0,S.default)({elId:"ol-popup",containerId:"body"}),(0,S.default)({elId:"ol-popup-closer",containerId:"ol-popup"}),(0,S.default)({elId:"ol-popup-content",containerId:"ol-popup"})},loadLayers:function(e){var t=this;e.forEach(function(e){if(!t.getLayerByName(e.name)){var n=g.create(e,t);n&&(t.addLayer(n),t.setLayerVisible(e,e.visible),e.zoomToLayerExtent&&!function(){var e=n.getSource();e.once("change",function(){"ready"===e.getState()&&n.getSource().getFeatures().length>0&&t.fit(e.getExtent(),{maxZoom:15})})}())}})},clearLayer:function(e){var t=this.getLayerByName(e),n=t.getSource();n.clear(!0)},addMarker:function(e){var t=this;e.epsg&&"4326"!=e.epsg?(0,C.default)(e.epsg,"4326",e.location[1],e.location[0]).then(function(n){if(n.data.points){var a=n.data.points[0].split(",")[0],o=n.data.points[0].split(",")[1];e.location=[o,a],t.addMarkerToMap(e)}}):this.addMarkerToMap(e)},addMarkerToMap:function(e){var t=Array.isArray(e.location)?e.location:[e.location.lng,e.location.lat],n=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(t)),name:e.label});n.setStyle(new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:"/geoservices/apps/viewer/dist/static/img/marker-icon.png"})}));var a=new ol.layer.Vector({source:new ol.source.Vector({features:[n]}),zIndex:1e3});this.addLayer(a),this.fit(n.getGeometry().getExtent(),{maxZoom:e.zoomLevel||15})},find:function(e){var t=this;if(e.bbox)return void this.zoomToBound(e.bbox,e.epsg,e.maxZoom);if(!(e.values&&"null"!==e.values||e.cqlFilter))return void console.error("Parametri FIND non completi: manca CQL_FILTER o VALUES");var n=e.cqlFilter||(0,y.default)(e),a=e.layers||GV.config.getLayersNameByMapId(e.map),o=a.join(","),i=GV.config.getLayerConfig(a[0]),r=i.wfsParams;r.typeName=o;var l=s.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"});(0,v.default)(r,n).then(function(n){t.hiliteFeatures(n,e,a,l)}).catch(function(e){console.error(e),l.close()})},zoomTo:function(e,t,n){this.setView([t,e],n)},zoomToBound:function(e,t,n){if("3857"!=t){var a=this.extentToArray(e),o=new ol.proj.Projection({code:"EPSG:"+t}),i=ol.proj.transformExtent(a,o,"EPSG:3857");this.fit(i,{maxZoom:n||15})}else this.setExtent(e)},on:function(e,t){this.map.on(e,t)},off:function(e,t){this.map.un(e,t)},forEachFeatureAtPixel:function(e,t,n){this.map.forEachFeatureAtPixel(e,t,n)},hiliteFeatures:function(e,t,n,a){b.default.addHiliteLayer();var o=this.getLayerByName("InfoWmsHilite");if(e&&e.length>0){var i=o.getSource();i.clear(!0);var r=!0,l=!1,s=void 0;try{for(var c,d=(0,u.default)(e);!(r=(c=d.next()).done);r=!0){var f=c.value,p=(new ol.format.GeoJSON).readFeature(f,{featureProjection:"EPSG:3857"});i.addFeature(p)}}catch(e){l=!0,s=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw s}}var g=t&&t.maxZoom?t.maxZoom:15;this.fit(o.getSource().getExtent(),{maxZoom:g}),n&&(GV.config.hilitedLayer=n)}else t&&t.notFoundAlert&&(0,O.default)("Nessuna Elemento Trovato"),console.warn("Nessuna Elemento Trovato");a&&a.close()}};t.default=x},function(e,t){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,a=arguments[1],o=0;o!==n;o++)if(e.call(a,this[o],o,t))return this[o]}})},function(e,t){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],o=0;o<n;){var i=t[o];if(e.call(a,i,o,t))return o;o++}return-1}})},function(e,t){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e})},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=""+l.default.RL_AG_APP_LISTA_MAPPE+e;return i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=GV.globals.ATLANTE_GEOCHIMICO_CONFIG_URL;return i.default.get(e).then(function(e){return e.data.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(i.default.mark(function e(t){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="/geoservices/REST/utils/autorizza_nam/GEOVIEWER/"+t,e.next=3,c.default.get(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return e}()},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=s.default.RL_ENTI_SERVICE;return r.default.get(e).then(function(e){return e.data.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/geoservices/apps/viewer/pages/env.json",e.next=3,c.default.get(t);case 3:return n=e.sent,e.abrupt("return",n.data.ENV);case 5:case"end":return e.stop()}},e,this)}));return e}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.features;return e.features.forEach(function(e,n){e.id=t+"."+n}),n}function i(e,t){var n={};return l.default.get(e,{params:n}).then(function(e){var n=e.data,a=o(n,t);return a})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(4),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};return r.default.get(e,{params:n}).then(function(e){var n={layerName:t,id:"1",label:"1",text:e.data,properties:null};return[n]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=(new u).xml_str2json(e),a=[];return n.FeatureCollection&&n.FeatureCollection.featureMember&&(Array.isArray(n.FeatureCollection.featureMember)?n.FeatureCollection.featureMember.forEach(function(e,n){var o=e[(0,l.default)(e)[0]],i={},r=!1;(0,l.default)(o).forEach(function(e,t){"__prefix"!==e&&"__text"!==e&&"toString"!==e&&(i[e]=o[e].__text,r=!0)}),r&&a.push({type:"Feature",id:t+"."+n,geometry:null,properties:i})}):!function(){var e=n.FeatureCollection.featureMember,o=e[(0,l.default)(e)[0]],i={},r=!1,s=0;(0,l.default)(o).forEach(function(e,t){"__prefix"!==e&&"__text"!==e&&"toString"!==e&&(i[e]=o[e].__text,r=!0)}),r&&a.push({type:"Feature",id:t+"."+s,geometry:null,properties:i})}()),n.msGMLOutput&&(0,l.default)(n.msGMLOutput).forEach(function(e,t){e.indexOf("_layer")>=0&&!function(){var t=e.replace("_layer",""),o=n.msGMLOutput[e];(0,l.default)(o).forEach(function(e,n){var i=o[e];Array.isArray(i)?i.forEach(function(e){var o=e;a.push({type:"Feature",id:t+"."+n,geometry:null,properties:o})}):!function(){var e={},o=!1;(0,l.default)(i).forEach(function(t,n){"__prefix"!==t&&"__text"!==t&&"toString"!==t&&(e[t]=i[t],o=!0)}),o&&a.push({type:"Feature",id:t+"."+n,geometry:null,properties:e})}()})}()}),a}function i(e,t){var n={};return c.default.get(e,{params:n}).then(function(e){var n=e.data,a=o(n,t);return a})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),l=a(r);t.default=i;var s=n(4),c=a(s),u=n(109)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.layerName?t.layerName.replace("L",""):null,a=t.layer&&t.layer.legend?t.layer.legend.label:null;return r.default.post(s.default.RL_XSL_INFO_SERVICE,{data:{xslUrl:e,gml:t.gml,idLayer:n,titolo:a,featureAttributes:t.properties,text:t.text}}).then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l),c=n(110);a(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/geoservices/REST/fototeca/voli/";return e&&(t+="?bbox="+e),i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6);a(r)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.get(e).then(function(e){return e.data.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.get(e).then(function(e){return e.data.features})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){var e=(0,l.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={mapview:"7.43,43.75;10.00,44.70",searchtext:e.replace("INCROCIO","@")};return i.default.get(l.default.HERE_GEOCODE_PROXY,{params:t}).then(function(e){return e.data.Response.View[0].Result.map(function(e){return{relevance:e.Relevance,match_level:e.MatchLevel,match_type:e.MatchType,formatted_address:e.Location.Address.Label,place_id:e.Location.LocationId,geometry:{location:{lat:e.Location.DisplayPosition.Latitude,lng:e.Location.DisplayPosition.Longitude}}}})})};var o=n(4),i=a(o),r=n(6),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={"boundary.gid":"whosonfirst:macroregion:404227507",text:e};return i.default.get("http://10.11.6.189:4000/v1/search",{params:t}).then(function(e){return e.data})};var o=n(4),i=a(o)},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=t&&"genio"===t&&n?"/geoservices/REST/genioweb/get_token/"+n+"/":"/geoservices/REST/sigmater/get_token/";return a+=e,i.default.get(a).then(function(e){return e.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/geoservices/REST/sigmater/get_token_bbox/"+e;return i.default.get(t).then(function(e){return e.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,o){var r="/geoservices/REST/config/ag_insert_coordinate?idSession="+e+"&coord_x="+t+"&coord_y="+n+"&esito="+a;o&&(r+="&coord_z="+o),i.default.get(r).then(function(e){GV.globals.flagInsert=!0,e.data.success?(GV.globals.flagInsert=!0,(0,l.default)()?window.history.back(-1):window.close()):alert("Attenzione: - "+e.data.message)})};var o=n(4),i=a(o),r=n(159),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.post("/geoservices/REST/genioweb/insert_geom_pratica",{headers:{Accept:"text/xml"},data:e}).then(function(e){return e.data})};var o=n(4),i=a(o),r=n(6);a(r)},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=a(o),r=n(648),l=a(r),s=n(682),c=a(s),u=n(678),d=a(u),f=n(657),p=a(f),g=n(684),m=a(g),v=n(697),h=a(v),y=n(687),_=a(y),b=n(700),w=a(b),C=n(689),M=a(C),S=n(688),E=a(S),L=n(698),O=a(L),x=n(699),I=a(x),T=n(629),R=a(T),G=n(683),A=a(G),V=n(644),P=a(V),F=n(702),z=a(F),k=n(703),B=a(k),N=n(701),D=a(N),j=n(679),U=a(j),W=n(693),q=a(W),H=n(695),Z=a(H),X=n(686),$=a(X),Y=n(685),Q=a(Y),J=n(643),K=a(J),ee=n(690),te=a(ee),ne=n(691),ae=a(ne),oe=n(692),ie=a(oe),re=n(694),le=a(re),se=n(649),ce=a(se),ue=n(676),de=a(ue),fe=n(704),pe=a(fe),ge=n(696),me=a(ge),ve=[];ve.push({name:"gv-geocoder"}),i.default.component("gv-geocoder",l.default),ve.push({name:"gv-search"}),i.default.component("gv-search",c.default),ve.push({name:"gv-scalebar"}),i.default.component("gv-scalebar",d.default),ve.push({name:"gv-inner-html"}),i.default.component("gv-inner-html",p.default),ve.push({name:"gv-add-map-button"}),i.default.component("gv-add-map-button",m.default),ve.push({name:"gv-info-button"}),i.default.component("gv-info-button",h.default),ve.push({name:"gv-coordinate-button"}),i.default.component("gv-coordinate-button",_.default),ve.push({name:"gv-measure-button"}),i.default.component("gv-measure-button",w.default),ve.push({name:"gv-draw-button"}),i.default.component("gv-draw-button",M.default),ve.push({name:"gv-download-totale-button"}),i.default.component("gv-download-totale-button",E.default),ve.push({name:"gv-layer-search-button"}),i.default.component("gv-layer-search-button",O.default),ve.push({name:"gv-layer-search-topo-button"}),i.default.component("gv-layer-search-topo-button",I.default),ve.push({name:"atlante-geochimico-livelli"}),i.default.component("atlante-geochimico-livelli",R.default),ve.push({name:"gv-map-selezione-fogli"}),i.default.component("gv-map-selezione-fogli",A.default),ve.push({name:"gv-gas"}),i.default.component("gv-gas",P.default),ve.push({name:"gv-ricerca-particella-button"}),i.default.component("gv-ricerca-particella-button",z.default),ve.push({name:"gv-ricerca-catastale-button"}),i.default.component("gv-ricerca-catastale-button",B.default),ve.push({name:"gv-print-button"}),i.default.component("gv-print-button",D.default),ve.push({name:"gv-scuoladigitale-legend"}),i.default.component("gv-scuoladigitale-legend",U.default),ve.push({name:"gv-genio-localizza-button"}),i.default.component("gv-genio-localizza-button",q.default),ve.push({name:"gv-genio-seleziona-particelle-button"}),i.default.component("gv-genio-seleziona-particelle-button",Z.default),ve.push({name:"gv-cem-elaborazioni-button"}),i.default.component("gv-cem-elaborazioni-button",$.default),ve.push({name:"gv-back-button"}),i.default.component("gv-back-button",Q.default),ve.push({name:"gv-fototeca-voli"}),i.default.component("gv-fototeca-voli",K.default),ve.push({name:"gv-fototeca-carrello-button"}),i.default.component("gv-fototeca-carrello-button",te.default),ve.push({name:"gv-fototeca-scheda-volo-button"}),i.default.component("gv-fototeca-scheda-volo-button",ae.default),ve.push({name:"gv-fototeca-selezione-territoriale-button"}),i.default.component("gv-fototeca-selezione-territoriale-button",ie.default),ve.push({name:"gv-genio-pratiche-collegate-button"}),i.default.component("gv-genio-pratiche-collegate-button",le.default),ve.push({name:"gv-geocoder-pelias"}),i.default.component("gv-geocoder-pelias",ce.default),ve.push({name:"rqa-livelli"}),i.default.component("rqa-livelli",de.default),ve.push({name:"gv-switch3D-button"}),i.default.component("gv-switch3D-button",pe.default),ve.push({name:"gv-help3D-button"}),i.default.component("gv-help3D-button",me.default),t.default=ve},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.default)("FIND_MAP")||(0,i.default)("ID")||(0,i.default)("id"),t=(0,i.default)("FIND_LAYERS")?(0,i.default)("FIND_LAYERS").split(","):null,n=(0,i.default)("FIND_FIELDS"),a=(0,i.default)("FIND_VALUES"),o=(0,i.default)("FIND_CQL_FILTER");return{map:e,layers:t,fields:n,values:a,cqlFilter:o}};var o=n(157),i=a(o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null;window.document.body.setAttribute("ondrop","GV.dragbox.drop(event)"),t.default={start:function(e){n=[e.screenX,e.screenY],e.dataTransfer.setData("text/plain",e.target.id)},end:function(e,t){var a=document.getElementById(t),o=window.getComputedStyle(a,null),i=[e.screenX,e.screenY];a.style.top=Number(o.top.replace("px",""))+(i[1]-n[1])+"px",a.style.left=Number(o.left.replace("px",""))+(i[0]-n[0])+"px"},drop:function(e){"text"===e.target.type&&e.preventDefault()}}},function(e,t){"use strict";function n(){return window.location.href.split(":")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=/\{ *([\w_\-]+) *\}/g;return e.replace(n,function(e,n){var a=t[n];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"==typeof a&&(a=a(t)),a})}},function(e,t){"use strict";function n(e){GV.config.debug&&console.log(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){var o=function(e,a){for(var o,i=a.split(/\.+/),r=0;r<i.length;r++)0==r&&(o=t),o=o[i[r]];return"function"==typeof o&&(o=n?o.apply(null,n):o()),"undefined"==typeof o?"undefined":o};return e.replace(a,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=/\$\{([\w.]+?)\}/g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},function(e,t){},,,function(e,t){},,function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},,,,,function(e,t){},function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},function(e,t){},,function(e,t){},,,,,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,,,,,,,,,,,,,,function(e,t,n){var a=n(599);"string"==typeof a&&(a=[[e.id,a,""]]);n(183)(a,{});a.locals&&(e.exports=a.locals)},,,,,,,,function(e,t,n){var a,o;n(526),a=n(230);var i=n(728);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(512),n(511),a=n(231);var i=n(715);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-186c5b53",e.exports=a},,function(e,t,n){var a,o;n(574),a=n(233);var i=n(767);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-75b8b42e",e.exports=a},,,function(e,t,n){var a,o;n(540),a=n(236);var i=n(740);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,,,,,function(e,t,n){var a,o;n(548),a=n(244);var i=n(748);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-4e584568",e.exports=a},,function(e,t,n){var a,o;n(545),a=n(247);var i=n(745);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-49a48e71",e.exports=a},function(e,t,n){var a,o;n(558),a=n(248);var i=n(755);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-575350c1",e.exports=a},,,,function(e,t,n){var a,o;n(514),a=n(252);var i=n(717);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-1bcdfb88",e.exports=a},function(e,t,n){var a,o;n(539),a=n(253);var i=n(739);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-40ca8980",e.exports=a},function(e,t,n){var a,o;n(522),a=n(254);var i=n(724);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-2b5510d5",e.exports=a},,,,,,,function(e,t,n){var a,o;n(534),a=n(261);var i=n(735);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-3b64f109",e.exports=a},,,,,function(e,t,n){var a,o;n(587),a=n(266);var i=n(778);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(584),a=n(267);var i=n(776);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(596),a=n(269);var i=n(786);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-d6e32478",e.exports=a},,,,,,,,,,,,function(e,t,n){var a,o;n(577),n(576),a=n(283);var i=n(769);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-761d5d3a",e.exports=a},,function(e,t,n){var a,o;n(582),a=n(285);var i=n(774);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-7f9b7ad1",e.exports=a},function(e,t,n){var a,o;n(588),a=n(287);var i=n(779);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,function(e,t,n){var a,o;n(598),a=n(290);var i=n(788);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(572),n(571),a=n(291);var i=n(765);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-71b34ef7",e.exports=a},function(e,t,n){var a,o;n(501),a=n(293);var i=n(706);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(515),a=n(294);var i=n(718);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(505),a=n(295);var i=n(710);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(594),a=n(296);var i=n(784);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(509),a=n(297);var i=n(713);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(570),a=n(298);var i=n(764);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(506),a=n(299);var i=n(711);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(559),a=n(300);var i=n(756);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(516),a=n(301);var i=n(719);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(533),a=n(302);var i=n(734);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(523),a=n(303);var i=n(725);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(525),a=n(304);var i=n(727);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(573),a=n(305);var i=n(766);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(589),a=n(306);var i=n(780);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(503),a=n(307);var i=n(708);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(546),a=n(308);var i=n(746);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(529),a=n(309);var i=n(731);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(579),a=n(310);var i=n(771);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(528),a=n(311);var i=n(730);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(568),a=n(312);var i=n(762);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(542),a=n(313);var i=n(742);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),
o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-add-map",title:"Aggiungi Mappe"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-layer-search",title:"Ricerca sui Livelli"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-cem-elaborazioni",title:"Lista Elaborazioni"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-carrello",title:"Carrello"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-download-totale-button",title:"Download"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"atlante-geochimico gv-color-scheme"},[e._c("div",{staticClass:"ag-title gv-color-scheme",attrs:{id:"ag-title"}},[e._v("\n    Atlante Geochimico\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Pannello"},on:{click:e.hidePanel}})]),e._v(" "),e._c("div",{staticClass:"ag-wrapper gv-color-scheme",attrs:{id:"ag-wrapper"}},[e._c("el-select",{attrs:{placeholder:"Seleziona Elemento",filterable:"",size:"mini"},on:{change:e.onChange},model:{value:e.livello,callback:function(t){e.livello=t},expression:"livello"}},e._l(e.livelli,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.title}},[e._c("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.title))])])})),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}],staticClass:"ag-legend"},[e._c("gv-iframe-panel",{staticClass:"gv-iframe-panel",attrs:{src:e.legendUrl,height:"237",width:"249"}})],1)],1)])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-geocoder",attrs:{filterable:"",clearable:"",remote:"",size:"mini",placeholder:"Ricerca Indirizzo...","remote-method":e.remoteMethod,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun indirizzo trovato","no-data-text":"Nessun indirizzo trovato",id:"gv-geocoder"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,staticClass:"gv-geocoder-options",attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-back",title:"Ritorno"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-selezione-territoriale",title:"Selezione Territoriale"},on:{click:e.onClick}})},staticRenderFns:[]}},,,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{style:e.style,attrs:{id:"gv-header"}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-pratiche-collegate",title:"Genio Pratiche Collegate"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-seleziona-particelle",title:"Seleziona Particelle"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{attrs:{id:"gv-container"}},[e.showHeader?e._c("gv-header"):e._e(),e._v(" "),e._c("gv-map",{ref:"gv-map"}),e._v(" "),e.showLegend?e._c("gv-legend",{ref:"gv-legend"}):e._e(),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-tool-container"},[e._c("div",{staticClass:"gv-tool-top gv-tool-left",attrs:{id:"gv-tool-topleft"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-top gv-tool-right",attrs:{id:"gv-tool-topright"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-bottom gv-tool-left",attrs:{id:"gv-tool-bottomleft"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-bottom gv-tool-right",attrs:{id:"gv-tool-bottomright"}})])}]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-panel-title gv-color-scheme"},[e._c("span",{staticClass:"gv-color-scheme",attrs:{title:e.fullTitle}},[e._v(e._s(e.title))]),e._v(" "),e.noClose?e._e():e._c("el-button",{staticClass:"gv-close gv-color-scheme",attrs:{icon:"el-icon-close",type:"button",title:"Chiudi Panello"},on:{click:e.closePanel}}),e._v(" "),e.collapsible?e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Mostra/Nascondi Pannello"},on:{click:e.collapse}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-ricerca-particella",title:"Ricerca Particella Catastale"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-measure",title:e.title},on:{click:e.onClick}})},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-localizza",title:"Localizzazione"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{domProps:{innerHTML:e._s(e.html)}})},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-geocoder",attrs:{filterable:"",clearable:"",remote:"",size:"mini",placeholder:"Ricerca Indirizzo PELIAS...","remote-method":e.remoteMethod,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun indirizzo trovato","no-data-text":"Nessun indirizzo trovato",id:"gv-geocoder-pelias"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,staticClass:"gv-geocoder-options",attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-dialog",{attrs:{width:"50%",title:"Conferma",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._c("span",[e._v("\n    Prima di proseguire è necessario visualizzare il dettaglio delle condizioni di utilizzo.\n    "),e._c("br"),e._v("Cliccando su\n    "),e._c("span",{staticStyle:{color:"#00377c"}},[e._c("b",[e._v('"Accetto"')])]),e._v(" l’utente dichiara di aver preso visione dell’avviso.\n  ")]),e._v(" "),e._c("br"),e._v(" "),e._c("br"),e._v(" "),e._c("span",[e._c("a",{attrs:{href:e.link,target:"_blank"}},[e._v(e._s(e.label))])]),e._v(" "),e._c("span",{attrs:{slot:"footer"},slot:"footer"},[e._c("el-button",{on:{click:e.cancel}},[e._c("span",{staticStyle:{color:"#00377c","font-weight":"bold"}},[e._v("Annulla")])]),e._v(" "),e._c("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._c("span",{staticStyle:{color:"#ffffff","font-weight":"bold"}},[e._v("Accetto")])])],1)])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{staticClass:"gv-button",attrs:{id:"gv-button-switch3D",title:"Switch3D"},on:{click:e.onClick}},[e._v("\n  "+e._s(e.label)+"\n")])},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-fototeca-voli",attrs:{filterable:"",remote:"",size:"mini",placeholder:"Seleziona un volo...",id:"gv-fototeca-voli"},on:{change:e.onChange},model:{value:e.volo,callback:function(t){e.volo=t},expression:"volo"}},e._l(e.voli,function(t){return e._c("el-option",{key:t.id,staticClass:"gv-fototeca-voli-options",attrs:{label:t.nome,value:t.id}})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-layer-search-topo",title:"Ricerche sui Livelli"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-fototeca-immagine gv-inverted-color-scheme",attrs:{id:"gv-fototeca-immagine"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-fototeca-immagine"}}),e._v(" "),e._c("el-button",{staticClass:"gv-color-scheme gv-button-fototeca-immagine-carrello",attrs:{id:"gv-button-fototeca-immagine-carrello",icon:"el-icon-circle-plus-outline",title:"Aggiungi al Carrello",size:"mini"},on:{click:e.addToBasket}},[e._v("Aggiungi al Carrello")]),e._v(" "),e._c("div",{staticClass:"gv-fototeca-immagine-body",attrs:{id:"gv-fototeca-immagine-body"}},[e._c("image-viewer",{attrs:{imgUrl:e.imgUrl,logo:e.logo,width:"400",height:"400"}})],1)],1)},staticRenderFns:[]}},,,,,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-gas gv-inverted-color-scheme",attrs:{id:"gv-gas"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-gas",noClose:!0,collapsible:"gv-gas-body"}}),e._v(" "),e._c("div",{staticClass:"gv-gas-body",attrs:{id:"gv-gas-body"}},[e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Area",size:"mini"},on:{change:e.onChangeArea},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}},e._l(e.aree,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Modulo",size:"mini"},model:{value:e.modulo,callback:function(t){e.modulo=t},expression:"modulo"}},e._l(e.moduli,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("div",{staticClass:"gv-gas-checkbox"},[e._c("el-checkbox",{model:{value:e.soloPostiDisponibili,callback:function(t){e.soloPostiDisponibili=t},expression:"soloPostiDisponibili"}},[e._v("Solo strutture con posti disponibili")])],1),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Provincia",size:"mini"},on:{change:e.onChangeProvincia},model:{value:e.provincia,callback:function(t){e.provincia=t},expression:"provincia"}},e._l(e.province,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona ASL",size:"mini"},on:{change:e.onChangeASL},model:{value:e.asl,callback:function(t){e.asl=t},expression:"asl"}},e._l(e.listaAsl,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-button",{attrs:{id:"gv-gas-submit",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.submit}},[e._v("Visualizza")]),e._v(" "),e._c("el-button",{attrs:{id:"gv-gas-elenco",type:"primary",size:"mini",icon:"el-icon-document"},on:{click:e.elenco}},[e._v("Elenco Strutture")])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-scheda-volo",title:"Scheda Volo"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{directives:[{name:"bar",rawName:"v-bar"}]},[e._c("div",{attrs:{id:"gv-legend-maps"}},e._l(e.maps,function(t){return e._c("ul",{key:t.id,staticClass:"gv-list-group"},[e._c("div",{staticClass:"gv-list-legend-map-item gv-inverted-color-scheme"},[e._c("li",[e._v(e._s(t.name))]),e._v(" "),e._c("div",{staticClass:"gv-legend-map-tools gv-inverted-color-scheme"},[e._c("el-button",{class:e.getToggleLayersClass(t),attrs:{title:"Mostra/Nascondi Livelli in Legenda",size:"mini"},on:{click:function(n){e.toggleLayers(t)}}}),e._v(" "),e.checkInfoMap(t)?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-scheda-"+t.id,title:"Visualizza Scheda",icon:"el-icon-document",size:"mini"},on:{click:function(n){e.showMapInfoPanel(t)}}}):e._e(),e._v(" "),e.options.noDeleteButton?e._e():e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-delete-"+t.id,title:"Elimina Mappa",icon:"el-icon-delete",size:"mini"},on:{click:function(n){e.remove(t)}}}),e._v(" "),e.options.showLayersTransparency?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-transparency-"+t.id,title:"Trasparenza Livelli",icon:"el-icon-setting",size:"mini"},on:{click:function(n){e.layerTransparency(t)}}}):e._e(),e._v(" "),e.isDownloadable(t)?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-download-"+t.id,title:"Download Mappa",icon:"el-icon-download",size:"mini"},on:{click:function(n){e.download(t)}}}):e._e()],1)]),e._v(" "),e._c("gv-legend-layers",{directives:[{name:"show",rawName:"v-show",value:e.showMapLayers(t),expression:"showMapLayers(map)"}],attrs:{map:t,options:e.options}})],1)}))])},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-ricerca-catastale",title:"Ricerche Catastali"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-draw",title:e.title},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-map-selezione-fogli gv-inverted-color-scheme",attrs:{id:"gv-map-selezione-fogli"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-map-selezione-fogli",noClose:!0,collapsible:"gv-map-selezione-fogli-body"}}),e._v(" "),e._c("div",{staticClass:"gv-map-selezione-fogli-body",attrs:{id:"gv-map-selezione-fogli-body"}},[e._c("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"Seleziona"},model:{value:e.fogli,callback:function(t){e.fogli=t},expression:"fogli"}},e._l(e.config.fogli,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.nome}})})),e._v(" "),e._c("div",{staticClass:"gv-map-selezione-fogli-buttons"},[e._c("el-button",{attrs:{id:"gv-map-selezione-fogli-submit",type:"primary",size:"mini"},on:{click:e.submit}},[e._v("Conferma")]),e._v(" "),e._c("el-button",{attrs:{id:"gv-map-selezione-fogli-cancel",type:"primary",size:"mini"},on:{click:e.cancel}},[e._v("Annulla")])],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-help3D-button",title:"Help Navigazione 3D"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{attrs:{size:"mini",placeholder:"Sfondo"},on:{change:e.onChange},model:{value:e.activeBaseLayer,callback:function(t){e.activeBaseLayer=t},expression:"activeBaseLayer"}},e._l(e.baseLayers,function(t){return e._c("el-option",{key:t.name,attrs:{label:t.label,value:t.name}},[e._c("span",{staticStyle:{float:"left"}},[e._c("img",{staticClass:"gv-sfondi-icon",attrs:{src:t.icon}}),e._v(" "),e._c("span",{staticClass:"gv-sfondi-label"},[e._v(e._s(t.label))])])])}))},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"rqa gv-color-scheme"},[e._c("div",{staticClass:"rqa-title gv-color-scheme"},[e._v("\n    RQA: Indicatori\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Pannello"},on:{click:e.hidePanel}}),e._v(" "),e._c("button",{staticClass:"gv-color-scheme rqa-download-button el-icon-download",attrs:{id:"rqa-download-button",title:"Download Dati",size:"mini"},on:{click:e.download}})]),e._v(" "),e._c("div",{staticClass:"rqa-wrapper gv-color-scheme",attrs:{id:"rqa-wrapper"}},[e._c("div",{staticClass:"combo"},[e._c("el-select",{attrs:{placeholder:"Tipologia Indicatori",size:"mini"},on:{change:e.onChangeTipo},model:{value:e.tipo,callback:function(t){e.tipo=t},expression:"tipo"}},e._l(e.tipi,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriGiorno,expression:"showIndicatoriGiorno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Indicatori Giornalieri",size:"mini"},on:{change:e.onChangeIndicatore},model:{value:e.indicatore,callback:function(t){e.indicatore=t},expression:"indicatore"}},e._l(e.indicatoriGiorno,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.nome}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriGiorno,expression:"showIndicatoriGiorno"}],staticClass:"combo"},[e._c("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"Giorno","value-format":"yyyy-MM-dd"},model:{value:e.giorno,callback:function(t){e.giorno=t},expression:"giorno"}})],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriAnno,expression:"showIndicatoriAnno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Indicatori Annuali",size:"mini"},on:{change:e.onChangeIndicatore},model:{value:e.indicatore,callback:function(t){e.indicatore=t},expression:"indicatore"}},e._l(e.indicatoriAnno,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.nome}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriAnno,expression:"showIndicatoriAnno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Anno",size:"mini"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},e._l(e.anni,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}]},[e._c("gv-iframe-panel",{staticClass:"gv-iframe-panel",attrs:{src:e.legendUrl,height:"141",width:"230"}})],1)])])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-print-button",title:"Stampa"},on:{click:e.onClick}})},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"scalebar",attrs:{id:"gv-scalebar"}},[e._c("el-select",{attrs:{size:"mini",placeholder:""},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(t){return e._c("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",[e._c("el-table",{staticStyle:{width:"100%","line-height":"23px","font-weight":"400"},attrs:{data:e.map.layers,"show-header":!1,size:"mini","empty-text":" ","row-class-name":e.layerClassName}},[e._c("el-table-column",{attrs:{align:"center",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("img",{attrs:{src:e.iconUrl(t.row),width:"20"},on:{click:function(n){e.showLegendPanel(t.row)}}})]}}])}),e._v(" "),e._c("el-table-column",{attrs:{align:"center",width:"25"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._c("el-checkbox",{staticClass:"gv-layer-visibility-cb",attrs:{disabled:!t.row.inRange},on:{change:function(n){e.setLayerVisible(t.row)}},model:{value:t.row.visible,callback:function(n){e.$set(t.row,"visible",n)},expression:"scope.row.visible"}})],1)]}}])}),e._v(" "),e._c("el-table-column",{staticStyle:{"word-break":"normal"},attrs:{"class-name":"gv-inverted-color-scheme-light"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("el-popover",{directives:[{name:"show",rawName:"v-show",value:!t.row.inRange,expression:"!scope.row.inRange"}],attrs:{trigger:"hover",placement:"left-start",offset:"10","popper-class":"gv-layer-popover"}},[e._c("p",[e._v(e._s(t.row.scaleRangeLabel))]),e._v(" "),e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&e.options.layerPopover.find,expression:"options.layerPopover && options.layerPopover.find"}],staticClass:"gv-color-scheme gv-legend-map-tools-button",attrs:{title:"Ricerca sul livello",icon:"el-icon-search",size:"mini"},on:{click:function(n){e.layerSearch(t.row)}}})],1),e._v(" "),e._c("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.legend.label)+"\n          ")])]),e._v(" "),e._c("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&t.row.inRange,expression:"options.layerPopover && scope.row.inRange"}],attrs:{trigger:"hover","popper-class":"popover-scala",placement:"left-start",width:"150",offset:"15"}},[e._c("div",{staticClass:"gv-legend-transparency-layer-slider"},[e._c("el-slider",{on:{change:function(n){e.setLayerTransparency(t.row)}},model:{value:t.row.opacityBase100,callback:function(n){e.$set(t.row,"opacityBase100",n)},expression:"scope.row.opacityBase100"}})],1),e._v(" "),e._c("el-row",{staticClass:"row-bg gv-legend-popover-buttons",attrs:{type:"flex",justify:"left"}},[e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&e.options.layerPopover.find,expression:"options.layerPopover && options.layerPopover.find"}],staticClass:"gv-color-scheme gv-legend-map-tools-button",attrs:{title:"Ricerca sul livello",icon:"el-icon-search",size:"mini"},on:{click:function(n){e.layerSearch(t.row)}}})],1),e._v(" "),e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-checkbox",{staticClass:"gv-layer-visibility-cb",on:{change:function(n){e.setLayerVisible(t.row)}},model:{value:t.row.visible,callback:function(n){e.$set(t.row,"visible",n)},expression:"scope.row.visible"}})],1)]),e._v(" "),e._c("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.legend.label)+"\n          ")])],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:!e.options.layerPopover&&t.row.inRange,expression:"!options.layerPopover && scope.row.inRange"}],staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n          "+e._s(t.row.legend.label)+"\n        ")])]}}])})],1)],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-legend"}},[e._c("div",{staticClass:"gv-legend-title gv-color-scheme",attrs:{id:"gv-legend-title"}},[e._c("b",[e._v("LEGENDA")]),e._v(" "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Legenda"},on:{click:e.hideLegend}}),e._v(" "),e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.showAddMap,expression:"options.showAddMap"}],staticClass:"gv-color-scheme gv-legend-buttons ms ms-layers-add",attrs:{id:"gv-legend-add-map",title:"Aggiungi Mappe",size:"mini"},on:{click:e.addMap}}),e._v(" "),e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.showDownloadTotale,expression:"options.showDownloadTotale"}],staticClass:"gv-color-scheme gv-legend-buttons el-icon-download",attrs:{id:"gv-legend-add-map",title:"Download Mappe",size:"mini"},on:{click:e.downloadMaps}})],1),e._v(" "),e._c("div",{staticClass:"gv-legend-title-collapsed gv-color-scheme",attrs:{id:"gv-legend-title-collapsed"}},[e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Mostra Legenda"},on:{click:e.hideLegend}})]),e._v(" "),e._c("div",{staticClass:"gv-legend-wrapper",attrs:{id:"gv-legend-wrapper"}},[e._c("gv-legend-maps",{attrs:{maps:e.maps,options:e.options}}),e._v(" "),e._c("div",{staticClass:"gv-legend-footer gv-inverted-color-scheme"},[e.options.showBaseLayerSwitcher?e._c("gv-base-layer-switcher",{ref:"gv-base-layer-switcher"}):e._e()],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-scuoladigitale-legend"}},[e._c("div",{staticClass:"gv-scuoladigitale-legend-title gv-color-scheme",attrs:{id:"gv-scuoladigitale-legend-title"}},[e._v("\n    "+e._s(e.title)+"\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Legenda"},on:{click:e.hideLegend}})]),e._v(" "),e._c("div",{staticClass:"gv-scuoladigitale-legend-wrapper",attrs:{id:"gv-scuoladigitale-legend-wrapper"}},[e._c("div",[e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-scuoladigitale-legend-body"}},[e._c("gv-legend-maps",{attrs:{options:e.options}})],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{title:"Info sui livelli della mappa"},on:{click:e.onClick}})},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-coordinate",title:"Acquisizione Coordinate"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{attrs:{id:"gv-map"}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-search",attrs:{id:"gv-search"}},[e._c("el-select",{attrs:{id:"gv-seach-input",filterable:"",clearable:"",remote:"",size:"mini",placeholder:e.placeHolder,"remote-method":e.search,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun elemento trovato","no-data-text":"Nessun elemento trovato"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]}},,,function(e,t){},function(e,t){}]);
=======
webpackJsonp([33,32],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(37),i=a(o),r=n(36),l=a(r);n(498),n(499);var s=n(606),c=a(s),u=n(320),d=(a(u),n(6)),f=a(d),p=n(157),g=a(p),m=n(371),v=a(m),h=n(368),y=a(h),_=n(7),b=a(_),w=n(19),C=a(w),M=n(367),S=a(M),E=n(361),L=a(E),O=n(362),x=a(O),I=n(360),T=a(I),R=n(359),G=a(R),A=n(331),V=a(A),P=n(346),F=a(P),z=n(337),k=a(z),B=n(315),N=a(B),D=n(1),j=a(D),U=n(628),W=a(U),q=n(366),H=a(q);n(607);n(620),n(184),n(184),n(326),n(325),n(327),n(497).polyfill(),window.GV={init:function(e){var t=this;return(0,l.default)(i.default.mark(function n(){var a,o,r,l,s,u,d,f,p;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("INIT",e),!e.application.mapOptions||"openlayers"!==e.application.mapOptions.type){n.next=17;break}if(console.log("Caricamento libreria OpenLayers"),a=["/geoservices/apps/viewer/dist/openlayers/ol.js","/geoservices/apps/viewer/dist/openlayers/ol.css","/geoservices/apps/viewer/dist/proj4js/proj4.js"],o=["/geoservices/apps/viewer/dist/proj4js/3003.js"],!e.application.mapOptions.ol3d){n.next=13;break}return window.CESIUM_BASE_URL="/geoservices/apps/viewer/dist/cesium/Build/Cesium",r=["/geoservices/apps/viewer/dist/cesium/Build/Cesium/Cesium.js"],l=["/geoservices/apps/viewer/dist/olcs/olcesium.js","/geoservices/apps/viewer/dist/olcs/olcs.css"],n.next=11,(0,c.default)(o,(0,c.default)(l,(0,c.default)(a,(0,c.default)(r))));case 11:n.next=15;break;case 13:return n.next=15,(0,c.default)(o,(0,c.default)(a));case 15:n.next=21;break;case 17:return console.log("Caricamento libreria LeafLet"),s=["/geoservices/apps/viewer/dist/leaflet/leaflet-min.js","/geoservices/apps/viewer/dist/leaflet/leaflet-min.css"],n.next=21,(0,c.default)(s);case 21:return n.next=23,(0,k.default)();case 23:if(u=n.sent,GV.globals.ENV=u,t.messageEventListener(),!e.application.auth){n.next=43;break}d=e.application.auth.options,n.t0=e.application.auth.type,n.next="NAM"===n.t0?31:"S3"===n.t0?36:41;break;case 31:return n.next=33,(0,V.default)(d.ruolo);case 33:return f=n.sent,f.success?t.initConfig(e):(0,C.default)("ACCESSO ALLA APPLICAZIONE NON AUTORIZZATO"),n.abrupt("break",41);case 36:return n.next=38,(0,G.default)(d.s3Token,d.s3TokenType,d.s3TokenProv);case 38:return p=n.sent,p.success&&p.found?t.initConfig(e):(0,C.default)("ACCESSO ALLA APPLICAZIONE NON AUTORIZZATO"),n.abrupt("break",41);case 41:n.next=44;break;case 43:t.initConfig(e);case 44:case"end":return n.stop()}},n,t)}))()},messageEventListener:function(){window.addEventListener("message",function(e){var t=e.data;!t.type},!1)},initConfig:function(e){GV.config=N.default,N.default.init(e),j.default.component("gv-app",W.default);var t=new j.default({el:"#gv-container",template:"<gv-app></gv-app>"});return t},mountLegend:function(){(0,b.default)({elId:"gv-legend",clear:!0,containerId:GV.config.containerId,vm:new j.default({template:'<gv-legend ref="gv-legend"></gv-legend>'})})},mount:function(e){(0,b.default)({elId:e.eldId,clear:e.clear,containerId:GV.config.containerId,vm:new j.default({template:e.template,data:e.data})})},dragbox:y.default,globals:f.default,log:v.default,eventBus:new j.default,utils:{getUrlParam:g.default,buildFindOptionsFromQueryStringParams:S.default,insertAgCoordinate:L.default,notification:C.default,insertGeomPraticaGenio:x.default,getS3TokenBbox:T.default,getS3Token:G.default,getGeneric:F.default},tools:H.default,gvInfoFeatures:[]}},,,,,function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_PROXY:"/geoservices/REST/proxy/proxy?url=",USE_SUBDOMAINS:!0,RL_MAP_CONFIG_SERVICE:"/geoservices/REST/geoportale/map/",RL_LAYER_CONFIG_SERVICE:"/geoservices/REST/config/layer/",RL_QUERY_LAYER_VALUE_LIST_SERVICE:"/geoservices/REST/config/query_layer_valuelist/",RL_QUERY_LAYER_TOPO_VALUE_LIST_SERVICE:"/geoservices/REST/config/query_layer_topo_valuelist/",RL_QUERY_LAYER_SERVICE:"/geoservices/REST/config/query_layer/",RL_QUERY_LAYER_TOPO_SERVICE:"/geoservices/REST/config/query_layer_topo/",RL_DYN_MAP_CONFIG_SERVICE:"/geoservices/REST/config/map/",RL_CREATE_SLD_SERVICE:"/geoservices/REST/config/create_sld/",RL_XSL_INFO_SERVICE:"/geoservices/REST/config/info_xsl?",RL_CATALOG_SERVICE:"/geoservices/REST/geoportale/catalogo/",RL_CANALI_SERVICE:"/geoservices/REST/config/ag_app_canali_tree/",RL_CANALE_CARTE_SERVICE:"/geoservices/REST/config/ag_canale_tree/",RL_DOWNLOAD_CONFIG_SERVICE:"/geoservices/REST/download/map/",RL_DOWNLOAD_INSERT_SERVICE:"/geoservices/REST/download/insert_richiesta/",RL_DOWNLOAD_ESEGUI_RICHIESTA:"/geoservices/REST/download/elabora_richiesta_sincrona/",RL_ENTI_SERVICE:"/geoservices/REST/geoportale/enti/",RL_METADATA_URL:"/geoservices/REST/metadata/scheda_xml/",RL_TRANSFORM_POINT_SERVICE:"/geoservices/REST/coordinate/transform_point/",RL_TRANSFORM_BBOX_SERVICE:"/geoservices/REST/coordinate/transform_bbox/",RL_TRANSFORM_POLY_SERVICE:"/geoservices/REST/coordinate/transform_poly/",RL_ELEVATION:"/geoservices/REST/coordinate/elevation/",RL_AG_APP_LISTA_MAPPE:"/geoservices/REST/config/ag_app_lista_mappe/",RL_CATALOG:"pub",HERE_GEOCODE_PROXY:"/geoservices/REST/proxy/here_geocode.v3",MAPBOX_USERNAME:"stefanoparodi",MAPBOX_ACCESS_TOKEN:"pk.eyJ1Ijoic3RlZmFub3Bhcm9kaSIsImEiOiJjaXRma2VzeWgwMGVmMnh0bzJzMmVjcGVtIn0.2lTBdEwBI6_2QBzboizE5g",MAX_BOUNDS:{X_MIN:43.4,Y_MIN:7.3,X_MAX:44.8,Y_MAX:10.5},INFO_WMS_MAX_FEATURES:10,BASE_SCALES:[591657550.5,295828775.3,147914387.6,73957193.82,36978596.91,18489298.45,9244649.227,4622324.614,2311162.307,1155581.153,577790.5767,288895.2884,144447.6442,72223.82209,36111.91104,18055.95552,9027.977761,4513.98888,2256.99444,1128.49722,564.24861,282.124305],BASE_LAYERS:{BLANK:{label:"Sfondo Bianco",icon:"/geoservices/apps/viewer/static/img/legend/bianco.gif"},RL_ORTOFOTO_2013:{label:"AGEA: Ortofoto 2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2010:{label:"AGEA: Ortofoto 2010",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2007:{label:"AGEA: Ortofoto 2007",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2000:{label:"Ortofoto IT 2000",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2016:{label:"AGEA: Ortofoto 2016",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_ORTOFOTO_2019:{label:"AGEA: Ortofoto 2019",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE:{label:"Carte Regionali 2007 -2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE_NC25:{label:"Carta Regionale 1:25000 - DBT NC25",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},RL_CARTE_BASE_GS:{label:"Carte Regionali 2007 -2013",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_STREETS:{label:"Stradario",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_DARK_MATTER:{label:"Dark",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_POSITRON:{label:"Positron",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_MONOCHROME:{label:"Monochrome",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},TS_TONER:{label:"Toner",icon:"/geoservices/apps/viewer/static/img/legend/sfondi_rl.jpg"},OSM:{label:"OpenStreetMap",icon:"/geoservices/apps/viewer/static/img/legend/openstreetmap.png"},ESRI_IMAGERY:{label:"ESRI Imagery",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_GRAY:{label:"ESRI Gray",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_DARKGRAY:{label:"ESRI Dark Gray",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},ESRI_STREETS:{label:"ESRI Streets",icon:"/geoservices/apps/viewer/static/img/legend/esri.gif"},MAPBOX_STREETS:{label:"Mapbox Streets",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_MONOCHROME:{label:"Mapbox Monochrome",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_VIABILITA:{label:"Carta della Viabilità",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_VIABILITA_SATELLITARE:{label:"Carta satellitare della Viabilità",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_OUTDOOR:{label:"Mapbox Outdoor",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"},MAPBOX_LIGHT:{label:"Mapbox Light",icon:"/geoservices/apps/viewer/static/img/legend/mapbox.png"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elId,n=e.vm,a=e.toggleEl,o=document.getElementById(t);if(a&&o)o.style.display="none"!==o.style.display&&o.style.display?"none":"block";else{var r=(0,i.default)(e);n.$mount(r)}return n};var o=n(155),i=a(o)},,function(e,t){},,,,function(e,t){},function(e,t){},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a="info"===t?"Info":"Attenzione!!!";e&&t&&(0,s.default)({title:a,type:t,duration:n,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:e})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),r=(a(i),n(5)),l=(a(r),n(76)),s=a(l);t.default=o},,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(t,n){t.wmsParams.infoFormat||(t.wmsParams.infoFormat=n);var a=i(t,e);switch(Q++,n){case"application/json":(0,z.default)(a).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;case"application/geojson":(0,D.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;case"text/plain":(0,U.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)});break;default:(0,B.default)(a,t.wmsParams.name).then(function(e){return s(e,t.name)}).catch(function(e){return console.error(e)})}}GV.log("start info request: "+new Date),Y=0,Q=0,J=[],GV.config.maps.forEach(function(e){var n=e.flagGeoserver?"application/json":"application/vnd.ogc.gml";e.layers.forEach(function(e){"WMS"===e.type&&e.queryable&&e.visible&&GV.app.map.layerInRange(e)&&t(e,n)})})}function i(e,t){if("openlayers"===GV.app.map.type)return r(e,t);var n=e.infoOptions.infoQueryUrl||S.default.DEFAULT_PROXY+e.wmsParams.url,a=e.infoOptions.infoQueryLayers||e.wmsParams.name,o=e.wmsParams.cql_filter,i=e.wmsParams.infoFormat;return l(n,a,t.latlng,i,e.infoBuffer,o)}function r(e,t){var n=e.infoOptions.infoQueryUrl||e.wmsParams.url,a=e.infoOptions.infoQueryLayers||e.wmsParams.name,o=e.wmsParams.infoFormat,i=e.infoBuffer||10,r=GV.app.map.getView().getProjection(),l=GV.app.map.getView().getResolution(),s=new ol.source.ImageWMS({url:n,params:{LAYERS:e.wmsParams.name},ratio:1,serverType:"geoserver"}),c=s.getFeatureInfoUrl(t.coordinate,l,r,{INFO_FORMAT:o,QUERY_LAYERS:a,FEATURE_COUNT:100,BUFFER:i});return c=S.default.DEFAULT_PROXY+c}function l(e,t,n,a,o,i){var r=GV.app.map.getContainerPoint(n),l=GV.app.map.getSize(),s=GV.app.map.getBbox(),c=null===o||void 0===o?10:o,u={request:"GetFeatureInfo",service:"WMS",crs:"EPSG:3857",styles:"",version:"1.3.0",bbox:s,height:l.y,width:l.x,layers:t,query_layers:t,FEATURE_COUNT:100,buffer:c,info_format:a,i:parseInt(r.x),j:parseInt(r.y)};return i&&(u.cql_filter=i),e+(0,P.default)(u,e,!0)}function s(e,t){function n(e,t){var n=GV.app.map.getLayerByName(e).config,o=a(t,n.cachePostGIS);return o}function a(e,t){var n={};for(var a in e)"bbox"!==a&&e.hasOwnProperty(a)&&(t?n[a.toUpperCase()]=e[a]:n[a]=e[a]);return n}function o(e,t){var n,a;return n=i(e,"infoLabelAttr"),a=i(e,"infoIdAttr"),n&&t[n]?t[n]:a&&t[a]?t[a]:t[r(t)]}function i(e,t){var n=GV.app.map.getLayerByName(e).config;return n&&n.infoOptions&&n.infoOptions[t]?n.infoOptions[t]:null}function r(e){for(var t in e)if(e.hasOwnProperty(t)&&"function"!=typeof t)return t;return null}if(e&&(Y++,e.forEach(function(e){e.text?(e.layer=GV.app.map.getLayerByName(e.layerName),e.infoOptions=e.layer.config.infoOptions):(e.layerName=t,e.layer=GV.app.map.getLayerByName(t),e.properties=n(t,e.properties),e.label=o(t,e.properties),e.infoOptions=e.layer.config.infoOptions)}),Array.prototype.push.apply(J,e),Y===Q)){if(0===J.length)return void GV.log("Nessun elemento trovato");if(1===J.length){var l=document.getElementById("gv-info-wms-list");l&&l.parentNode.removeChild(l),c(J[0])}else(0,I.default)({elId:"gv-info-wms-list",clear:!0,vm:new O.default({template:'<gv-info-wms-list :items="items"></gv-info-wms-list>',data:{items:J}})});GV.log("end info request: "+new Date)}}function c(e){var t=m(e);switch(t){case"text":p(e);break;case"generico":f(e);break;case"xsl":g(e);break;case"gvi":u(e);break;default:d(e)}v(e)}function u(e){var t=e.id,n=e.layer.config.id;GV.gvInfoFeatures[t]=e;var a="gvi-info-"+t,o="/geoservices/apps/gvi/info/"+n+"/?feature_id="+t;e.infoOptions.infoTarget&&"panel"!==e.infoOptions.infoTarget?y(o,e.infoOptions):h(o,e.infoOptions,a)}function d(e){var t=(0,A.default)(e.infoOptions.infoUrl,e.properties);e.infoOptions.infoTarget&&"panel"!==e.infoOptions.infoTarget?y(t,e.infoOptions):h(t,e.infoOptions)}function f(e){var t=e.layer.legend.label;(0,I.default)({elId:"gv-info-generico",vm:new O.default({template:'<gv-info-generico :properties="properties" :height="height" :width="width" :title="title"></gv-info-generico>',data:{title:t,properties:e.properties,width:e.infoOptions.infoWidth||400,height:e.infoOptions.infoHeight||600}})})}function p(e){var t=e.infoOptions,n=t.infoUrl,a={text:e.text.replace(/(?:\r\n|\r|\n)/g,"<br>")};(0,Z.default)(n,a).then(function(e){var n=e.infoUrl;h(n,t)})}function g(e){function t(e){try{var t='<?xml version="1.0" encoding="ISO-8859-1"?><msGMLOutput xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></msGMLOutput>',n=(0,R.default)(t),a=/^\d/.test(e.layerName)?"L"+e.layerName.replace(/\s+/g,"_"):e.layerName.replace(/\s+/g,"_"),o=a+"_layer",i=n.createElement(o),r=a+"_feature",l=n.createElement(r),s=e.properties;for(var c in s)if(s.hasOwnProperty(c)&&"boundedBy"!==c){var u=null;u=0===s[c]||s[c]?n.createTextNode(s[c]):n.createTextNode("");var d=c.match(/^\d/)?"_"+c:c,f=n.createElement(d);f.appendChild(u),l.appendChild(f)}return i.appendChild(l),n.documentElement.appendChild(i),n}catch(e){console.error(e)}}var n=e.infoOptions,a=t(e);e.gml=(new XMLSerializer).serializeToString(a);var o=n.infoUrl,i=n.infoTarget;(0,Z.default)(o,e).then(function(e){var t=e.infoUrl;i&&"panel"!==i?y(t,n):h(t,n)})}function m(e){var t=e.infoOptions.infoUrl;return console.log("infoUrl!!!!!!",t),e.text?"text":"gvi"===t?"gvi":"generico.xsl"===t.substr(t.length-12)?"generico":".xsl"===t.substr(t.length-4)?"xsl":void 0}function v(e){if(e.layer.config.flagGeoserver&&"VECTOR"===e.layer.config.geomType){var t=([e.layerName],e.layer.config),n=t.infoOptions.infoIdAttr;n&&t.cachePostGIS&&(n=n.toLowerCase());var a=n+"='"+e.properties[t.infoOptions.infoIdAttr]+"'";e.layer.config.wmsParams.cql_filter&&(a+=" AND "+e.layer.config.wmsParams.cql_filter),(0,q.default)(t.wfsParams,a,null).then(function(e){GV.app.map.hiliteFeatures(e)})}}function h(e,t,n){var a=n||"gv-info-wms-html";(0,I.default)({elId:a,vm:new O.default({template:'<gv-info-wms-html :src="src" :height="height" :width="width" :title="title" :id="id"></gv-info-wms-html>',data:{title:"Risultato Info",src:e,width:t.infoWidth||400,height:t.infoHeight||400,id:a}})})}function y(e,t){var n=t.infoWidth||400,a=t.infoHeight||500,o=t.infoTarget,i=window.open(e,o,"status=yes, toolbar=yes, menubar=no, width="+n+", height="+a+", resizable=yes, scrollbars=yes"),r=setInterval(function(){i.closed&&(clearInterval(r),console.log("Chiusa Popup"),GV.app.map.clearLayer("InfoWmsHilite"))},1e3);return i?i:void(0,$.default)("Popup bloccata sul browser<br>Per visualizzare info è necessario abilitare popup","info")}function _(){"openlayers"===GV.app.map.type?b():w()}function b(){var e=[255,204,0,.6],t=new ol.style.Stroke({color:e,width:6}),n={Point:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:null,stroke:t})}),MultiPoint:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:null,stroke:t})}),LineString:new ol.style.Style({stroke:t}),MultiLineString:new ol.style.Style({stroke:t}),Polygon:new ol.style.Style({stroke:t}),MultiPolygon:new ol.style.Style({stroke:t}),GeometryCollection:new ol.style.Style({stroke:t,image:new ol.style.Circle({radius:8,fill:null,stroke:t})})};GV.app.map.loadLayers([{name:"InfoWmsHilite",type:"JSON",style:function(e){return n[e.getGeometry().getType()]},visible:!0,zIndex:1e3}])}function w(){GV.app.map.loadLayers([{name:"InfoWmsHilite",type:"JSON",style:{color:"#ffcc00",fillOpacity:0,weight:6,opacity:.6},pointToLayer:function(e,t){return L.circleMarker(t,{radius:8,color:"#ffcc00",fillColor:"#ffcc00",fill:!0,fillOpacity:.6,weight:6,opacity:.6})},visible:!0}])}function C(e){o(e)}Object.defineProperty(t,"__esModule",{value:!0});var M=n(6),S=a(M),E=n(1),O=a(E),x=n(7),I=a(x),T=n(110),R=a(T),G=n(372),A=a(G),V=n(156),P=a(V),F=n(100),z=a(F),k=n(340),B=a(k),N=n(338),D=a(N),j=n(339),U=a(j),W=n(35),q=a(W),H=n(341),Z=a(H),X=n(19),$=a(X),Y=0,Q=0,J=[];t.default={id:"info-wms-manager",active:!1,firstActivation:!0,addHiliteLayer:_,getGetFeatureInfoUrl:i,features:J,activate:function(){GV.log("GV.app.infoWmsManager.activate"),this.active=!0,GV.app.map?_(GV.app.map):GV.eventBus.$on("gv-map-mounted",function(e){_(e)}),GV.app.map.on("click",C),GV.app.infoWmsManager=this,GV.config.activeControl=this},deactivate:function(){GV.log("GV.app.infoWmsManager.deactivate"),GV.app.map.off("click",C),this.active=!1},showFeatureInfo:c}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!n&&!e&&!e.url)return void console.warning("getWFSFeature: URL non impostata");var a=""+GV.globals.DEFAULT_PROXY+n;if(e){var o="service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson";a=""+GV.globals.DEFAULT_PROXY+e.url+o+"&typeName="+e.typeName+"&cql_filter="+t}var i=s.default.service({text:"Attendere...",background:"rgba(0, 0, 0, 0.8)"});return u.default.get(a).then(function(e){return i.close(),e.data.features}).catch(function(e){i.close(),console.error(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(a(i),n(5)),l=(a(r),n(30)),s=a(l);t.default=o;var c=n(4),u=a(c),d=n(6);a(d)},,,,,,function(e,t){},function(e,t){},,function(e,t){},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,a){var o=""+s.default.RL_TRANSFORM_POINT_SERVICE+e+"/"+t+"/"+n+","+a;return r.default.get(o,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return r.default.get(e,{params:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},,,,,,,,,,function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{switchActiveButton:function(){this.active=!this.active,this.active?(GV.config.activeControl&&GV.config.activeControl.deactivate(),GV.config.activeControl=this.control,GV.config.activeButton&&this.name!==GV.config.activeButton.name&&(GV.config.activeButton.active=!1),GV.config.activeButton=this,GV.config.activeButton.active=!0,this.control.activate()):this.control.deactivate()}},mounted:function(){this.options&&this.options.active&&this.switchActiveButton()}}},,,function(e,t){},,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return r.default.get(e,{params:t}).then(function(e){return e.data.features})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},,,,,,,,,function(e,t,n){function a(e){return e&&e.__esModule?e:{default:e}}var o,i,r,l=n(69);a(l);!function(n,a){i=[],o=a,r="function"==typeof o?o.apply(t,i):o,!(void 0!==r&&(e.exports=r))}(void 0,function(){return function(e){"use strict";function t(){void 0===e.escapeMode&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1)}function n(){}function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function o(e){return e.prefix}function i(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function r(e,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if("string"==typeof i){if(i==a)break}else if(i instanceof RegExp){if(i.test(a))break}else if("function"==typeof i&&i(t,n,a))break}return o!=e.length}function l(t,n,a){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&r(e.arrayAccessFormPaths,t,n,a)&&(t[n]=[t[n]])}function s(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),a=t[5].split(".");if(n.setHours(t[3],t[4],a[0]),a.length>1&&n.setMilliseconds(a[1]),t[6]&&t[7]){var o=60*t[6]+Number(t[7]),i=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";o=0+("-"==i?-1*o:o),n.setMinutes(n.getMinutes()-o-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function c(t,n,a){if(e.datetimeAccessFormPaths.length>0){var o=a.split(".#")[0];return r(e.datetimeAccessFormPaths,t,n,o)?s(t):t}return t}function u(t,n,a,o){return!(n==E.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||r(e.xmlElementsFilter,t,a,o)}function d(t,n){if(t.nodeType==E.DOCUMENT_NODE){for(var i=new Object,r=t.childNodes,s=0;s<r.length;s++){var f=r.item(s);if(f.nodeType==E.ELEMENT_NODE){var p=a(f);i[p]=d(f,p)}}return i}if(t.nodeType==E.ELEMENT_NODE){var i=new Object;i.__cnt=0;for(var r=t.childNodes,s=0;s<r.length;s++){var f=r.item(s),p=a(f);if(f.nodeType!=E.COMMENT_NODE){var g=n+"."+p;u(i,f.nodeType,p,g)&&(i.__cnt++,null==i[p]?(i[p]=d(f,g),l(i,p,g)):(null!=i[p]&&(i[p]instanceof Array||(i[p]=[i[p]],l(i,p,g))),i[p][i[p].length]=d(f,g)))}}for(var m=0;m<t.attributes.length;m++){var v=t.attributes.item(m);i.__cnt++,i[e.attributePrefix+v.name]=v.value}var h=o(t);return null!=h&&""!=h&&(i.__cnt++,i.__prefix=h),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==e.arrayAccessForm&&delete i["#text_asArray"],i.__text=c(i.__text,p,n+"."+p)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==e.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==e.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||e.keepCData?i.__cnt>1&&null!=i.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!e.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(t.nodeType==E.TEXT_NODE||t.nodeType==E.CDATA_SECTION_NODE)return t.nodeValue}function f(t,n,a,o){var r="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=a)for(var l=0;l<a.length;l++){var s=a[l],c=t[s];e.escapeMode&&(c=i(c)),r+=" "+s.substr(e.attributePrefix.length)+"=",r+=e.useDoubleQuotes?'"'+c+'"':"'"+c+"'"}return r+=o?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function g(e,t){return e.indexOf(t,e.length-t.length)!==-1}function m(t,n){return!!("property"==e.arrayAccessForm&&g(n.toString(),"_asArray")||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||t[n]instanceof Function)}function v(e){var t=0;if(e instanceof Object)for(var n in e)m(e,n)||t++;return t}function h(t,n,a){return 0==e.jsonPropertiesFilter.length||""==a||r(e.jsonPropertiesFilter,t,n,a)}function y(t){var n=[];if(t instanceof Object)for(var a in t)a.toString().indexOf("__")==-1&&0==a.toString().indexOf(e.attributePrefix)&&n.push(a);return n}function _(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(n+=e.escapeMode?i(t.__text):t.__text),n}function b(t){var n="";return t instanceof Object?n+=_(t):null!=t&&(n+=e.escapeMode?i(t):t),n}function w(e,t){return""===e?t:e+"."+t}function C(e,t,n,a){var o="";if(0==e.length)o+=f(e,t,n,!0);else for(var i=0;i<e.length;i++)o+=f(e[i],t,y(e[i]),!1),o+=M(e[i],w(a,t)),o+=p(e[i],t);return o}function M(e,t){var n="",a=v(e);if(a>0)for(var o in e)if(!m(e,o)&&(""==t||h(e,o,w(t,o)))){var i=e[o],r=y(i);if(null==i||void 0==i)n+=f(i,o,r,!0);else if(i instanceof Object)if(i instanceof Array)n+=C(i,o,r,t);else if(i instanceof Date)n+=f(i,o,r,!1),n+=i.toISOString(),n+=p(i,o);else{var l=v(i);l>0||null!=i.__text||null!=i.__cdata?(n+=f(i,o,r,!1),n+=M(i,w(t,o)),n+=p(i,o)):n+=f(i,o,r,!0)}else n+=f(i,o,r,!1),n+=b(i),n+=p(i,o)}return n+=b(e)}var S="1.2.0";e=e||{},t(),n();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;var n;if(window.DOMParser){var a=new window.DOMParser,o=null;if(!t)try{o=a.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){o=null}try{n=a.parseFromString(e,"text/xml"),null!=o&&n.getElementsByTagNameNS(o,"parsererror").length>0&&(n=null)}catch(e){n=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?s(e):e},this.xml2json=function(e){return d(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return M(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return S}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){try{var t=null;if((0,r.default)()){var n=new ActiveXObject("Microsoft.XMLDOM");n.async="false",n.loadXML(e),t=n}else{var a=new DOMParser;t=a.parseFromString(e,"text/xml")}return t}catch(e){console.error(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(159),r=a(i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a,o;n(582),a=n(292);var i=n(775);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-ad3b01fe",e.exports=a},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-coordinate-panel",function(){return new i.default(function(e){n.e(21,function(t){e(n(635))})})});var u={id:"coordinate",active:!1,latlng:null,activate:function(){GV.log("GV.controls.coordinate.activate"),this.active=!0,this.openPanel(),GV.eventBus.$emit("gv-control-coordinate-activate",this)},deactivate:function(){GV.log("GV.controls.coordinate.deactivate"),GV.eventBus.$emit("gv-control-coordinate-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-coordinate-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-coordinate-panel></gv-coordinate-panel>"})})},closePanel:function(){document.getElementById("gv-coordinate-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.default.RL_CATALOG_SERVICE;return e.idMap&&(t+=e.idMap),e.cat=GV.globals.RL_CATALOG,r.default.get(t,{params:e}).then(function(e){return e.data.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e||"null"===e)throw new Error("Parametro idMap mancante");var t=e.startsWith("D")?""+s.default.RL_DYN_MAP_CONFIG_SERVICE+e:""+s.default.RL_MAP_CONFIG_SERVICE+e,n={};return GV.config.application.name?n.app=GV.config.application.name:n.app="gv2",GV.config.geoserverUrl&&(n.geoserverUrl=GV.config.geoserverUrl),GV.config.flagGeoserver&&(n.geoserver="true"),r.default.get(t,{params:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var a=""+s.default.RL_TRANSFORM_BBOX_SERVICE+e+"/"+t+"/"+n;return r.default.get(a,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.default.RL_DOWNLOAD_CONFIG_SERVICE+e;return i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6),l=a(r)},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(new s).xml_str2json(e)}function i(e){var t=GV.globals.DEFAULT_PROXY+e;return l.default.get(t).then(function(e){var t=e.data,n=o(t);return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(4),l=a(r),s=n(109)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=e.fields;e.values.split(",").forEach(function(e){t.push(n+"='"+e+"'")});var a=encodeURIComponent(t.join(" OR "));return a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elType||"div",n=e.containerId||"gv-container",a=e.elId,o=e.clear;o&&document.getElementById(a)&&document.getElementById(a).remove();var i=document.createElement(t);return i.id=a,document.getElementById(n)?document.getElementById(n).appendChild(i):(console.log("Elemento "+n+" non trovato faccio mount su body"),document.body.appendChild(i)),i}},function(e,t){"use strict";function n(e,t,n){var a=[];for(var o in e)a.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&t.indexOf("?")!==-1?"&":"?")+a.join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(window.location.href);return t&&"null"===t[1]&&(t=null),t?decodeURIComponent(t[1]):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=r.default.BASE_SCALES.findIndex(function(t){return e>t});return t<0?20:t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(6),r=a(i)},function(e,t){"use strict";function n(){return navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("Edge")>0;
}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(){return window.matchMedia("(pointer: coarse)").matches}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){var a=n(605);"string"==typeof a&&(a=[[e.id,a,""]]);n(183)(a,{});a.locals&&(e.exports=a.locals)},,,,function(e,t,n){var a,o;n(591),a=n(268);var i=n(783);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(374),i=a(o),r=n(53),l=a(r),s=n(10),c=a(s),u=n(160),d=(a(u),n(369)),f=(a(d),n(7)),p=a(f),g=n(1),m=a(g),v=n(664),h=a(v),y=n(662),_=a(y),b=n(650),w=a(b),C=n(138),M=a(C);m.default.component("gv-map",h.default),m.default.component("gv-legend",_.default),m.default.component("gv-header",w.default),m.default.component("gv-title",M.default),m.default.component("gv-iframe-panel",function(){return new c.default(function(e){n.e(29,function(t){e(n(652))})})}),m.default.component("gv-info-wms-list",function(){return new c.default(function(e){n.e(25,function(t){e(n(656))})})}),m.default.component("gv-info-wms-html",function(){return new c.default(function(e){n.e(26,function(t){e(n(655))})})}),m.default.component("gv-info-generico",function(){return new c.default(function(e){n.e(27,function(t){e(n(654))})})}),t.default={name:"gv-app",data:function(){return{showHeader:GV.config.application.layout.header,showLegend:GV.config.application.layout.legend,showToolbar:GV.config.application.layout.toolbar}},created:function(){GV.log("gv-app: created"),GV.app=this},mounted:function(){GV.log("gv-app: mounted"),this.addTools(GV.config.application.layout.tools),GV.eventBus.$emit("gv-app-mounted",this)},methods:{addTools:function(){var e=this;if(GV.config.application.layout.tools){var t=GV.config.application.layout.tools;t.forEach(function(t){var n=t.position||"topleft";t.options=t.options||{},e.addTool(t,n)})}},addTool:function(e,t){var n=!1;GV.tools.forEach(function(a){if(e.name===a.name){n=!0;var o=e.name;GV.log("gv-app: addTool -> "+o),e.active&&(e.options.active=!0);var r=e.options.props?e.options.props.map(function(e){return(0,l.default)(e)[0]+"="+(0,i.default)(e)[0]}).join(" "):"",s="gv-tool-"+t;(0,p.default)({containerId:s,elId:o,vm:new m.default({template:"<"+o+" "+r+"></"+o+">"}),toggleEl:!1})}}),n||console.error("Strumento "+e.name+" non trovato")}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(5)),d=(a(u),n(12)),f=a(d),p=n(1),g=a(p),m=n(7),v=a(m),h=n(330),y=a(h),_=n(34),b=a(_),w=n(100),C=a(w);g.default.use(f.default),g.default.use(s.default),g.default.component("gv-atlante-geochimico-scheda-panel",function(){return new i.default(function(e){n.e(31,function(t){e(n(630))})})}),t.default={data:function(){return{livelli:[],livello:null,downloadConfig:null,metaData:null,layerConfig:null,show:!0,showLegend:!1,legendUrl:null,baseMapConfigId:2037}},methods:{toggleCollapseClass:function(){return this.show?"gv-panel-collapse gv-color-scheme el-icon-arrow-up":"gv-panel-collapse gv-color-scheme el-icon-arrow-down"},hidePanel:function(){this.show?document.getElementById("ag-wrapper").style.display="none":document.getElementById("ag-wrapper").style.display="block",this.show=!this.show},onChange:function(e){var t=this.livelli.filter(function(t){return t.id==e});this.layerConfig=t[0],this.loadLayer(t[0]),this.legendUrl="/geoservices/REST/atlante_geochimico/legenda/?id="+this.layerConfig.id,this.showLegend=!0,this.cleanUpDownload()},cleanUpDownload:function(){var e=document.getElementById("gv-map-download");e&&e.parentNode.removeChild(e);var t=GV.app.map.getLayerByName("SelezioneMacrobacino");t&&GV.app.map.removeLayer(t),GV.config.activeControl&&GV.config.activeControl.activate()},loadLayer:function(e){e.visible=!0,e.legend.popUpFlag=!1,e.multiClasse=!1;var t=e.idMap;GV.config.removeMap(t),GV.config.removeMap(this.baseMapConfigId),GV.config.addMapConfig({id:t,name:"Atlante Geochimico",flagGeoserver:!0,flagDownload:!0,downloadConfig:this.downloadConfig,metaData:this.metaData,layers:[e]}),GV.config.addRlMap(this.baseMapConfigId.toString(),!0,!1)},subscribeMapEvent:function(e){var t=this;GV.app.map.on("click",function(e){var n=t.getWmsUrl(e);t.layerConfig&&t.layerConfig.visible&&(0,C.default)(n).then(function(e){t.showInfo(e)})})},showInfo:function(e){var t={pcdf:e[0].properties.GRAY_INDEX,pest:e[1].properties.GRAY_INDEX,plower:e[2].properties.GRAY_INDEX,pupper:e[3].properties.GRAY_INDEX,Q1:e[4].properties.GRAY_INDEX,Q2:e[5].properties.GRAY_INDEX,Q3:e[6].properties.GRAY_INDEX,QCD:e[7].properties.GRAY_INDEX,cifre:this.layerConfig.infoOptions.cifreSignificative,unitaMisura:this.layerConfig.infoOptions.unitaMisura,titolo:this.layerConfig.title};(0,v.default)({elId:"gv-atlante-geochimico-scheda-panel",clear:!0,vm:new g.default({template:'<gv-atlante-geochimico-scheda-panel :pcdf="pcdf" :pest="pest" :plower="plower" :pupper="pupper" :Q1="Q1" :Q2="Q2" :Q3="Q3" :QCD="QCD" :cifre="cifre" :unitaMisura="unitaMisura" :titolo="titolo"></gv-atlante-geochimico-scheda-panel>',data:t})})},getWmsUrl:function(e){if(this.layerConfig){return this.layerConfig.wmsParams.infoFormat="application/json",this.layerConfig.infoBuffer=0,b.default.getGetFeatureInfoUrl(this.layerConfig,e)}}},mounted:function(){var e=this;(0,y.default)().then(function(t){e.livelli=t.layers.sort(function(e,t){return e.title.localeCompare(t.title)}),e.livelli.forEach(function(e){e.title=e.title.replace("2","₂").replace("3","₃").replace("5","₅")}),e.downloadConfig=t.downloadConfig,e.metaData=t.metaData}),GV.config.addRlMap(this.baseMapConfigId.toString(),!0,!1),this.subscribeMapEvent(event)}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={name:"gv-base-layer-switcher",data:function(){return{baseLayers:GV.config.baseLayers,activeBaseLayer:GV.config.activeBaseLayer}},methods:{onChange:function(e){GV.eventBus.$emit("change-base-layer",{layer:e})}},mounted:function(){GV.baseLayerSwitcher=this}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(601),i=(a(o),n(5)),r=(a(i),n(483)),l=a(r),s=n(1),c=a(s);c.default.use(l.default),t.default={name:"gv-conferma-dettaglio",props:["link","label","idMap"],data:function(){return{dialogVisible:!0}},methods:{cancel:function(){this.dialogVisible=!1},submit:function(){GV.config.addRlMap(this.idMap,!1,!0),this.dialogVisible=!1}}}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(1),l=a(r),s=n(7),c=a(s);l.default.component("image-viewer",function(){return new i.default(function(e){n.e(28,function(t){e(n(653))})})}),l.default.component("gv-fototeca-carrello-panel",function(){return new i.default(function(e){n.e(2,function(t){e(n(186))})})}),t.default={name:"gv-fototeca-immagine",props:["volo","foto"],data:function(){var e="https://geoservizi.regione.liguria.it/dtuff/Img/voli/",t=""+e+this.volo+"/"+this.foto+".jpg";return{title:"Fotogramma: "+this.foto,imgUrl:t,logo:"/geoservices/apps/imageviewer2/fototeca/logo.gif"}},methods:{addToBasket:function(){var e=this,t=GV.globals.FOTOTECA_CARRELLO.filter(function(e){return e.id===GV.globals.FOTOTECA_SEL_VOLO.id});if(0===t.length)GV.globals.FOTOTECA_CARRELLO.push({id:GV.globals.FOTOTECA_SEL_VOLO.id,label:GV.globals.FOTOTECA_SEL_VOLO.nome,dir:GV.globals.FOTOTECA_SEL_VOLO.volo.toLowerCase(),children:[{label:this.foto,file:this.foto+".jpg"}]});else{var n=t[0],a=!1;n.children.forEach(function(t){t.label===e.foto&&(a=!0)}),a||n.children.push({label:this.foto,file:this.foto+".jpg"})}this.showCart()},showCart:function(){(0,c.default)({elId:"gv-fototeca-carrello-panel",containerId:GV.config.containerId,toggleEl:!1,vm:new l.default({template:"<gv-fototeca-carrello-panel></gv-fototeca-carrello-panel>"})})}},mounted:function(){}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(5)),d=(a(u),n(12)),f=a(d),p=n(1),g=a(p),m=n(342),v=a(m),h=n(148),y=a(h),_=n(7),b=a(_),w=n(641),C=a(w);g.default.use(f.default),g.default.use(s.default),g.default.component("gv-fototeca-immagine",C.default),g.default.component("gv-fototeca-scheda-volo-panel",function(){return new i.default(function(e){n.e(3,function(t){e(n(187))})})}),t.default={data:function(){return{voli:[],volo:[],loading:!1,marker:null,bbox:null,baseWfsUrl:GV.globals.DEFAULT_PROXY+"https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson&",strisciata:null,foto:null}},methods:{onChange:function(e){GV.globals.FOTOTECA_SEL_VOLO=this.voli.filter(function(t){return t.id===e})[0];var t="M"+GV.globals.FOTOTECA_SEL_VOLO.id,n="L"+GV.globals.FOTOTECA_SEL_VOLO.codLivStrisciata,a="presenza_fotogrammi='SI'",o=this.baseWfsUrl+"typeName="+t+":"+n+"&cql_filter="+a;this.loadLayerStrisciata(o),this.showSchedaVolo()},showSchedaVolo:function(){(0,b.default)({elId:"gv-fototeca-scheda-volo-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new g.default({template:"<gv-fototeca-scheda-volo-panel></gv-fototeca-scheda-volo-panel>"})})},hiliteStrisciata:function(e){var t=GV.app.map.getLayerByName("strisciate");t.eachLayer(function(e){e.setStyle({color:"#ff0000"})}),e.setStyle({color:"#ffff00"})},loadLayerStrisciata:function(e){var t=this,n={type:"JSON",dataType:"json",name:"strisciate",visible:!0,geomSubType:"POLYGON",url:e,idMap:"fototeca",style:{color:"#ff0000",fillOpacity:0,weight:2,opacity:1},zoomToLayerExtent:!0,onEachFeature:function(e,n){n.on("click",function(e){t.strisciata=e.target.feature.properties.id_strisciata,t.hiliteStrisciata(n),t.loadLayerFoto()}),n.on("mouseover",function(e){t.strisciata!==e.target.feature.properties.id_strisciata&&n.setStyle({color:"#ff9900"})}),n.on("mouseout",function(e){t.strisciata!==e.target.feature.properties.id_strisciata&&n.setStyle({color:"#ff0000"})})}},a=n.idMap;GV.config.removeMap(a),GV.config.addMapConfig({id:a,name:"Fototeca",flagGeoserver:!0,layers:[n]})},hiliteFoto:function(e){var t=GV.app.map.getLayerByName("foto");t.eachLayer(function(e){e.setStyle({color:"#ff0000"})}),e.setStyle({color:"#ffff00"})},loadLayerFoto:function(){var e=this;GV.config.removeLayer("foto");var t="M"+GV.globals.FOTOTECA_SEL_VOLO.id,n="L"+GV.globals.FOTOTECA_SEL_VOLO.codLivFoto,a="id_strisciata='"+this.strisciata+"'",o=this.baseWfsUrl+"typeName="+t+":"+n+"&cql_filter="+a,i={type:"JSON",name:"foto",visible:!0,geomSubType:"POINT",url:o,idMap:"fototeca",pointToLayer:function(e,t){var n={color:"#ff0000",fillColor:"#ff0000",fill:!0,weight:3,radius:2};return L.circleMarker(t,n)},zoomToLayerExtent:!0,onEachFeature:function(t,n){n.on("click",function(t){e.foto=t.target.feature.properties.foto,e.hiliteFoto(n),GV.app.map.setView([n._latlng.lat,n._latlng.lng],15),"obliterato"===t.target.feature.properties.immagine?GV.utils.notification("Fotogramma consultabile presso lo Sportello Cartografico <br>Codice Fotogramma: <b>"+e.foto+"</b>","info"):e.showFoto()}),n.on("mouseover",function(t){e.foto!==t.target.feature.properties.foto&&n.setStyle({color:"#ff9900"})}),n.on("mouseout",function(t){e.foto!==t.target.feature.properties.foto&&n.setStyle({color:"#ff0000"})})}};i.idMap;GV.config.addLayerToMap(i,"fototeca")},showFoto:function(){(0,b.default)({elId:"gv-fototeca-immagine",clear:!0,vm:new g.default({template:'<gv-fototeca-immagine :volo="volo" :foto="foto" ></gv-fototeca-immagine>',data:{volo:GV.globals.FOTOTECA_SEL_VOLO.volo.toLowerCase(),foto:this.foto}})})}},mounted:function(){var e=this;(0,v.default)(this.bbox).then(function(t){e.voli=t}),GV.eventBus.$on("gv-fototeca-reload-voli",function(t){var n=t.bbox,a=t.bboxSRS,o="3003";n?(0,y.default)(a,o,n).then(function(t){t.data.data&&(console.log(t.data.data),e.bbox=t.data.data[0][0]+","+t.data.data[1][0],(0,v.default)(e.bbox).then(function(t){e.voli=t}))}):(e.bbox=n,(0,v.default)(e.bbox).then(function(t){e.voli=t}))})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(180),i=(a(o),n(58)),r=a(i),l=n(83),s=(a(l),n(76)),c=a(s),u=n(9),d=(a(u),n(8)),f=a(d),p=n(13),g=(a(p),n(11)),m=a(g),v=n(14),h=(a(v),n(5)),y=(a(h),n(12)),_=a(y),b=n(1),w=a(b),C=n(344),M=a(C),S=n(345),E=a(S);w.default.use(_.default,m.default,f.default,c.default),w.default.use(r.default),t.default={data:function(){return{name:"gv-gas",title:"FILTRI",aree:null,area:null,province:[{codice:null,descrizione:"TUTTE LE PROVINCE"},{codice:"010",descrizione:"GENOVA"},{codice:"008",descrizione:"IMPERIA"},{codice:"011",descrizione:"LA SPEZIA"},{codice:"009",descrizione:"SAVONA"}],provincia:null,moduli:[],modulo:null,listaAsl:[],asl:0,soloPostiDisponibili:!1,features:null,options:GV.config.getToolOptions("gv-gas")}},methods:{onChangeArea:function(e){this.moduli=this.aree.filter(function(t){return t.codice===e})[0].moduli},onChangeProvincia:function(e){this.asl=0},onChangeASL:function(e){this.provincia=null},elenco:function(){window.open("http://www.alisa.liguria.it/index.php?option=com_docman&view=docman&Itemid=382")},submit:function(){this.area?this.showFeatures():(0,c.default)({title:"Attenzione",type:"info",duration:5e3,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:'Il parametro "Area" � obbligatorio'})},showFeatures:function(){var e=this,t=this.features.filter(function(t){var n=!e.area||t.properties.idarea===e.area.toString(),a=!e.provincia||t.properties.codProvincia===e.provincia,o=!e.soloPostiDisponibili||"S"===t.properties.disponibilita,i=!e.asl||t.properties.ASL==e.asl,r=!1;if(e.modulo){if(t.properties.idModuli){var l=t.properties.idModuli.split(",");l.forEach(function(t){t==e.modulo&&(r=!0)})}}else r=!0;return n&&a&&o&&r&&i});this.loadLayer(t)},loadLayer:function(e){var t=GV.app.map.getLayerByName("Strutture");if(t&&GV.app.map.removeLayer(t),0===e.length)return void(0,c.default)({title:"Attenzione",type:"info",duration:5e3,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:"Nessuna struttura soddisfa i parametri<br>di ricerca"});var n=function(e){var t=e.feature.properties,n="";t.cVia&&(n+=" "+t.cVia),t.via&&(n+=" "+t.via),t.nCivico&&(n+=" "+t.nCivico),n+=", ",t.cap&&(n+=t.cap+" "),t.desComune&&(n+=t.desComune+" "),t.telefono&&(n+="<br/>Tel: "+t.telefono+" ");var a=GV.globals.GAS_SCHEDA+"gasweb/gestione/scheda?ID="+t.idul,o="\n              <p><b>"+t.denominazione+"</b></p> \n              <p>"+n+"<br/><br/>\n              Moduli: "+t.moduli+'<br/>\n              <a href="'+a+'" target="_blank">Scheda dettaglio</a>\n        ';return o};GV.app.map.loadLayers([{name:"Strutture",type:"JSON",geomSubType:"POINT",classes:[{name:"CLASSE_BASE",style:{iconUrl:"/geoservices/apps/viewer/static/img/gas/strutture.png",iconSize:[22,27],iconAnchor:[11,27],popupAnchor:[0,-27]}}],visible:!0,data:e,customPopup:n,cluster:{options:{iconCreateFunction:function(e){return L.divIcon({html:e.getChildCount(),className:"cluster",iconSize:L.point(28,28)})},showCoverageOnHover:!1,maxClusterRadius:80}}}]),GV.app.map.fitBounds(GV.app.map.getLayerByName("Strutture").getBounds()),GV.app.map.getZoom()>18&&GV.app.map.setZoom(18)}},mounted:function(){(0,c.default)({title:"Attenzione",type:"info",duration:1e4,offset:70,dangerouslyUseHTMLString:!0,position:"bottom-left",message:'Sulla mappa potrebbero non comparire <br>tutte le strutture.<br>Per ottenere un elenco di tutte le <br>strutture selezionare il bottone <br><b>"Elenco Strutture"</b>'})},created:function(){var e=this,t="/geoservices/REST/gas/combo?ENV="+this.options.env;(0,M.default)(t).then(function(t){e.aree=t.aree.sort(function(e,t){return e.descrizione>t.descrizione?1:t.descrizione>e.descrizione?-1:0}),e.aree.forEach(function(e){e.moduli.unshift({codiceArea:0,codice:0,descrizione:"TUTTI"})}),e.listaAsl=t.asl,e.listaAsl=e.listaAsl.sort(function(e,t){return e.descrizione<t.descrizione?-1:e.descrizione>t.descrizione?1:0}),e.listaAsl.unshift({codice:0,descrizione:"TUTTE LE ASL"})});var n="/geoservices/REST/gas/strutture?ENV="+this.options.env;(0,E.default)(n).then(function(t){e.features=t})}}},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(349),f=a(d),p=n(1),g=a(p);g.default.use(u.default),g.default.use(r.default),t.default={data:function(){return{results:[],address:[],loading:!1,marker:null}},methods:{remoteMethod:function(e){var t=this;if(e.length<4)return void(this.results=[]);this.loading=!0;var n=1e3;setTimeout(function(){(0,f.default)(e).then(function(e){t.loading=!1,e&&e.length>0?t.results=e.map(function(e){return{label:e.formatted_address,value:e.place_id,location:e.geometry.location}}):t.results=[]}).catch(function(e){t.loading=!1,console.error(e)})},n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?this.marker=GV.app.map.addMarker(t):this.marker&&GV.app.map.removeLayer(this.marker)}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(350),f=a(d),p=n(1),g=a(p);g.default.use(u.default),g.default.use(r.default),t.default={data:function(){return{results:[],address:[],loading:!1,marker:null}},methods:{remoteMethod:function(e){var t=this;if(e.length<4)return void(this.results=[]);this.loading=!0;var n=1e3;setTimeout(function(){(0,f.default)(e).then(function(e){t.loading=!1,console.log(e);var n=e?e.features:null;n&&n.length>0?t.results=n.map(function(e){return{label:e.properties.label,value:e.properties.id,location:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}}}):t.results=[]}).catch(function(e){t.loading=!1,console.error(e)})},n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?(t.type="circle",this.marker=GV.app.map.addMarker(t)):this.marker&&GV.app.map.removeLayer(this.marker)}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gv-header",computed:{style:function(){return"height:"+GV.config.application.layout.header.height}},mounted:function(){this.$el.innerHTML=GV.config.application.layout.header.html}}},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"gv-inner-html",props:["html"],data:function(){return{}},methods:{},mounted:function(){}}},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=(a(o),n(5)),r=(a(i),n(8)),l=a(r),s=n(10),c=a(s),u=n(1),d=a(u),f=n(7),p=a(f),g=n(631),m=a(g),v=n(188),h=a(v);d.default.component("gv-base-layer-switcher",m.default),d.default.component("gv-legend-maps",h.default),d.default.component("gv-map-catalog-panel",function(){return new c.default(function(e){n.e(1,function(t){e(n(137))})})}),d.default.use(l.default),t.default={name:"gv-legend",data:function(){return{options:GV.config.application.layout.legend.options,maps:GV.config.maps,show:!0}},mounted:function(){if(GV.log("gv-legend: mounted"),GV.legend=this,this.options.showAddMap){var e=!GV.config.idMap&&!GV.config.agAppMap;this.options.showMapCatalogPanelOnStart&&(e=!0),this.options.dontShowMapCatalogPanelOnStart&&(e=!1),GV.config.loadCatalog({showMapCatalogPanel:e,filterDownloadCatalog:this.options.filterDownloadCatalog})}(this.options.collapsed||window.matchMedia("(max-width: 500px)").matches)&&(this.show=!1),this.hideLegend()},methods:{hideLegend:function(e){this.show?(document.getElementById("gv-legend-title").style.display="block",document.getElementById("gv-legend-title-collapsed").style.display="none",document.getElementById("gv-legend-wrapper").style.display="block",document.getElementById("gv-legend").style.width="260px"):(document.getElementById("gv-legend-title").style.display="none",document.getElementById("gv-legend-title-collapsed").style.display="block",document.getElementById("gv-legend-wrapper").style.display="none",document.getElementById("gv-legend").style.width="26px"),this.show=!this.show},toggleCollapseClass:function(){return this.show?"gv-legend-collapse gv-color-scheme el-icon-arrow-down":"gv-legend-collapse gv-color-scheme el-icon-arrow-up"},addMap:function(){(0,p.default)({elId:"gv-map-catalog-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new d.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})})},downloadMaps:function(){(0,p.default)({elId:"gv-download-totale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new d.default({template:"<gv-download-totale-panel></gv-download-totale-panel>"})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),i=(a(o),n(64)),r=a(i),l=n(42),s=(a(l),n(39)),c=a(s),u=n(182),d=(a(u),n(178)),f=a(d),p=n(181),g=(a(p),n(177)),m=a(g),v=n(61),h=(a(v),n(60)),y=a(h),_=n(44),b=(a(_),n(43)),w=a(b),C=n(9),M=(a(C),n(8)),S=a(M),E=n(13),L=(a(E),n(11)),O=a(L),x=n(14),I=(a(x),n(5)),T=(a(I),n(12)),R=a(T),G=n(10),A=a(G),V=n(1),P=a(V),F=n(7),z=a(F);P.default.component("gv-multi-legend-panel",function(){return new A.default(function(e){n.e(23,function(t){e(n(673))})})}),P.default.component("gv-layers-transparency",function(){return new A.default(function(e){n.e(24,function(t){e(n(661))})})}),P.default.component("gv-layer-search-legend",function(){return new A.default(function(e){n.e(6,function(t){e(n(659))})})}),P.default.use(R.default),P.default.use(O.default),P.default.use(S.default),P.default.use(w.default),P.default.use(y.default),P.default.use(m.default),P.default.use(f.default),P.default.use(c.default),P.default.use(r.default),t.default={name:"gv-legend-layers",props:["map","options"],data:function(){return{}},mounted:function(){GV.log("gv-legend-layers: mounted")},methods:{iconUrl:function(e){return e.legend.icon},getClass:function(e){return e.inRange?"gv-list-legend-layer-item":"gv-list-legend-layer-item gv-list-legend-layer-disabled-item"},layerClassName:function(e){var t=e.row;e.rowIndex;return t.inRange?"gv-list-legend-layer-item":"gv-list-legend-layer-item gv-list-legend-layer-disabled-item"},setLayerVisible:function(e){GV.eventBus.$emit("set-layer-visible",{layer:e,checked:e.visible}),this.setLayerTransparency(e)},setLayerTransparency:function(e){var t=e.opacityBase100/100;GV.eventBus.$emit("set-layer-transparency",{layerName:e.name,opacity:t})},layerSearch:function(e){(0,z.default)({elId:"gv-layer-search-legend",containerId:GV.config.containerId,toggleEl:!0,vm:new P.default({template:"<gv-layer-search-legend layerId="+e.id+"></gv-layer-search-legend>"})})},showLegendPanel:function(e){if(e.inRange&&(e.multiClasse||e.flagRemote||e.legend.popUpFlag)){var t,n,a=null;e.legend.popUpUrl&&e.legend.popUpFlag?(a=""+GV.globals.DEFAULT_PROXY+e.legend.popUpUrl,t=window.matchMedia("(max-width: 450px)").matches?300:e.legend.popUpWidth||600,n=window.matchMedia("(max-height: 620px)").matches?400:e.legend.popUpHeight||600):e.multiClasse?(e.flagGeoserver||e.flagRemote)&&(a=""+GV.globals.DEFAULT_PROXY+e.wmsParams.url+"LAYER="+e.name+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&",e.wmsParams.styles&&(a+="STYLES="+e.wmsParams.styles+"&"),t=window.matchMedia("(max-width: 450px)").matches?300:400,n=350):e.flagRemote&&(a=""+GV.globals.DEFAULT_PROXY+e.wmsParams.url+"&LAYER="+e.name+"&SERVICE=WMS&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/jpeg",e.wmsParams.styles&&(a+="STYLES="+e.wmsParams.styles+"&"),t=window.matchMedia("(max-width: 450px)").matches?300:500,n=350),(0,z.default)({elId:"gv-multi-legend-panel",containerId:GV.config.containerId,vm:new P.default({template:'<gv-multi-legend-panel visible="true" :src="src" :height="height" :width="width" :title="title"></gv-multi-legend-panel>',data:{title:"LEGENDA",src:a,width:t,height:n}})})}}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=(a(o),n(5)),r=(a(i),n(8)),l=a(r),s=n(10),c=a(s),u=n(1),d=a(u),f=n(7),p=a(f),g=n(663),m=a(g),v=n(789),h=a(v);d.default.component("gv-legend-layers",m.default),d.default.component("gv-map-info-panel",function(){return new c.default(function(e){n.e(0,function(t){e(n(96))})})}),d.default.component("gv-map-catalog-panel",function(){return new c.default(function(e){n.e(1,function(t){e(n(137))})})}),d.default.component("gv-map-download",function(){return new c.default(function(e){n.e(9,function(t){e(n(636))})})}),d.default.use(h.default),d.default.use(l.default),t.default={name:"gv-legend-maps",props:["options"],data:function(){return{maps:GV.config.maps}},mounted:function(){var e=this;GV.log("gv-legend-maps: mounted"),this.options.showDownloadPanelOnLoad&&GV.config.idMap&&GV.eventBus.$on("gv-config-init",function(t){e.openDownloadPanel(GV.config.idMap)})},methods:{showMapLayers:function(e){return e.showLayersInLegend},toggleLayers:function(e){e.showLayersInLegend=!e.showLayersInLegend},getToggleLayersClass:function(e){return e.showLayersInLegend?"gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-up":"gv-inverted-color-scheme gv-legend-map-tools-button el-icon-arrow-down"},isDownloadable:function(e){return!this.options.noDownloadButton&&(!("pub"!==GV.globals.RL_CATALOG||!e.flagDownload)||!("int"!==GV.globals.RL_CATALOG||!e.flagDownloadExtranet&&!e.flagDownload))},checkInfoMap:function(e){return this.options.showInfoMap&&GV.config.getMapConfig(e.id).metaData},showMapInfoPanel:function(e){var t=GV.config.getMapConfig(e.id).metaData,n=this.isDownloadable(e);(0,p.default)({elId:"gv-map-info-panel",containerId:GV.config.containerId,clear:!0,vm:new d.default({template:'<gv-map-info-panel visible="true" :metaData="metaData" addToMapButton="true" downloadable="'+n+'"></gv-map-info-panel>',data:{metaData:t}})})},remove:function(e){GV.config.removeMap(e.id)},download:function(e){this.openDownloadPanel(e.id)},openDownloadPanel:function(e){if(document.getElementById("gv-map-download")){var t=document.getElementById("gv-map-download");t.parentNode.removeChild(t)}var n="closeWindow"===this.options.downloadPanelCloseMode;(0,p.default)({elId:"gv-map-download",containerId:GV.config.containerId,toggleEl:!1,vm:new d.default({template:'<gv-map-download idMap="'+e+'" closeWindow="'+n+'"></gv-map-download>'})})},layerTransparency:function(e){(0,p.default)({elId:"gv-layers-transparency",containerId:GV.config.containerId,toggleEl:!1,vm:new d.default({template:'<gv-layers-transparency idMap="'+e.id+'"></gv-layers-transparency>'})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(322),i=a(o),r=n(324),l=a(r),s=n(34),c=a(s),u=n(145),d=a(u),f=["dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","zoomanim","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose"],p=["click","dblclick","singleclick","change:layerGroup","change:size","change:target","change:view","error","moveend","movestart","pointerdrag","pointermove","postcompose","postrender","precompose","propertychange","rendercomplete"];t.default={name:"gv-map",data:function(){return{map:null,type:null}},mounted:function(){if(console.log("COMPONENTE MAP",this),this.type=GV.config.application.mapOptions&&GV.config.application.mapOptions.type||"leaflet",this.setMapSize(),"leaflet"===this.type?GV.app.map=i.default.initialize(GV.config.application.mapOptions):GV.app.map=l.default.initialize(GV.config.application.mapOptions),this.map=GV.app.map,this.registerMapEvents(),this.subscribeConfigEvents(),GV.config.application.mapOptions&&GV.config.application.mapOptions.click)switch(GV.config.application.mapOptions.click){case"info":c.default.activate();break;case"coordinate":d.default.activate()}GV.log("gv-map: mounted"),GV.eventBus.$emit("gv-map-mounted",GV.app.map)},methods:{setMapSize:function(){var e=document.getElementById("gv-map");GV.config.application.mapOptions&&GV.config.application.mapOptions.width&&(e.style.width=GV.config.application.mapOptions.width+"px"),GV.config.application.mapOptions&&GV.config.application.mapOptions.height&&(e.style.height=GV.config.application.mapOptions.height+"px")},registerMapEvents:function(){var e=this,t="leaflet"===this.type?f:p;t.forEach(function(t){var n="map-"+t;GV.app.map.on(t,function(t){t.mapType=e.mapType,GV.eventBus.$emit(n,t)})})},subscribeConfigEvents:function(){GV.eventBus.$on("config-add-map",function(e){var t=e.config;GV.app.map.loadLayers(t.layers),t.extent_3857&&GV.app.map.setExtent(t.extent_3857)}),GV.eventBus.$on("config-add-layer",function(e){var t=e.config;GV.app.map.loadLayers([t]),t.extent_3857&&GV.app.map.setExtent(t.extent_3857)}),GV.eventBus.$on("config-remove-layer",function(e){var t=e.config,n=GV.app.map.getLayerByName(t);n&&GV.app.map.removeLayer(n)}),GV.eventBus.$on("config-remove-map",function(e){var t=e.config;t.layers.forEach(function(e){var t=GV.app.map.getLayerByName(e.name);t&&GV.app.map.removeLayer(t)})})}}}},,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(600),i=(a(o),n(482)),r=a(i),l=n(42),s=(a(l),n(39)),c=a(s),u=n(13),d=(a(u),n(11)),f=a(d),p=n(14),g=(a(p),n(5)),m=(a(g),n(12)),v=a(m),h=n(1),y=a(h),_=n(4),b=a(_);y.default.use(v.default),y.default.use(f.default),y.default.use(c.default),y.default.use(r.default),t.default={data:function(){return{idMap:null,mapConfig:null,baseLayerGG:null,baseLayerAA:null,tipi:[],indicatoriGiorno:[],indicatoriAnno:[],anni:[],tipo:null,indicatore:null,data:null,giorno:null,show:!0,buttonDisabled:!0,showLegend:!1,legendUrl:null}},watch:{giorno:function(){this.data=this.giorno},data:function(){this.data||(this.showLegend=!1),this.data&&this.indicatore&&this.loadLayer()}},methods:{onChangeTipo:function(e){this.tipo=e,this.indicatore=null,this.data=null,this.giorno=null,this.showLegend=!1},onChangeIndicatore:function(e){this.indicatore=e,this.data&&this.loadLayer()},loadLayer:function(){GV.config.removeMap(this.idMap),this.mapConfig.layers=[],this.mapConfig.layers=[this.getLayer()],GV.config.addMapConfig(this.mapConfig),this.legendUrl="/geoservices/REST/rqa/legenda/"+this.indicatore,this.showLegend=!0},getLayer:function(){var e=this,t="G"===this.tipo?this.baseLayerGG:this.baseLayerAA;if("G"===this.tipo){t.wmsParams.styles="RQA_"+this.indicatore,t.wmsParams.cql_filter="cod_indicatore='"+this.indicatore+"' AND giorno='"+this.data+"'";var n=this.indicatoriGiorno.find(function(t){return t.id===e.indicatore}).nome;t.legend.label=n+" ("+this.data+")"}else{t.wmsParams.styles="RQA_"+this.indicatore,t.wmsParams.cql_filter="cod_indicatore='"+this.indicatore+"' AND anno="+this.data;var a=this.indicatoriAnno.find(function(t){return t.id===e.indicatore;
}).nome;t.legend.label=a+" ("+this.data+")"}return t},toggleCollapseClass:function(){return this.show?"gv-panel-collapse gv-color-scheme el-icon-arrow-up":"gv-panel-collapse gv-color-scheme el-icon-arrow-down"},hidePanel:function(){this.show?document.getElementById("rqa-wrapper").style.display="none":document.getElementById("rqa-wrapper").style.display="block",this.show=!this.show},setData:function(e){this.tipi=e.tipi,this.indicatoriGiorno=e.indicatoriGiorno,this.indicatoriAnno=e.indicatoriAnno,this.anni=e.anni,this.mapConfig=e.mapConfig,this.idMap=e.mapConfig.id,this.baseLayerGG=e.mapConfig.layers.filter(function(t){return t.id===e.idLayerGG})[0],this.baseLayerAA=e.mapConfig.layers.filter(function(t){return t.id===e.idLayerAA})[0]},download:function(){this.downloadURI("https://geoservizi.regione.liguria.it/dtuff/download_statico/2219/rqa-dati.zip")},downloadURI:function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),document.body.appendChild(t),t.href=e,t.click()}},computed:{showIndicatoriGiorno:function(){return"G"==this.tipo},showIndicatoriAnno:function(){return"A"==this.tipo}},mounted:function(){var e=this;b.default.get("/geoservices/REST/rqa/app-config/").then(function(e){return e.data.data}).then(function(t){e.setData(t)})}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={data:function(){var e=[{value:8,label:"1:2.300.000"},{value:9,label:"1:1.150.000"},{value:10,label:"1:580.000"},{value:11,label:"1:290.000"},{value:12,label:"1:144.000"},{value:13,label:"1:72.000"},{value:14,label:"1:36.000"},{value:15,label:"1:18.000"},{value:16,label:"1:9.000"},{value:17,label:"1:4.500"},{value:18,label:"1:2.200"},{value:19,label:"1:1.100"},{value:20,label:"1:560"}];return{options:e,value:9}},methods:{onChange:function(e){GV.app.map.setZoom(e)}},mounted:function(){var e=this;GV.eventBus.$on("map-zoom",function(t){e.value=Math.round(t)})}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(61),l=(a(r),n(60)),s=a(l),c=n(44),u=(a(c),n(43)),d=a(u),f=n(9),p=(a(f),n(8)),g=a(p),m=n(13),v=(a(m),n(11)),h=a(v),y=n(14),_=(a(y),n(5)),b=(a(_),n(12)),w=a(b),C=n(1),M=a(C),S=n(188),E=a(S),L=n(7),O=a(L);M.default.component("gv-legend-maps",E.default),M.default.use(w.default),M.default.use(h.default),M.default.use(g.default),M.default.use(d.default),M.default.use(s.default),M.default.component("gv-scuoladigitale-ricerca",function(){return new i.default(function(e){n.e(15,function(t){e(n(680))})})}),t.default={name:"gv-scuoladigitale-legend",data:function(){return{options:GV.config.getToolOptions("gv-scuoladigitale-legend"),maps:GV.config.maps,show:!0,tema:0,title:"LEGENDA ICONE"}},mounted:function(){GV.log("gv-scuoladigitale-legend: mounted"),GV.legend=this,this.changeMap(0),this.show=!1,2===this.options.version&&(this.hideLegend(),(0,O.default)({elId:"gv-scuoladigitale-ricerca",containerId:GV.config.containerId,toggleEl:!0,vm:new M.default({template:"<gv-scuoladigitale-ricerca></gv-scuoladigitale-ricerca>"})}))},methods:{changeMap:function(e){GV.config.maps[0]&&GV.config.removeMap(GV.config.maps[0].id),GV.config.addMapConfig(this.options.maps[e])},showSearch:function(){(0,O.default)({elId:"gv-scuoladigitale-ricerca",containerId:GV.config.containerId,toggleEl:!0,vm:new M.default({template:"<gv-scuoladigitale-ricerca></gv-scuoladigitale-ricerca>"})})},hideLegend:function(e){this.show?(document.getElementById("gv-scuoladigitale-legend-wrapper").style.display="block",document.getElementById("gv-scuoladigitale-legend").style.width="260px"):(document.getElementById("gv-scuoladigitale-legend-wrapper").style.display="none",document.getElementById("gv-scuoladigitale-legend").style.width="160px"),this.show=!this.show},toggleCollapseClass:function(){return console.log("legend",this.show),this.show?"gv-scuoladigitale-legend-collapse gv-color-scheme el-icon-arrow-down":"gv-scuoladigitale-legend-collapse gv-color-scheme el-icon-arrow-up"}}}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=(a(o),n(11)),r=a(i),l=n(14),s=(a(l),n(5)),c=(a(s),n(12)),u=a(c),d=n(1),f=a(d);f.default.use(u.default),f.default.use(r.default),t.default={data:function(){return{results:[],address:[],recordsCache:{},layers:null,cachedLayers:[],propertyName:null,loading:!1,marker:null,placeHolder:"Ricerca..."}},mounted:function(){this.layers=GV.config.getToolOptions("gv-search").layers,this.propertyName=GV.config.getToolOptions("gv-search").propertyName,this.additionalLabel=GV.config.getToolOptions("gv-search").additionalLabel,this.placeHolder=GV.config.getToolOptions("gv-search").placeHolder||"Ricerca..."},methods:{search:function(e){this.results=[],e.length<3||(this.results=this.filterData(e))},filterData:function(e){var t=this,n=[];return e=e.replace(/[*+?^${}()|[\]\\]/g,""),""===e?[]:(this.layers.forEach(function(a){GV.app.map.eachLayer(function(o){o.name===a&&o instanceof L.LayerGroup&&o.eachLayer(function(a){var o=a.getLatLng();o.layer=a;var i=a.feature.properties[t.propertyName];if(new RegExp(e,"i").test(i)){var r=t.additionalLabel?a.feature.properties[t.additionalLabel]:null,l=t.additionalLabel?i+" ("+r+")":i;n.push({label:l,value:l,location:o})}})})}),n)},onChange:function(e){var t=this.results.find(function(t){return t.value===e});t?(t.type="circle",t.zoomLevel=16,this.marker=GV.app.map.addMarker(t)):this.marker&&GV.app.map.removeLayer(this.marker)}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=a(o),r=n(13),l=(a(r),n(11)),s=a(l),c=n(14),u=(a(c),n(12)),d=a(u),f=n(41),p=(a(f),n(38)),g=a(p),m=n(32),v=(a(m),n(29)),h=a(v),y=n(9),_=(a(y),n(5)),b=(a(_),n(8)),w=a(b),C=n(1),M=a(C),S=n(6),E=a(S),L=n(51),O=a(L),x=n(19),I=a(x),T=n(22),R=a(T),G=n(17),A=a(G);M.default.use(w.default),M.default.use(h.default),M.default.use(g.default),M.default.use(d.default),M.default.use(s.default),A.default.use(R.default);var V=n(66);M.default.use(V),t.default={name:"gv-map-selezione-fogli",props:{idMap:String,selFogli:String,field:String},data:function(){return{title:"SELEZIONE FOGLI",fogli:[],config:{},storageKey:"selFogli",style:null,hlStyle:null}},computed:{},watch:{fogli:function(e){this.syncFogli(e)}},mounted:function(){var e=this;GV.eventBus.$on("gv-config-init",function(){e.config=GV.config.getMapConfig(e.idMap).downloadConfig,e.setFeatureStyle(),e.addLayerSquadri(),e.show=!0})},methods:{setFeatureStyle:function(){var e=void 0;e="openlayers"===GV.app.map.type?new ol.style.Style({stroke:new ol.style.Stroke({color:[255,204,0,1],width:1}),fill:new ol.style.Fill({color:[255,204,0,.1]})}):{color:"#ffcc00",fillOpacity:0,weight:1,opacity:1},this.style=e,e="openlayers"===GV.app.map.type?new ol.style.Style({stroke:new ol.style.Stroke({color:[255,204,0,1],width:3}),fill:new ol.style.Fill({color:[255,204,0,.6]})}):{color:"#ffcc00",fillOpacity:.6,weight:2,opacity:1},this.hlStyle=e},syncFogli:function(e){var t=this,n=GV.app.map.getLayerByName("SelezioneSquadri");if(n){var a=this.hlStyle;if("openlayers"===GV.app.map.type){var o=n.getSource().getFeatures(),r=!0,l=!1,s=void 0;try{for(var c,u=(0,i.default)(o);!(r=(c=u.next()).done);r=!0){var d=c.value;d.setStyle(!1)}}catch(e){l=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw s}}var f=!0,p=!1,g=void 0;try{for(var m,v=(0,i.default)(e);!(f=(m=v.next()).done);f=!0){var h=m.value,y=!0,_=!1,b=void 0;try{for(var w,C=(0,i.default)(o);!(y=(w=C.next()).done);y=!0){var M=w.value,S=M.get("COD_SQUADRO")||M.get("cod_squadro");S==h&&M.setStyle(a)}}catch(e){_=!0,b=e}finally{try{!y&&C.return&&C.return()}finally{if(_)throw b}}}}catch(e){p=!0,g=e}finally{try{!f&&v.return&&v.return()}finally{if(p)throw g}}}else n.eachLayer(function(e){e.setStyle(t.style)}),n.eachLayer(function(n){e.forEach(function(e){var a=n.feature.properties.COD_SQUADRO||n.feature.properties.cod_squadro;a===e&&n.setStyle(t.hlStyle)})})}},addLayerSquadri:function(){var e=this,t=E.default.DEFAULT_PROXY+"https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG:4326&outputFormat=application%2Fjson&typeName=",n=""+t+this.config.livelloSquadri;(0,O.default)(n).then(function(t){e.loadDataSquadri(t.data)})},loadDataSquadri:function(e){var t=this;GV.app.map.getLayerByName("SelezioneSquadri")&&GV.app.map.removeLayer(GV.app.map.getLayerByName("SelezioneSquadri"));var n=e.features.filter(function(e){var n=t.config.fogli.filter(function(t){var n=e.properties.COD_SQUADRO||e.properties.cod_squadro;return t.codice===n});return n.length>0});e.features=n,this.layerFogli=e,this.loadLayer()},submit:function(){this.postMessage("conferma")},cancel:function(){this.postMessage("annulla")},postMessage:function(e){var t={fogliSelezionati:this.fogli.join(","),field:parseInt(this.field),button:e};window.parent.postMessage(t,"*")},loadLayer:function(){var e=this;GV.app.map.loadLayers([{name:"SelezioneSquadri",type:"JSON",style:this.style,visible:!0,data:this.layerFogli,zIndex:100,onFeatureSelect:function(t,n){var a=t.get?t.get("COD_SQUADRO")||t.get("cod_squadro"):t.properties.COD_SQUADRO||t.properties.cod_squadro;e.fogli.indexOf(a)>-1?e.fogli=e.fogli.filter(function(e){return e!==a}):e.fogli.push(a)}}]),GV.config.activeControl.deactivate(),this.selFogli&&(this.fogli=this.selFogli.split(",")),(0,I.default)("Selezionare un foglio sulla mappa o dalla lista","info")},collapse:function(e){this.show?document.getElementById("gv-map-selezione-fogli-body").style.display="none":document.getElementById("gv-map-selezione-fogli-body").style.display="block",this.show=!this.show}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);a(o);t.default={name:"gv-title",props:["divId","title","fullTitle","hide","noClose","collapsible","width","collapsedWidth"],data:function(){return{collapsed:!1}},methods:{closePanel:function(){var e=document.getElementById(this.divId);e&&(this.hide?e.style.display="none":e.parentNode.removeChild(e),GV.eventBus.$emit("title-close-panel",{divId:this.divId}))},collapse:function(){this.collapsed?(document.getElementById(this.collapsible).style.display="block",this.$el.style.width=null):(document.getElementById(this.collapsible).style.display="none",this.collapsedWidth&&(this.$el.style.width=this.collapsedWidth)),this.collapsed=!this.collapsed},toggleCollapseClass:function(){return this.collapsed?"gv-title-collapse gv-color-scheme el-icon-arrow-down":"gv-title-collapse gv-color-scheme el-icon-arrow-up"}},mounted:function(){this.$el.id=this.divId+"-title"}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-map-catalog-panel",function(){return new i.default(function(e){n.e(1,function(t){e(n(137))})})});var g="gv-add-map-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{name:g,active:!1,options:e,cssClass:"gv-add-map gv-button fa fa-plus-square-o",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-map-catalog-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="gv-back-button";t.default={data:function(){var e=GV.config.getToolOptions(n);return{name:n,active:!1,options:e,action:e.action,url:e.url,confirm:e.confirm,cssClass:"gv-back gv-button fa fa-arrow-left",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){if(this.confirm){var e=confirm("Sei sicuro?");1==e&&this.back()}else this.back()},back:function(){"close"===this.action?window.close():this.url?window.location=this.url:history.back()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-cem-elaborazioni",function(){return new i.default(function(e){n.e(22,function(t){e(n(632))})})});var g="gv-cem-elaborazioni-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-cem-elaborazioni gv-button fa fa-magnet",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-cem-elaborazioni",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-cem-elaborazioni></gv-cem-elaborazioni>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){(0,d.default)({elId:"gv-cem-elaborazioni",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-cem-elaborazioni></gv-cem-elaborazioni>"})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(145),l=a(r),s="gv-coordinate-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-hand-point-down",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-download-totale-panel",function(){return new i.default(function(e){n.e(14,function(t){e(n(638))})})});var g="gv-download-totale-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-download-totale-button gv-button el-icon-download",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-download-totale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-download-totale-panel></gv-download-totale-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(316),l=a(r),s="gv-draw-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,title:"Acquisizione Geometrie",cssClass:"gv-button fas fa-edit",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-carrello-panel",function(){return new i.default(function(e){n.e(2,function(t){e(n(186))})})});var u="gv-fototeca-carrello-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-shopping-cart",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,l.default)({elId:"gv-fototeca-carrello-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-carrello-panel></gv-fototeca-carrello-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-scheda-volo-panel",function(){return new i.default(function(e){n.e(3,function(t){e(n(187))})})});var u="gv-fototeca-scheda-volo-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-info-circle",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){GV.globals.FOTOTECA_SEL_VOLO&&(0,l.default)({elId:"gv-fototeca-scheda-volo-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-scheda-volo-panel></gv-fototeca-scheda-volo-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(317),l=a(r),s="gv-fototeca-selezione-territoriale-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-edit",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){var e=this;GV.eventBus.$on("gv-fototeca-selezione-territoriale-switch",function(t){e.switchActiveButton()})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-genio-localizza",function(){return new i.default(function(e){n.e(13,function(t){e(n(645))})})});var g="gv-genio-localizza-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-genio-localizza-button gv-button ms ms-select-hand",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-genio-localizza",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-genio-localizza></gv-genio-localizza>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-genio-pratiche-collegate-panel",function(){return new i.default(function(e){n.e(18,function(t){e(n(646))})})});var u="gv-genio-pratiche-collegate-button";t.default={name:u,data:function(){var e=GV.config.getToolOptions(u);return{name:u,active:!1,options:e,cssClass:"gv-button fa fa-link",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,l.default)({elId:"gv-genio-pratiche-collegate-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-genio-pratiche-collegate-panel></gv-genio-pratiche-collegate-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(318),l=a(r),s="gv-genio-seleziona-particelle-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-hand-point-down",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-help3D-panel",function(){return new i.default(function(e){n.e(11,function(t){e(n(651))})})});var g="gv-help3D-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-help3D-button gv-button fa fa-question",cssActiveClass:"gv-button"}},methods:{onClick:function(){(0,d.default)({elId:"gv-help3D-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-help3D-panel></gv-help3D-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(34),l=a(r),s="gv-info-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:l.default,options:e,cssClass:"gv-button fa fa-info",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){this.active=this.options.active}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-layer-search",function(){return new i.default(function(e){n.e(7,function(t){e(n(658))})})});var g="gv-layer-search-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-layer-search-button gv-button fa fa-search",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-layer-search",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-layer-search></gv-layer-search>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-layer-search-topo",function(){return new i.default(function(e){n.e(5,function(t){e(n(660))})})});var g="gv-layer-search-topo-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-layer-search-topo-button gv-button fa fa-search",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-layer-search-topo",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-layer-search-topo></gv-layer-search-topo>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=a(o),r=n(319),l=a(r),s="gv-measure-button";t.default={name:s,data:function(){var e=GV.config.getToolOptions(s);return{name:s,active:!1,control:null,options:e,title:"Misurazioni",cssClass:"gv-button fg-measure",cssActiveClass:"gv-button-selected"}},mixins:[i.default],methods:{onClick:function(){this.switchActiveButton()},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){console.log("MOUNTED",GV.app.map.type),this.control=l.default}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-print-panel",function(){return new i.default(function(e){n.e(10,function(t){e(n(674))})})});var g="gv-print-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-print-button gv-button fa fa-print",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-print-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-print-panel></gv-print-panel>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-ricerca-particella",function(){return new i.default(function(e){n.e(8,function(t){e(n(675))})})});var g="gv-ricerca-particella-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-ricerca-particella-button gv-button fa fa-building",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-ricerca-particella",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-ricerca-particella></gv-ricerca-particella>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(9),l=(a(r),n(5)),s=(a(l),n(8)),c=a(s),u=n(7),d=a(u),f=n(1),p=a(f);p.default.use(c.default),p.default.component("gv-ricerca-catastale",function(){return new i.default(function(e){n.e(4,function(t){e(n(677))})})});var g="gv-ricerca-catastale-button";t.default={name:g,data:function(){var e=GV.config.getToolOptions(g);return{active:!1,options:e,cssClass:"gv-ricerca-catastale-button gv-button fa fa-building",cssActiveClass:"gv-button-selected"}},methods:{onClick:function(){(0,d.default)({elId:"gv-ricerca-catastale",containerId:GV.config.containerId,toggleEl:!0,vm:new p.default({template:"<gv-ricerca-catastale></gv-ricerca-catastale>"})})},setClass:function(){return this.active?this.cssClass+" "+this.cssActiveClass:this.cssClass}},mounted:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="gv-switch3D-button";t.default={name:n,data:function(){var e=GV.config.getToolOptions(n);return{name:n,active:!1,options:e,enable3d:null,label:null}},methods:{onClick:function(){this.enable3d=!this.enable3d,this.setLabel(),GV.app.map.ol3d.setEnabled(this.enable3d)},setLabel:function(){this.enable3d?this.label="2D":this.label="3D"}},mounted:function(){this.enable3d=GV.config.application.mapOptions.enable3d,this.setLabel()}}},function(e,t){"use strict";!function(){function e(e,a){Cesium.when(e,function(e){Cesium.defined(e)&&e.ready&&(e.levelZeroMaximumGeometricError=Cesium.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.heightMapWidth,e.tilingScheme.getNumberOfXTilesAtLevel(0)),Cesium.defined(e.URLtemplateImage)&&(e.getHeightmapTerrainDataImage=function(o,i,l){var c;if(!isNaN(o+i+l)){var u=t(e.URLtemplateImage(o,i,l),o,i,l,a),d={highest:e.highest,lowest:e.lowest,offset:e.offset},f=n(o,i,l,a),p=r(u);Cesium.defined(p)&&(c=Cesium.when(p,function(t){return s.imageToHeightmapTerrainData(t,d,{width:e.heightMapWidth,height:e.heightMapHeight},e.waterMask,f,e.hasStyledImage)}).otherwise(function(){return new Cesium.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return c}),Cesium.defined(e.URLtemplateArray)&&(e.getHeightmapTerrainDataArray=function(o,r,l){var c;if(!isNaN(o+r+l)){var u=t(e.URLtemplateArray(o,r,l),o,r,l,a),d={highest:e.highest,lowest:e.lowest,offset:e.offset},f=n(o,r,l,a),p=i(u);Cesium.defined(p)&&(c=Cesium.when(p,function(t){return s.arrayToHeightmapTerrainData(t,d,{width:e.heightMapWidth,height:e.heightMapHeight},e.formatArray,e.waterMask,f)}).otherwise(function(){return Cesium.defined(e.getHeightmapTerrainDataImage)?e.getHeightmapTerrainDataImage(o,r,l):new Cesium.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return c}),a.getLevelMaximumGeometricError=function(t){return e.levelZeroMaximumGeometricError/(1<<t)},a.requestTileGeometry=function(t,n,a){var o;return Cesium.defined(e.getHeightmapTerrainDataArray)?o=e.getHeightmapTerrainDataArray(t,n,a):Cesium.defined(e.getHeightmapTerrainDataImage)&&(o=e.getHeightmapTerrainDataImage(t,n,a)),o},Cesium.defineProperties(a,{tilingScheme:{get:function(){return e.tilingScheme}},ready:{get:function(){return e.ready}},hasWaterMask:{get:function(){return e.waterMask}},heightMapHeight:{get:function(){return e.heightMapHeight}},heightMapWidth:{get:function(){return e.heightMapWidth}},getTileDataAvailable:{get:function(){return e.getTileDataAvailable}}})),a._readyPromise.resolve(e.ready)})}function t(e,t,n,a,o){var i=o.tilingScheme.tileXYToNativeRectangle(t,n,a),r=(i.east-i.west)/(o.heightMapWidth-1),l=(i.north-i.south)/(o.heightMapHeight-1);i.west-=.5*r,i.east+=.5*r,i.south-=.5*l,i.north+=.5*l;var s=o.tilingScheme.getNumberOfYTilesAtLevel(a),c=s-n-1;return e.replace("{south}",i.south).replace("{north}",i.north).replace("{west}",i.west).replace("{east}",i.east).replace("{x}",t).replace("{y}",n).replace("{tmsY}",c)}function n(e,t,n,a){var o=0,i=n+1;return o|=a.getTileDataAvailable(2*e,2*t,i)?1:0,o|=a.getTileDataAvailable(2*e+1,2*t,i)?2:0,o|=a.getTileDataAvailable(2*e,2*t+1,i)?4:0,o|=a.getTileDataAvailable(2*e+1,2*t+1,i)?8:0}var a={},o=void 0===Cesium.loadXML?Cesium.Resource.fetchXML:Cesium.loadXML,i=void 0===Cesium.loadArrayBuffer?Cesium.Resource.fetchArrayBuffer:Cesium.loadArrayBuffer,r=void 0===Cesium.loadImage?Cesium.Resource.fetchImage:Cesium.loadImage,l=function(e,t){var n,a=Math.max(e.west,t.west),o=Math.min(e.east,t.east),i=Math.max(e.south,t.south),r=Math.min(e.north,t.north);return n=o<=a||i>=r?void 0:new Cesium.Rectangle(a,i,o,r)};a.CRS=[{name:"CRS:84",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:Cesium.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:Cesium.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:Cesium.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],a.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],a.FormatArray=[{
format:"image/bil",postProcessArray:function(e,t,n,a,o){var i,r=new DataView(e),l=new ArrayBuffer(t.height*t.width*2),s=new DataView(l);if(l.byteLength===e.byteLength){for(var c,u=0,d=0,f=0;f<l.byteLength;f+=2)if(c=r.getInt16(f,!1)-o,c>a&&c<n)s.setInt16(f,c,!0),d+=c,u++;else{var p=0===u?1:d/u;s.setInt16(f,p,!0)}i=new Int16Array(l)}return i}}],a.WMSParser={},a.TMSParser={},a.WMTSParser={},a.parser=function(e){var t;switch(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),e.service){case"TMS":t=a.TMSParser.generate(e);break;case"WMTS":t=a.WMTSParser.generate(e);break;default:t=a.WMSParser.generate(e)}return t},a.WMSParser.generate=function(e){var t;if(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),Cesium.defined(e.url)){var n=e.url,i=n.lastIndexOf("?");i>-1&&(n=n.substring(0,i));var r=n+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";Cesium.defined(e.proxy)&&(r=e.proxy.getURL(r)),t=Cesium.when(o(r),function(t){return a.WMSParser.getMetaDatafromXML(t,e)})}else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.WMSParser.getMetaDatafromXML(e.xml,e)}return t},a.WMSParser.getMetaDatafromXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");if(!Cesium.defined(t.layerName))throw new Cesium.DeveloperError("description.layerName is required.");var n={},o=t.layerName,i=Cesium.defaultValue(t.maxLevel,11),r=void 0;n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var s={width:65,height:65},c=void 0;n.formatImage=t.formatImage,n.formatArray=t.formatArray,n.tilingScheme=void 0;var u=void 0,d=void 0;n.ready=!1,n.levelZeroMaximumGeometricError=void 0,n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);var f=t.styleName;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName);var p=e.querySelector("[version]");null!==p&&(r=p.getAttribute("version"),d=/^1\.[3-9]\./.test(r));var g=e.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=g.indexOf("?");m>-1&&(g=g.substring(0,m)),Cesium.defined(t.proxy)&&(g=t.proxy.getURL(g));var v=e.querySelectorAll("Request>GetMap>Format");if(!Cesium.defined(n.formatImage))for(var h=0;h<v.length&&!Cesium.defined(n.formatArray);h++){var y=a.FormatArray.filter(function(e){return e.format===v[h].textContent});y.length>0&&(n.formatArray=y[0])}Cesium.defined(n.formatArray)&&"string"==typeof n.formatArray.format&&"function"==typeof n.formatArray.postProcessArray?n.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:1e4}:n.formatArray=void 0;for(var h=0;h<v.length&&!Cesium.defined(n.formatImage);h++){var y=a.FormatImage.filter(function(e){return e.format===v[h].textContent});y.length>0&&(n.formatImage=y[0])}Cesium.defined(n.formatImage)&&"string"==typeof n.formatImage.format?n.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:1e4}:n.formatImage=void 0;for(var _,b=e.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),w=0;w<b.length&&!Cesium.defined(_);w++)if(b[w].querySelector("Name").textContent===o){_=b[w];var C=_.getAttribute("fixedHeight"),M=_.getAttribute("fixedWidth");Cesium.defined(C)&&(C=parseInt(C),n.heightMapHeight=C>0&&C<n.heightMapHeight?C:n.heightMapHeight,s.height=C>0?C:s.height),Cesium.defined(M)&&(M=parseInt(M),n.heightMapWidth=M>0&&M<n.heightMapWidth?M:n.heightMapWidth,s.width=M>0?M:s.width)}if(Cesium.defined(_)&&Cesium.defined(r)){for(var S=!1,E=0;E<a.CRS.length&&!S;E++){var L=a.CRS[E],O=L.name,x=_.querySelector("BoundingBox[SRS='"+O+"'],BoundingBox[CRS='"+O+"']");if(null!==x){c=O,u=L.firstAxeIsLatitude,n.tilingScheme=new L.tilingScheme({ellipsoid:L.ellipsoid});var I,T,R,G;u&&d?(I=parseFloat(x.getAttribute("miny")),T=parseFloat(x.getAttribute("maxy")),R=parseFloat(x.getAttribute("minx")),G=parseFloat(x.getAttribute("maxx"))):(I=parseFloat(x.getAttribute("minx")),T=parseFloat(x.getAttribute("maxx")),R=parseFloat(x.getAttribute("miny")),G=parseFloat(x.getAttribute("maxy")));var A=new Cesium.Rectangle(I,R,T,G);n.getTileDataAvailable=function(e,t,a){var o=!1,r=n.tilingScheme.tileXYToNativeRectangle(e,t,a);if(a<i){var s=l(A,r);o=Cesium.defined(s)}return o},S=!0}}if(Cesium.defined(f)){for(var V=_.querySelectorAll("Style>Name"),P=!1,F=0;F<V.length&&!P;F++)f===V[F].textContent&&(P=!0);P||(f=void 0)}for(var z=e.querySelectorAll("VendorSpecificCapabilities>TileSet"),k=!1,B=0;B<z.length&&!k;B++){var N=null!==z[B].querySelector("BoundingBox[SRS='"+c+"'],BoundingBox[CRS='"+c+"']"),D=z[B].querySelector("Layers").textContent===o;D&&N&&(s.width=parseInt(z[B].querySelector("Width").textContent),s.height=parseInt(z[B].querySelector("Height").textContent),k=!0)}n.ready=S&&(Cesium.defined(n.formatImage)||Cesium.defined(n.formatArray))&&Cesium.defined(r)}if(n.ready){var j=g+"?SERVICE=WMS&REQUEST=GetMap&layers="+o+"&version="+r+"&bbox=";if(j+=d&&u?"{south},{west},{north},{east}":"{west},{south},{east},{north}",j+="&crs="+c+"&srs="+c,n.formatImage){var U=j+"&format="+n.formatImage.format+"&width="+s.width+"&height="+s.height;Cesium.defined(f)&&(U+="&styles="+f+"&style="+f),n.URLtemplateImage=function(){return U},n.imageSize=s}if(n.formatArray){var W=j+"&format="+n.formatArray.format+"&width="+n.heightMapWidth+"&height="+n.heightMapHeight;n.URLtemplateArray=function(){return W}}}return n},a.TMSParser.generate=function(e){var t;if(e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT),Cesium.defined(e.url))t=o(e.url).then(function(t){return a.TMSParser.parseXML(t,e)});else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.TMSParser.parseXML(e.xml,e)}return t},a.TMSParser.parseXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");var n;if(null!=e.querySelector("TileMapService")){if(!Cesium.defined(t.layerName))throw new Cesium.DeveloperError("layerName is required.");var i=[].slice.apply(e.querySelectorAll("TileMap[title='"+t.layerName+"']")),r=i.map(function(e){var n=e.getAttribute("href");return Cesium.defined(t.proxy)&&(n=t.proxy.getURL(n)),Cesium.when(o(n),function(e){return a.TMSParser.getMetaDatafromXML(e,t)})}),l=Cesium.when.all(r).then(function(e){for(var t,n=0;n<e.length&&!Cesium.defined(t);n++)Cesium.defined(e[n])&&(t=e[n]);return t});n=l.then(function(e){return e})}else n=a.TMSParser.getMetaDatafromXML(e,t);return n},a.TMSParser.getMetaDatafromXML=function(e,t){var n={};n.ready=!1,n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var o=Cesium.defaultValue(t.maxLevel,11),i=t.proxy;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName),n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);var r=e.querySelector("SRS").textContent,s=a.CRS.filter(function(e){return e.name===r});s.length>0&&(n.tilingScheme=new s[0].tilingScheme({ellipsoid:s[0].ellipsoid}));var c=e.querySelector("TileFormat"),u=a.FormatImage.filter(function(e){return e.extension==c.getAttribute("extension")});u.length>0&&(n.formatImage=u[0],n.imageSize={},n.imageSize.width=parseInt(c.getAttribute("width")),n.imageSize.height=parseInt(c.getAttribute("height")));var d=[].slice.call(e.querySelectorAll("TileSets>TileSet")),f=[];if(Cesium.defined(n.formatImage)&&(f=d.map(function(e){var t=e.getAttribute("href")+"/{x}/{tmsY}."+n.formatImage.extension;Cesium.defined(i)&&(t=i.getURL(t));var a=parseInt(e.getAttribute("order"));return{url:t,level:a}}),f.sort(function(e,t){return e.level-t.level}),f.length>0&&(n.tileSets=f)),Cesium.defined(n.tileSets)&&Cesium.defined(n.formatImage)&&Cesium.defined(n.tilingScheme)){n.URLtemplateImage=function(e,t,n){var a="";return n<f.length&&(a=f[n].url),a};var p=e.querySelector("BoundingBox"),g=parseFloat(p.getAttribute("miny")),m=parseFloat(p.getAttribute("maxy")),v=parseFloat(p.getAttribute("minx")),h=parseFloat(p.getAttribute("maxx")),y=new Cesium.Rectangle(v,g,h,m);n.getTileDataAvailable=function(e,t,a){var i=n.tilingScheme.tileXYToNativeRectangle(e,t,a),r=l(y,i);return Cesium.defined(r)&&a<o&&a<f.length},n.ready=!0}else n=void 0;return n},a.WMTSParser.generate=function(e){e=Cesium.defaultValue(e,Cesium.defaultValue.EMPTY_OBJECT);var t;if(Cesium.defined(e.url)){var n=e.url,i=n.lastIndexOf("?");i>-1&&(n=n.substring(0,i));var r=n+"?REQUEST=GetCapabilities";Cesium.defined(e.proxy)&&(r=e.proxy.getURL(r)),t=o(r).then(function(t){return a.WMTSParser.getMetaDatafromXML(t,e)})}else{if(!Cesium.defined(e.xml))throw new Cesium.DeveloperError("either description.url or description.xml are required.");t=a.WMTSParser.getMetaDatafromXML(e.xml,e)}return t},a.WMTSParser.getMetaDatafromXML=function(e,t){if(!(e instanceof XMLDocument))throw new Cesium.DeveloperError("xml must be a XMLDocument");var n={},o=t.layerName;n.ready=!1,n.heightMapWidth=Cesium.defaultValue(t.heightMapWidth,65),n.heightMapHeight=Cesium.defaultValue(t.heightMapHeight,n.heightMapWidth);var i=Cesium.defaultValue(t.maxLevel,12),r=t.proxy,l=t.styleName;n.hasStyledImage=Cesium.defaultValue(t.hasStyledImage,"string"==typeof t.styleName),n.waterMask=Cesium.defaultValue(t.waterMask,!1),"boolean"!=typeof n.waterMask&&(n.waterMask=!1),n.offset=Cesium.defaultValue(t.offset,0),n.highest=Cesium.defaultValue(t.highest,12e3),n.lowest=Cesium.defaultValue(t.lowest,-500);for(var s,c,u,d,f=[],p=[].slice.call(e.querySelectorAll('Operation[name="GetTile"] HTTP Get')),g=p.map(function(e){var t,n=e.querySelector("Value").textContent;return"KVP"===n&&(t={node:e,type:"KVP"}),"RESTful"===n&&(t={node:e,type:"RESTful"}),t}).filter(function(e){return Cesium.defined(e)}),m=0;m<g.length;m++){var v=g[m];"RESTful"!==v.type||Cesium.defined(u)||(u=v.node.getAttribute("xlink:href"),Cesium.defined(r)&&(u=r.getURL(u))),"KVP"!==v.type||Cesium.defined(c)||(c=v.node.getAttribute("xlink:href"),Cesium.defined(r)&&(c=r.getURL(c)))}for(var h,y=e.querySelectorAll("Contents>Layer>Identifier"),m=0;m<y.length&&!Cesium.defined(h);m++)o===y[m].textContent&&(h=y[m].parentNode);if(Cesium.defined(h)){for(var _,b,w=h.querySelectorAll("Style"),m=0;m<w.length;m++){var C=w[m].querySelector("Identifier").textContent;null!=w[m].getAttribute("isDefault")&&(_=C),C===l&&(b=C)}Cesium.defined(l)&&l==b||(l=Cesium.defaultValue(_,""));for(var M=[].slice.call(h.querySelectorAll("Format")),S=0;S<a.FormatImage.length&&!Cesium.defined(d);S++){var E=M.filter(function(e){return e.textContent===a.FormatImage[S].format});E.length>0&&(d=a.FormatImage[S])}f=h.querySelectorAll("TileMatrixSetLink")}for(var L=[].slice.call(e.querySelectorAll("TileMatrixSet>Identifier")),O=0;O<f.length&&!n.ready;O++){for(var x,I,T=f[O],R=T.querySelector("TileMatrixSet").textContent,m=0;m<L.length&&!Cesium.defined(x);m++)L[m].textContent===R&&(x=L[m].parentNode);for(var G=x.querySelector("SupportedCRS").textContent,A=0;A<a.CRS.length&&!Cesium.defined(I);A++)a.CRS[A].SupportedCRS===G&&(I=a.CRS[A]);if(Cesium.defined(I)){var V,P=[].slice.call(x.querySelectorAll("TileMatrix"));V=P.map(function(e){var t=e.querySelector("Identifier").textContent,n=parseInt(e.querySelector("MatrixWidth").textContent),a=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),i=parseInt(e.querySelector("TileHeight").textContent),r=parseFloat(e.querySelector("ScaleDenominator").textContent);return{id:t,maxWidth:n,maxHeight:a,scaleDenominator:r,complete:!1,tileWidth:o,tileHeight:i}}),V.sort(function(e,t){return t.scaleDenominator-e.scaleDenominator}),listTileMatrixLimits=T.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var F=0;F<V.length;F++)for(var z=V[F],k=0;k<listTileMatrixLimits.length;k++){var B=listTileMatrixLimits[k];z.id===B.querySelector("TileMatrix").textContent&&(z.minTileRow=parseInt(B.querySelector("MinTileRow").textContent),z.maxTileRow=parseInt(B.querySelector("MaxTileRow").textContent),z.minTileCol=parseInt(B.querySelector("MinTileCol").textContent),z.maxTileCol=parseInt(B.querySelector("MaxTileCol").textContent),z.complete=!0,V[F]=z)}if(V.length>0){n.tilingScheme=new I.tilingScheme({ellipsoid:I.ellipsoid,numberOfLevelZeroTilesX:V[0].maxWidth,numberOfLevelZeroTilesY:V[0].maxHeight});var N=h.querySelector("ResourceURL[format='"+d.format+"']");if(null!=N?s=N.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",l).replace("{TileMatrixSet}",R).replace("{layer}",o).replace("{infoFormatExtension}",d.extension):Cesium.defined(c)&&(s=c+"service=WMTS&request=GetTile&version=1.0.0&layer="+o+"&style="+l+"&format="+d.format+"&TileMatrixSet="+R+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),Cesium.defined(s)){n.getTileDataAvailable=function(e,t,n){var a=!1;if(n<i&&n<V.length){var o=V[n];a=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return a},n.URLtemplateImage=function(e,t,a){var o="";if(n.getTileDataAvailable(e,t,a)){var i=V[a];o=s.replace("{TileMatrix}",i.id)}return o};var D={width:V[0].tileWidth,height:V[0].tileHeight},j=V.filter(function(e){return e.tileWidth!=D.width||e.tileHeight!=D.height});0==j.length&&(n.imageSize=D),n.ready=!0}}}}return n};var s=function(t){if(!Cesium.defined(t))throw new Cesium.DeveloperError("description is required.");var n=new Cesium.Event,o=t.credit;"string"==typeof o&&(o=new Cesium.Credit(o)),this.ready=!1,this._readyPromise=Cesium.when.defer(),Cesium.defineProperties(this,{errorEvent:{get:function(){return n}},credit:{get:function(){return o}},hasVertexNormals:{get:function(){return!1}},readyPromise:{get:function(){return this._readyPromise.promise}}});var i=a.parser(t);e(i,this)};s.arrayToHeightmapTerrainData=function(e,t,n,a,o,i){"number"==typeof n&&(n={width:n,height:n});var r=a.postProcessArray(e,n,t.highest,t.lowest,t.offset);if(!Cesium.defined(r))throw new Cesium.DeveloperError("no good size");var l={buffer:r,width:n.width,height:n.height,childTileMask:i,structure:a.terrainDataStructure};if(o){for(var s=new Uint8Array(r.length),c=0;c<r.length;c++)r[c]<=0&&(s[c]=255);l.waterMask=s}return new Cesium.HeightmapTerrainData(l)},s.imageToHeightmapTerrainData=function(e,t,n,a,o,i){"number"==typeof n&&(n={width:n,height:n});for(var r=Cesium.getImagePixels(e,n.width,n.height),l=new Uint8Array(r.length/4),s=new Int16Array(r.length/4),c=0,u=0,d=0;d<r.length;d+=4){var f=r[d],p=r[d+1],g=r[d+2]>128,m=(f<<8|p)-t.offset-32768;m>t.lowest&&m<t.highest&&(g||i)?(s[d/4]=m,u+=m,c++):s[d/4]=0==c?0:u/c}var v={buffer:s,width:n.width,height:n.height,childTileMask:o,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(a){for(var l=new Uint8Array(s.length),d=0;d<s.length;d++)s[d]<=0&&(l[d]=255);v.waterMask=l}return new Cesium.HeightmapTerrainData(v)},Cesium.GeoserverTerrainProvider=s}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),i=(a(o),n(30)),r=a(i),l=n(83),s=(a(l),n(5)),c=(a(s),n(76)),u=a(c),d=n(52),f=a(d),p=n(37),g=a(p),m=n(36),v=a(m),h=n(1),y=a(h),_=n(6),b=a(_),w=n(147),C=a(w),M=n(146),S=a(M),E=n(329),L=a(E),O=n(336),x=a(O),I=n(50),T=a(I),R=n(7),G=a(R),A=n(149),V=(a(A),n(634)),P=a(V);y.default.component("gv-conferma-dettaglio",P.default),t.default={_lastZIndex:21,debug:!1,containerId:"gv-container",idMap:null,title:null,findOptions:null,zoomTo:null,geoserverUrl:null,application:{},baseLayers:[{type:"ESRI_IMAGERY",visible:!0}],activeBaseLayer:"ESRI_IMAGERY",maps:[],hilitedLayer:[],init:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o,i;return g.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("Opzioni di inizializzazione non impostate!");case 2:if(t.debug=e.debug,t.idMap=e.idMap,t.findOptions=e.findOptions,t.zoomTo=e.zoomTo,t.disableTMS=e.disableTMS,t.disableCache=e.disableCache,t.flagGeoserver=e.flagGeoserver,t.geoserverUrl=e.geoserverUrl,t.agAppMap=e.agAppMapList,e.application&&(t.application=e.application),e.containerId&&(t.containerId=e.containerId),t.application.layout=e.application&&e.application.layout?e.application.layout:{},e.application&&(t.application.proxy=e.application.proxy||b.default.DEFAULT_PROXY),e.application&&e.application.layout&&e.application.layout.title&&(t.title=e.application.layout.title),t.setBaseLayers(e.baseLayers),t.initLoadedMaps=0,t.initLoadingMaps=1,!e.agAppMapList){n.next=26;break}return n.next=22,(0,L.default)(e.agAppMapList);case 22:a=n.sent,t.agAppMapList=a,o=a.map(function(e){return e.id}),t.loadMaps(o);case 26:e.idMap&&(i=e.idMap.toString().split(","),t.loadMaps(i)),e.idMap||e.agAppMap||GV.eventBus.$on("gv-app-mounted",function(n){e.maps.forEach(function(e){t.addMapConfig(e,null)}),t.application&&t.application.callback&&t.application.callback(n)}),GV.eventBus.$on("map-zoom",function(e){var n=t.getLayersConfig();n.forEach(function(e){if(t.setLayerAttribute(e.name,"inRange",GV.app.map.layerInRange(e)),"openlayers"===GV.app.map.type){var n=GV.app.map.getLayerByName(e.name),a=e.visible&&e.inRange;n.setVisible(a)}})});case 29:case"end":return n.stop()}},n,t)}))()},loadMaps:function(e){var t=this;this.initLoadingMaps=e.length,e.forEach(function(e){t.addRlMap(e,!0,!1)}),GV.eventBus.$on("gv-config-init",function(e){t.application&&t.application.callback&&t.application.callback(e)})},setBaseLayers:function(e){var t=this;this.baseLayers=[],e.forEach(function(e){e.name=e.type,e.label=b.default.BASE_LAYERS[e.type].label,e.icon=b.default.BASE_LAYERS[e.type].icon,t.baseLayers.push(e),e.visible&&(t.activeBaseLayer=e.name)})},changeBaseLayers:function(e){var t=this;GV.app.map.removeLayer(GV.app.map.activeBaseLayer),this.baseLayers.splice(0),e.forEach(function(e){e.name=e.type,e.label=b.default.BASE_LAYERS[e.type].label,e.icon=b.default.BASE_LAYERS[e.type].icon,t.baseLayers.push(e),e.visible&&(t.activeBaseLayer=e.name,GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer=e.name))}),GV.app.map.loadBaseLayers()},setLayerconfig:function(e,t){e.extent_3857=t.extent_3857;var n=e.minScale?" da 1:"+e.minScale:" fino",a=e.maxScale?" a 1:"+e.maxScale:"";return e.scaleRangeLabel="Visibile"+n+a,e.minScale=0===e.minScale?591657550:e.minScale,e.inRange=!GV.app||!GV.app.map||GV.app.map.layerInRange(e),"undefined"==typeof e.opacity&&(e.opacity=1),e.opacityBase100=100*e.opacity,e.zIndex=this._lastZIndex++,this.setLayerType(e),this.setLayerCache(e),e},setLayerType:function(e){this.disableTMS&&e.idMap==this.idMap&&"TMS"===e.type&&(e.type="WMS")},setLayerCache:function(e){this.disableCache&&e.idMap==this.idMap&&"WMS"===e.type&&(e.cacheMinZoomLevel=null)},addMapConfig:function(e,t){var n=this;if(e.ancillaryMaps&&e.ancillaryMaps.forEach(function(t){t.extent_3857=null,n.addMapConfig(t,e)}),e.layers=e.layers.filter(function(e){return!e.flagBaseVectorLayer}),e.layers.forEach(function(t){n.setLayerconfig(t,e)}),e.layers.reverse(),e.addLayerConfig&&this.getMapConfig(e.id))e.layers.forEach(function(t){n.getMapConfig(e.id).layers.push(t)});else{if(this.getMapConfig(e.id))return;t&&(this.application.layout.legend.options.hideAncillaryMapLegend||t.hideAncillaryMapLegend)?e.showLayersInLegend=!1:e.showLayersInLegend=!0,this.maps.unshift(e)}console.log("EMETTO config-add-map"),GV.eventBus.$emit("config-add-map",{config:e})},setLayerAttribute:function(e,t,n){this.maps.forEach(function(a){var o=a.layers;o.forEach(function(a){a.name===e&&(a[t]=n)})})},removeMap:function(e){var t=this.getMapConfig(e);if(t){GV.eventBus.$emit("config-remove-map",{config:t});var n=this.maps.findIndex(function(t){return t.id===e});n>-1&&this.maps.splice(n,1)}},removeLayer:function(e){var t=this;this.maps.forEach(function(n){var a=-1;n.layers.forEach(function(t,n){t.name===e&&(a=n)}),a>-1&&n.layers.splice(a,1),0===n.layers.length&&t.removeMap(n.id)}),GV.eventBus.$emit("config-remove-layer",{config:e})},addLayerToMap:function(e,t){var n=this,a=(0,f.default)({},e);this.maps.forEach(function(e){if(e.id===t){var o=n.getMapConfig(t);n.isLayerInMapConfig(a,o)||(n.setLayerconfig(a,o),e.layers.unshift(a))}}),GV.eventBus.$emit("config-add-layer",{config:a})},isLayerInMapConfig:function(e,t){var n=t.layers.filter(function(t){return t.name===e.name});return n.length>0},setFlagVisible:function(e){if(this.agAppMap){var t=this.agAppMapList.filter(function(t){return t.id===e.id.toString()});t&&t[0]&&!t[0].visible&&e.layers.forEach(function(e){e.visible=!1})}},addRlMap:function(e,t,n){var a=this;return(0,v.default)(g.default.mark(function o(){var i,r,l;return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.getMapConfig(e)){o.next=2;break}return o.abrupt("return",a.getMapConfig(e));case 2:return o.prev=2,o.next=5,(0,C.default)(e);case 5:if(i=o.sent,i.data.success){o.next=8;break}throw new Error("Errore Caricamento Mappa: "+i.data.message);case 8:if(i.data.data){o.next=10;break}throw new Error("Errore Caricamento Mappa: configurazione non trovata");case 10:return b.default.SYS_MANUTENZIONE_DOWNLOAD=i.data.sistema&&i.data.sistema.manutenzioneDownload,r=i.data.data,r.fileDettaglio&&!n?(l="Condizioni di utilizzo",(0,G.default)({elId:"gv-conferma-dettaglio",containerId:a.containerId,vm:new y.default({template:'<gv-conferma-dettaglio idMap="'+e+'" label="'+l+'" link="'+r.fileDettaglio+'"></gv-conferma-dettaglio>'})})):a.loadConfig(r,t),o.abrupt("return",r);case 16:o.prev=16,o.t0=o.catch(2),console.error(o.t0),u.default.error({title:"Attenzione",type:"error",duration:5e3,offset:70,position:"bottom-left",message:o.t0.message});case 20:case"end":return o.stop()}},o,a,[[2,16]])}))()},loadConfig:function(e,t){this.setFlagVisible(e),this.addMapConfig(e,null),GV.app&&GV.app.map&&e.type&&"R"==e.type&&t&&this.getBaseLayerConfig("BLANK")&&(GV.app.map.changeBaseLayer("BLANK"),GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer="BLANK")),e.baseLayers&&e.baseLayers.length>0&&this.changeBaseLayers(e.baseLayers),e.activeBaseLayer&&(GV.app.map.changeBaseLayer(e.activeBaseLayer),GV.baseLayerSwitcher&&(GV.baseLayerSwitcher.activeBaseLayer=e.activeBaseLayer)),GV.config.findOptions&&GV.app.map.find(GV.config.findOptions),GV.config.zoomTo&&this.zoomToCoord(GV.config.zoomTo),this.initLoadedMaps=this.initLoadedMaps+1,this.initLoadingMaps===this.initLoadedMaps&&GV.eventBus.$emit("gv-config-init",GV.app)},zoomToCoord:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o,i,l,s,c;return g.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.coord){t.next=3;break}return console.error("Parametro COORD non impostato"),t.abrupt("return");case 3:if(e.epsg||(e.epsg=3003),e.zoom||(e.zoom=16),a=e.coord.split(",")[0],o=e.coord.split(",")[1],4326===e.epsg||4258===e.epsg){t.next=16;break}return i=r.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"}),t.next=11,(0,T.default)(e.epsg,"4326",a,o);case 11:l=t.sent,l.data.points&&(s=l.data.points[0].split(",")[0],c=l.data.points[0].split(",")[1],GV.app.map.addMarker({location:[c,s],zoomLevel:e.zoom})),i.close(),t.next=17;break;case 16:GV.app.map.addMarker({location:[o,a],zoomLevel:e.zoom});case 17:case"end":return t.stop()}},n,t)}))()},loadCatalog:function(e){var t=this;return(0,v.default)(g.default.mark(function n(){var a,o;return g.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,S.default)(e);case 2:return a=n.sent,t.catalog=t.catalogFull=a.children,n.next=6,(0,x.default)();case 6:o=n.sent,t.enti=o,e.showMapCatalogPanel&&(0,G.default)({elId:"gv-map-catalog-panel",toggleEl:!1,vm:new y.default({template:"<gv-map-catalog-panel></gv-map-catalog-panel>"})});case 9:case"end":return n.stop()}},n,t)}))()},getLayersConfig:function(e){var t=[];return this.maps.forEach(function(n){if(e){var a=n.layers.filter(e);a.forEach(function(e){t.push(e)})}else n.layers.forEach(function(e){t.push(e)})}),t},getLayersNameByMapId:function(e){if(!e)return console.error('Parametro "idMap" non definito'),null;var t=[];return this.maps.forEach(function(n){n.id.toString()===e&&n.layers.forEach(function(n){n.idMap.toString()===e&&t.push(n.name)})}),t},getLayerConfig:function(e){var t=null;return this.maps.forEach(function(n){n.layers.forEach(function(n){n.name===e&&(t=n)})}),t},getBaseLayerConfig:function(e){var t=this.baseLayers.find(function(t){return t.name===e});return t},getMapConfig:function(e){return this.maps.find(function(t){return t.id==e})},getToolOptions:function(e){var t=null;return this.application.layout&&this.application.layout.tools?(this.application.layout.tools.forEach(function(n){n.name===e&&n.options&&(t=n.options)}),t):null},getButtonOptions:function(e){var t=null;return this.application.layout&&this.application.layout.toolbar?(this.application.layout.toolbar.items.forEach(function(n){n.name===e&&n.options&&(t=n.options)}),t):null},getActiveBaseLayer:function(){var e=null;return this.baseLayers.forEach(function(t){t.visible&&(e=t)}),e},setActiveBaseLayer:function(e){this.baseLayers.forEach(function(t){t.visible=t.name===e})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s),u={id:"draw",active:!1,latlng:null,activate:function(){GV.log("GV.controls.draw.activate"),GV.eventBus.$emit("gv-control-draw-activate",this),this.active=!0,this.openPanel()},deactivate:function(){GV.log("GV.controls.draw.deactivate"),GV.eventBus.$emit("gv-control-draw-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){"openlayers"===GV.app.map.type?c.default.component("gv-draw-panel",function(){return new i.default(function(e){n.e(30,function(t){e(n(640))})})}):c.default.component("gv-draw-panel",function(){return new i.default(function(e){n.e(20,function(t){e(n(639))})})}),(0,l.default)({elId:"gv-draw-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-draw-panel></gv-draw-panel>"})})},closePanel:function(){document.getElementById("gv-draw-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-fototeca-selezione-territoriale-panel",function(){return new i.default(function(e){n.e(19,function(t){e(n(642))})})});var u={id:"fototeca-selezione-territoriale",active:!1,latlng:null,activate:function(){GV.log("GV.controls.fototeca-selezione-territoriale.activate"),this.openPanel(),GV.eventBus.$emit("gv-control-fototeca-selezione-territoriale-activate",this),this.active=!0},deactivate:function(){GV.log("GV.controls.fototeca-selezione-territoriale.deactivate"),GV.eventBus.$emit("gv-control-fototeca-selezione-territoriale-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-fototeca-selezione-territoriale-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-fototeca-selezione-territoriale-panel></gv-fototeca-selezione-territoriale-panel>"})})},closePanel:function(){document.getElementById("gv-fototeca-selezione-territoriale-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s);c.default.component("gv-genio-seleziona-particelle-panel",function(){return new i.default(function(e){n.e(17,function(t){e(n(647))})})});var u={id:"genio-seleziona-particelle",active:!1,latlng:null,activate:function(){GV.log("GV.controls.genio-seleziona-particelle.activate"),this.openPanel(),GV.eventBus.$emit("gv-control-genio-seleziona-particelle-activate",this),this.active=!0},deactivate:function(){GV.log("GV.controls.genio-seleziona-particelle.deactivate"),GV.eventBus.$emit("gv-control-genio-seleziona-particelle-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){(0,l.default)({elId:"gv-genio-seleziona-particelle-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-genio-seleziona-particelle-panel></gv-genio-seleziona-particelle-panel>"})})},closePanel:function(){document.getElementById("gv-genio-seleziona-particelle-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=a(o),r=n(7),l=a(r),s=n(1),c=a(s),u={id:"coordinate",active:!1,latlng:null,activate:function(){GV.log("GV.controls.measure.activate"),GV.eventBus.$emit("gv-control-measure-activate",this),this.active=!0,this.openPanel()},deactivate:function(){GV.log("GV.controls.measure.deactivate"),GV.eventBus.$emit("gv-control-measure-deactivate",this),this.active=!1,this.closePanel()},openPanel:function(){"openlayers"===GV.app.map.type?c.default.component("gv-measure-panel",function(){return new i.default(function(e){n.e(12,function(t){e(n(672))})})}):c.default.component("gv-measure-panel",function(){return new i.default(function(e){n.e(16,function(t){e(n(671))})})}),(0,l.default)({elId:"gv-measure-panel",containerId:GV.config.containerId,toggleEl:!0,vm:new c.default({template:"<gv-measure-panel></gv-measure-panel>"})})},closePanel:function(){document.getElementById("gv-measure-panel").style.display="none"}};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=a(o);i.default.directive("draggable",{inserted:function(e,t,n){var a=e.id.replace("-title","");e.className+=" draggable",e.setAttribute("draggable","true"),e.setAttribute("ondragstart","GV.dragbox.start(event)"),e.setAttribute("ondragend","GV.dragbox.end(event,'"+a+"')")}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=void 0;if(t){var a=t.geomField||"location",o=e.hits.hits;n={type:"FeatureCollection",totalFeatures:e.hits.total,features:[],crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::4326"}}},o.forEach(function(e){var t=e._source[a];n.features.push({type:"Feature",id:e._id,geometry:{type:"Point",coordinates:t},geometry_name:"GEOMETRY",properties:e._source})})}else n="string"==typeof e?JSON.parse(e):e;return n}function i(e){if(x[e.type]){var t=x[e.type](e);return t.legend=e.legend,t.config=e,t}throw new Error("Layer di tipo "+e.type+" non gestito")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=n(53),l=a(r),s=n(52),c=a(s),u=n(6),d=a(u),f=n(370),p=a(f),g=n(156),m=a(g),v=n(158),h=a(v),y=n(51),_=a(y),b=n(153),w=a(b),C=n(624),M=a(C),S=n(110),E=a(S),O='<a href="https://www.esri.com/">Esri</a>',x={BLANK:function(e){return e.legend={label:"Sfondo Bianco"},L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{opacity:0,maxZoom:20})},OSM:function(e){return e.legend={label:"OpenStreetMap"},L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20})},TILESERVER_GL:function(e){var t=e;return L.tileLayer("https://geoservizi{s}.regione.liguria.it/styles/"+t+"/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',minZoom:0,maxZoom:20,subdomains:["1","2"]})},TS_STREETS:function(){return this.TILESERVER_GL("streets")},TS_DARK_MATTER:function(){
return this.TILESERVER_GL("dark-matter")},TS_POSITRON:function(){return this.TILESERVER_GL("positron")},TS_MONOCHROME:function(){return this.TILESERVER_GL("monochrome")},TS_TONER:function(){return this.TILESERVER_GL("toner")},ESRI_IMAGERY:function(e){e.legend={label:"ESRI Imagery"},e.name=e.type;var t="DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_STREETS:function(e){e.legend={label:"ESRI Streets"},e.name=e.type;var t="USGS, NOAA";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_TOPOGRAPHIC:function(e){e.legend={label:"ESRI Topographic"},e.name=e.type;var t="USGS, NOAA";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:20})},ESRI_GRAY:function(e){e.legend={label:"ESRI Gray"},e.name=e.type;var t="HERE, DeLorme, MapmyIndia, OpenStreetMap contributors";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:16})},ESRI_DARKGRAY:function(e){e.legend={label:"ESRI Dark Gray"},e.name=e.type;var t="HERE, DeLorme, MapmyIndia, OpenStreetMap contributors";return L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+O+", "+t,maxZoom:16})},MAPBOX:function(e){var t=e.mapboxConfig.userName,n=e.mapboxConfig.accessToken,a=e.mapboxConfig.style;return L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_VIABILITA:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="cjo442ih3407m2slfdwc1hib5",o="Carta della Viabilità";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_MONOCHROME:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="ckgj8eqz80t8q19theln5gwrk",o="Mapbox Monochrome";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_STREETS:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="ckgj8f25p0o6y19jxk0ykap41",o="Mapbox Streets";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},MAPBOX_VIABILITA_SATELLITARE:function(e){var t="liguriadigitale",n="pk.eyJ1IjoibGlndXJpYWRpZ2l0YWxlIiwiYSI6ImNqbzQzajk0bDEwa3EzcWt1ZThqazFqcGIifQ.dUhSMka7mXTD2inJGmlBMw",a="cjo43w54x00di2spieg5itsgf",o="Carta ibrida";return e.legend={label:o},L.tileLayer("https://api.mapbox.com/styles/v1/"+t+"/"+a+"/tiles/256/{z}/{x}/{y}?access_token="+n,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:20})},STAMEN_TERRAIN:function(e){return e.legend={label:"Stamen Terrain"},L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="https://stamen.com">Stamen Design</a>, <a href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"})},STAMEN_TONER_LIGHT:function(e){return e.legend={label:"Stamen Toner Light"},L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="https://stamen.com">Stamen Design</a>, <a href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"})},RL_CARTE_BASE_NC25:function(){return this.WMS({visible:!1,name:"L7273",cacheMinZoomLevel:12,maxScale:1e4,minScale:2e5,wmsParams:{name:"L7273",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M2125/wms?"},zIndex:1,attribution:"Regione Liguria"})},RL_CARTE_BASE:function(){return this.WMS({visible:!1,name:"CARTE_DI_BASE",cacheMinZoomLevel:8,wmsParams:{name:"CARTE_DI_BASE",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Regione Liguria"})},RL_ORTOFOTO_2019:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L8256",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Ortofoto 20cm/ ©2019 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2016:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L5802",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/wms?"},zIndex:1,attribution:"Ortofoto 20cm/ ©2016 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2013:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L4419",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1661/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2010:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L3861",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1505/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2007:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L3463",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M1361/wms?"},zIndex:1,attribution:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2000:function(){return this.WMS({visible:!1,name:"ORTOFOTO",cacheMinZoomLevel:8,wmsParams:{name:"L48",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M48/wms?"},zIndex:1})},TMS:function(e){var t=e.tmsParams.url.replace("/tms/","/tiles/"),n=e.tmsParams.name,a=e.attribution,o=t+"/1.0.0/"+n+"/{z}/{x}/{y}.png",i=e.maxScale?(0,h.default)(e.maxScale)-1:20,r=L.tileLayer(o,{minZoom:1,maxZoom:i,attribution:a});return r.setZIndex(e.zIndex),r.name=n.replace("/webmercator",""),r},WMS:function(e){var t=e.name,n=e.cacheMinZoomLevel,a=e.minScale,o=e.maxScale,i=e.wmsParams,r=(e.flagGeoserver,e.zIndex);GV.log("layerFactory - Creazione Layer WMS: "+t);var l=null,s=!!n,u=i.format,f=e.opacity||1;e.minZoom=a?(0,h.default)(a):8,e.maxZoom=o?(0,h.default)(o)-1:20;var p={subdomains:["1","2"],transparent:!0,layers:i.name,format:u,styles:i.styles||"",opacity:f,minZoom:e.minZoom,maxZoom:e.maxZoom,bounds:L.latLngBounds(L.latLng(d.default.MAX_BOUNDS.X_MIN,d.default.MAX_BOUNDS.Y_MIN),L.latLng(d.default.MAX_BOUNDS.X_MAX,d.default.MAX_BOUNDS.Y_MAX)),client:"GV2"};i.cql_filter&&(p.cql_filter=i.cql_filter),i.sld&&(p.sld=i.sld);var g=i.url;if(s){d.default.USE_SUBDOMAINS&&g.indexOf("geoservizi.regione.liguria.it")>0&&(g=g.replace("geoservizi","geoservizi{s}"));var m=g.indexOf("geoservizi.datasiel.net")>0?e.cacheVersionTest:e.cacheVersion;(0,c.default)(p,{tiled:!0,TILESORIGIN:"-20037508,-20037508",tileSize:256,CACHE_VERSION:m}),l=L.tileLayer.wms(g,p),l.on("tileerror",function(e){(0,w.default)(e.tile.currentSrc).then(function(e){console.error("ERRORE WMS"),e&&e.ServiceExceptionReport&&console.log(e.ServiceExceptionReport.ServiceException)}).catch(function(e){return console.error(e)})})}else(0,c.default)(p,{tiled:!1,pane:"tilePane"}),l=L.nonTiledLayer.wms(g,p),l.on("error",function(e){(0,w.default)(e.target.url).then(function(e){console.error("ERRORE WMS"),console.log(e.ServiceExceptionReport.ServiceException)}).catch(function(e){return console.error(e)})});return l.setZIndex(r),l.type="WMS",l.name=t,l},JSON:function(e){function t(e){var t=[];(0,l.default)(e.feature.properties).forEach(function(n){if("stroke"!==n&&"stroke-opacity"!==n&&"stroke-width"!==n&&"fill"!==n&&"fill-opacity"!==n){var a=e.feature.properties[n];("string"==typeof a||a instanceof String||"number"==typeof a)&&t.push({key:n,value:a})}});var n="<div><b>"+C.label+"</b><br><br></div>";return n+="<div>",t.forEach(function(e){n+=e.key+":"+e.value+"<br>"}),n+="</div>"}var n=e.data,a=e.url,i=e.name,r=e.wfsParams,s=e.esParams,u=e.classes,d=e.style,f=e.pointToLayer,g=e.tooltip,v=e.popup,h=e.basePopup,y=e.customPopup,b=e.cluster,w=e.subType,C=e.legend,S=e.onEachFeature,O=e.onFeatureSelect,x=e.filter,I=null,T={};u&&u.length>0&&("POINT"===e.geomSubType?T.pointToLayer=function(e,t){var n;if(u.forEach(function(t){t.filter&&t.filter.key&&t.filter.value?e.properties[t.filter.key]===t.filter.value&&(n=t.style):n=t.style}),n.iconUrl){var a;switch(n.iconUrl){case"default":a=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});break;case"default-small":a=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[12,20],iconAnchor:[6,10],popupAnchor:[0,-20]});break;default:a=L.icon({iconUrl:n.iconUrl,iconSize:n.iconSize,iconAnchor:n.iconAnchor,popupAnchor:n.popupAnchor})}return L.marker(t,{icon:a})}return L.circleMarker(t,n)}:T.style=function(e){var t;return u.forEach(function(n){n.filter&&n.filter.key&&n.filter.value?e.properties[n.filter.key]===n.filter.value&&(t=n.style):t=n.style}),t},T.filter=function(e){var t=!1;return u.forEach(function(n){n.filter?n.filter.key&&n.filter.value&&e.properties[n.filter.key]===n.filter.value&&(t=!0):t=!0}),t}),d&&(T.style=d),f&&(T.pointToLayer=f),x&&(T.filter=x),(g||v||h||y)&&(T.onEachFeature=function(e,n){g&&(n.options.title=(0,p.default)(g,e.properties)),v&&n.bindPopup((0,p.default)(v,e.properties)),h&&n.bindPopup(t),y&&n.bindPopup(y)}),S&&(T.onEachFeature=S);var R=L.geoJson(n,T);R.name=i,R.geoJson=null,O&&R.on("click",function(e){O(e.layer.feature,e.layer)});var G;if(r&&r.typeName&&r.url&&(G={service:"WFS",version:"2.0.0",request:"GetFeature",srsName:"EPSG:4326",outputFormat:"text/javascript",format_options:"callback: getJson",typeName:r.typeName},a=r.url+(0,m.default)(G)),s&&(G={},s.field?(G.q=s.field+":",s.query?G.q+=s.query:G.q+="*"):s.query&&(G.q=s.query),G.pretty="true",G.size=1e5,a=GV.config.application.proxy+s.url+(0,m.default)(G)),b){var A={showCoverageOnHover:!1};b.options&&(0,c.default)(A,b.options),I=L.markerClusterGroup(A),I.name=i}return a&&(0,_.default)(a).then(function(e){var t=void 0;if("KML"===w){var n=(0,E.default)(e.data);t=M.default.kml(n)}else if("GPX"===w){var a=(0,E.default)(e.data);t=M.default.gpx(a)}else t=o(e.data,s);R.geoJson=t,R.addData(t),b&&(I.geoJson=R.geoJson,I.addLayer(R)),R.fire("ready"),GV.eventBus.$emit("layer-loaded-json",R)}).catch(function(e){return console.error(e)}),n&&(R.geoJson=n,b&&(I.addLayer(R),I.geoJson=R.geoJson,g&&(I.options.title=(0,p.default)(g,feature.properties)),v&&I.bindPopup((0,p.default)(v,feature.properties)),h&&I.bindPopup(t),y&&I.bindPopup(y))),b?I:R}};t.create=i},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(o(i),n(5)),l=(o(r),n(30)),s=o(l),c=n(52),u=o(c),d=n(6),f=(o(d),n(321)),p=a(f),g=n(35),m=o(g),v=n(154),h=o(v),y=n(34),_=o(y),b=n(50),w=o(b),C=n(148),M=o(C),S=n(19),E=o(S),O={type:"leaflet",layers:[],baseLayers:[],initialExtent:[],map:null,zoom:null,buttons:[],mapOptions:{type:"leaflet",zoomControl:!1,minZoom:7,maxZoom:20},initialize:function(){return(0,u.default)(this.mapOptions,GV.config.application.mapOptions),console.log("MAP OPTIONS",this.mapOptions),this.map=L.map("gv-map",this.mapOptions),this.type="leaflet",this.options=this.map.options,this.setInitialExtent(),this.zoom=this.map._zoom,this.setRestrictedExtent(),this.setLoading(),this.loadBaseLayers(),this.loadControls(),this.eventMngr(),this},on:function(e,t){this.map.on(e,t)},off:function(e){this.map.off(e)},fitBounds:function(e,t){this.map.fitBounds(e,t)},setView:function(e,t,n){var a=Array.isArray(e)?{lat:e[0],lng:e[1]}:e;this.map.setView(a,t,n)},setMaxBounds:function(e){this.map.setMaxBounds(e)},getBounds:function(){return this.map.getBounds()},getSize:function(){return this.map.getSize()},getCenter:function(){return this.map.getCenter()},getZoom:function(){return this.map.getZoom()},setZoom:function(e,t){this.map.setZoom(e,t)},removeLayer:function(e){this.map.removeLayer(e)},addLayer:function(e){this.map.addLayer(e)},flyTo:function(e,t,n){this.map.flyTo(e,t,n)},latLngToContainerPoint:function(e){return this.map.latLngToContainerPoint(e)},addControl:function(e){this.map.addControl(e)},eachLayer:function(e,t){this.map.eachLayer(e,t)},addHandler:function(e,t){this.map.addHandler(e,t)},eventMngr:function(){var e=this;this.on("zoom",function(){GV.eventBus.$emit("map-zoom",e.map._zoom)}),GV.eventBus.$on("set-layer-visible",function(t){e.setLayerVisible(t.layer,t.checked),e.setHiliteLayerVisible(t)}),GV.eventBus.$on("set-layer-transparency",function(t){var n=e.getLayerByName(t.layerName);n&&n.setOpacity&&n.setOpacity(t.opacity)}),GV.eventBus.$on("change-base-layer",function(t){e.changeBaseLayer(t.layer)})},setHiliteLayerVisible:function(e){var t=this;GV.config.hilitedLayer&&GV.config.hilitedLayer.forEach(function(n){if(n===e.layer.name){var a=t.getLayerByName("InfoWmsHilite");a.eachLayer(function(t){var n=e.checked?.6:0;t.setStyle({opacity:n})})}})},projToGeoBounds:function(e){var t=e.split(","),n=L.point(t[0],t[1]),a=L.point(t[2],t[3]),o=L.Projection.SphericalMercator.unproject(n),i=L.Projection.SphericalMercator.unproject(a);return L.latLngBounds(o,i)},setExtent:function(e){this.initialExtent=this.projToGeoBounds(e),this.fitBounds(this.initialExtent)},setInitialExtent:function(){if(GV.log("setInitialExtent"),this.mapOptions.center&&this.mapOptions.zoom)this.setView(this.mapOptions.center,this.mapOptions.zoom);else{var e=this.mapOptions.initialExtent||"830036,5402959,1123018,5597635";this.setExtent(e)}},setRestrictedExtent:function(){this.mapOptions.restrictedExtent&&(this.restrictedExtent=this.projToGeoBounds(this.mapOptions.restrictedExtent),this.setMaxBounds(this.restrictedExtent))},getExtent:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return L.bounds(n,a)},getExtentAsString:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return n.x+","+n.y+","+a.x+","+a.y},setLayerVisible:function(e,t){if(t)e.visible=!0,this.loadLayers([e]);else{var n=this.getLayerByName(e.name);n&&this.removeLayer(n)}},layerInRange:function(e){return!e.minScale&&!e.minScale||this.getScale()<e.minScale&&this.getScale()>e.maxScale},loadControls:function(){var e=this;if(this.mapOptions.controls){var t;this.controls={},this.mapOptions.controls.forEach(function(n){switch(n.name){case"scale":t=L.control.scale({imperial:!1}).addTo(e.map),e.controls[n]=t}})}},loadBaseLayers:function(){var e=this;this.baseLayers=[],GV.config.baseLayers.forEach(function(t){var n=p.create(t,e);e.baseLayers[n.config.type]=n,n&&t.visible&&(n.on("loading",function(){e.loading(!0,n)}),n.on("load",function(){e.loading(!1,n)}),n.addTo(e.map),e.activeBaseLayer=n,GV.config.activeBaseLayer=n.config.name)})},loadLayers:function(e){var t=this;e.forEach(function(e){if(!t.getLayerByName(e.name)){var n=p.create(e);n&&e.visible&&(n.on("loading",function(){t.loading(!0,n)}),n.on("load",function(){t.loading(!1,n)}),n.addTo(t.map),n.on("ready",function(){e.zoomToLayerExtent&&!function(){var e=new L.latLngBounds;n.eachLayer(function(t){t.getBounds?e.extend(t.getBounds()):e.extend(new L.latLngBounds(t._latlng,t._latlng))}),e&&t.fitBounds(e)}()}))}})},filterLayer:function(e,t){var n=this.getLayerByName(e);n&&(t?n.eachLayer(function(e){var a=0;t.forEach(function(t){e.feature.properties[t.key]===t.value&&(a=n.config.opacity||1)}),e.setOpacity(a)}):n.eachLayer(function(e){var t=n.config.opacity||1;e.setOpacity(t)}))},getLayerByName:function(e){var t=null;return this.eachLayer(function(n){n.config&&n.config.name&&n.config.name===e&&(t=n)}),t},changeBaseLayer:function(e){var t=GV.config.getActiveBaseLayer().name;t!==e&&(this.baseLayers[e].addTo(this.map),this.activeBaseLayer=this.baseLayers[e],this.removeLayer(this.baseLayers[t]),GV.config.setActiveBaseLayer(e))},getScale:function(){var e=591657550/Math.pow(2,this.map._zoom);return e},setLoading:function(){var e=this;this._spinning=0,this.on("layerremove",function(t){t.layer.loading&&e.loading(!1),"function"==typeof t.layer.on&&(t.layer.off("load"),t.layer.off("loading"))})},loading:function(e,t){e?(0===this._spinning&&(GV.log("start load: "+t.config.name),this.map._container.style.cursor="progress"),this._spinning++):(this._spinning--,GV.log("end load: "+t.config.name),this._spinning<=0&&(GV.log("FINE CARICAMENTO LAYER"),this.map._container.style.cursor="default",GV.eventBus.$emit("map-full-loaded",this.map)))},addMarker:function(e){var t=this;e.epsg&&"4326"!=e.epsg?(0,w.default)(e.epsg,"4326",e.location[1],e.location[0]).then(function(n){if(n.data.points){var a=n.data.points[0].split(",")[0],o=n.data.points[0].split(",")[1];e.location=[o,a],t.addMarkerToMap(e)}}):this.addMarkerToMap(e)},addMarkerToMap:function(e){var t=L.icon({iconUrl:"/geoservices/apps/viewer/dist/static/img/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]}),n={opacity:.8,icon:t,title:e.label};"circle"===e.type?L.circleMarker(e.location,n).addTo(this.map):L.marker(e.location,n).addTo(this.map),this.flyTo(e.location,e.zoomLevel||14)},find:function(e){var t=this;if(e.bbox)return void this.zoomToBound(e.bbox,e.epsg,e.maxZoom);if(!(e.values&&"null"!==e.values||e.cqlFilter))return void console.error("Parametri FIND non completi: manca CQL_FILTER o VALUES");var n=e.cqlFilter||(0,h.default)(e),a=e.layers||GV.config.getLayersNameByMapId(e.map),o=a.join(","),i=GV.config.getLayerConfig(a[0]),r=i.wfsParams;r.typeName=o;var l=s.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"});(0,m.default)(r,n).then(function(n){t.hiliteFeatures(n,e,a,l)}).catch(function(e){console.error(e),l.close()})},zoomTo:function(e,t,n){this.setView(new L.LatLng(e,t),n)},zoomToBound:function(e,t,n){var a=this;if("4326"!=t){var o=t,i="4326";(0,M.default)(o,i,e).then(function(e){if(e.data.data){var t=e.data.data[0][0].split(",").reverse(),n=e.data.data[1][0].split(",").reverse();a.fitBounds([t,n])}})}else{var r=e.split(","),l=[r[0],r[1]],s=[r[2],r[3]];this.fitBounds([l,s])}},getContainerPoint:function(e){var t=this.latLngToContainerPoint(e);return t},getBbox:function(){var e=GV.app.map.getBounds(),t=GV.app.map.options.crs.project(e.getSouthWest()),n=GV.app.map.options.crs.project(e.getNorthEast());return t.x+","+t.y+","+n.x+","+n.y},clearLayer:function(){var e=this.getLayerByName("InfoWmsHilite");e.clearLayers()},hiliteFeatures:function(e,t,n,a){_.default.addHiliteLayer();var o=this.getLayerByName("InfoWmsHilite");if(e&&e.length>0){o.clearLayers(),o.addData(e);var i=t&&t.maxZoom?t.maxZoom:15;this.fitBounds(o.getBounds(),{maxZoom:i}),n&&(GV.config.hilitedLayer=n)}else t&&t.notFoundAlert&&(0,E.default)("Nessuna Elemento Trovato"),console.warn("Nessuna Elemento Trovato");a&&a.close()}};t.default=O},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=0,n=0;e.getSource().on("tileloadstart",function(n){++t,1===t&&GV.eventBus.$emit("layer-load",e)}),e.getSource().on("tileloadend",function(a){++n,t===n&&(t=0,n=0,GV.eventBus.$emit("layer-loaded",e))}),e.getSource().on("tileloaderror",function(a){++n,t===n&&(t=0,n=0,GV.eventBus.$emit("layer-loaded",e))})}function i(e){e.getSource().on("imageloadstart",function(){GV.eventBus.$emit("layer-load",e)}),e.getSource().on("imageloadend",function(){GV.eventBus.$emit("layer-loaded",e)}),e.getSource().on("imageloaderror",function(){GV.eventBus.$emit("layer-loaded",e)})}function r(e){var t=e.getSource().on("change",function(n){"loading"==e.getSource().getState()&&GV.eventBus.$emit("layer-load",e),"ready"==e.getSource().getState()&&(GV.eventBus.$emit("layer-loaded",e),e.getSource().un("change",t))})}function l(e,t){if(b[e.type]){var n=b[e.type](e,t);return n.legend=e.legend,n.config=e,n}throw new Error("Layer di tipo "+e.type+" non gestito")}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var s=n(53),c=a(s),u=n(45),d=a(u),f=n(52),p=a(f),g=n(6),m=a(g),v=n(158),h=a(v),y=n(153),_=(a(y),'<a href="https://www.esri.com/">Esri</a>'),b={BLANK:function(){return null},OSM:function(e){e.legend={label:"OpenStreetMap"};var t=new ol.layer.Tile({source:new ol.source.OSM});return t.config=e,t.name=e.name,t},TILESERVER_GL:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({url:"https://geoservizi.regione.liguria.it/styles/"+e+"/{z}/{x}/{y}.png"})});return t},TS_STREETS:function(e){var t=this.TILESERVER_GL("streets");return t.config=e,t.name=e.name,t},TS_DARK_MATTER:function(e){var t=this.TILESERVER_GL("dark-matter");return t.config=e,t.name=e.name,t},TS_POSITRON:function(e){var t=this.TILESERVER_GL("positron");return t.config=e,t.name=e.name,t},TS_MONOCHROME:function(e){var t=this.TILESERVER_GL("monochrome");return t.config=e,t.name=e.name,t},TS_TONER:function(e){var t=this.TILESERVER_GL("toner");return t.config=e,t.name=e.name,t},ESRI_IMAGERY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_STREETS:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", 'USGS, NOAA",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_TOPOGRAPHIC:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+",USGS, NOAA",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_GRAY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", HERE, DeLorme, MapmyIndia, OpenStreetMap contributors",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},ESRI_DARKGRAY:function(e){var t=new ol.layer.Tile({source:new ol.source.XYZ({attributions:"&copy; "+_+", HERE, DeLorme, MapmyIndia, OpenStreetMap contributors",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}"})});return e.name=e.type,t.name=e.type,t},RL_CARTE_BASE_NC25:function(){var e=2125,t="L7273";return this.WMS({idMap:e,visible:!1,name:"RL_CARTE_BASE_NC25",cacheMinZoomLevel:12,maxScale:1e4,minScale:2e5,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Regione Liguria"})},RL_CARTE_BASE:function(){return this.WMS({visible:!1,name:"RL_CARTE_BASE",cacheMinZoomLevel:8,wmsParams:{name:"CARTE_DI_BASE",format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/gwc/service/wms?"},zIndex:1,attributions:"Regione Liguria"})},RL_ORTOFOTO_2019:function(){var e=2248,t="L8256";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2019",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Ortofoto 20cm/ ©2019 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2016:function(){var e=1828,t="L5802";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2016",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Ortofoto 20cm/ ©2016 CONSORZIO TeA - TUTTI I DIRITTI RISERVATI"})},RL_ORTOFOTO_2013:function(){var e=1661,t="L4419";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2013",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2010:function(){var e=1505,t="L3861";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2010",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2007:function(){var e=1361,t="L3463";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2007",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/png",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0,attributions:"Immagine di proprietà AGEA"})},RL_ORTOFOTO_2000:function(){var e=48,t="L48";return this.WMS({idMap:e,visible:!1,name:"RL_ORTOFOTO_2000",cacheMinZoomLevel:8,wmsParams:{name:t,format:"image/jpeg",url:"https://geoservizi.regione.liguria.it/geoserver/M"+e+"/wms?"},zIndex:0})},WMS:function(e){var t=e.name,n=e.cacheMinZoomLevel,a=e.minScale,r=e.maxScale,l=e.wmsParams,s=e.zIndex,c=e.idMap,u=e.attributions;GV.log("layerFactory - Creazione Layer WMS: "+t);var d=null,f=!!n,g=e.opacity||1;e.minZoom=a?(0,h.default)(a):8,e.maxZoom=r?(0,h.default)(r)-1:20;var v={transparent:!0,format:l.format,styles:l.styles||"",client:"GV2"};l.cql_filter&&(v.cql_filter=l.cql_filter),l.sld&&(v.sld=l.sld);var y=l.url;if(console.log("URL",y),f){c?(y=y.replace("M"+c,"gwc/service"),v.layers="M"+c+":"+l.name):v.layers=l.name;var _=m.default.USE_SUBDOMAINS&&y.indexOf("geoservizi.regione.liguria.it")>0?[y.replace("geoservizi","geoservizi1"),y.replace("geoservizi","geoservizi2")]:null,b=y.indexOf("geoservizi.datasiel.net")>0?e.cacheVersionTest:e.cacheVersion;(0,p.default)(v,{SRS:"EPSG:3857",TILESORIGIN:"-20037508,-20037508",width:256,height:256,CACHE_VERSION:b});var w={params:v};_?w.urls=_:w.url=y,u&&(w.attributions=u),d=new ol.layer.Tile({source:new ol.source.TileWMS(w)}),o(d)}else{(0,p.default)(v,{layers:l.name,ratio:1});var C={url:y,params:v};d=new ol.layer.Image({url:y,source:new ol.source.ImageWMS(C)}),i(d)}return d.setOpacity(g),d.setZIndex(s),d.type="WMS",d.config=e,d.name=t,d},JSON:function(e){return this.Vector(e)},Vector:function(e){var t=e.name,n=e.data,a=e.url,o=e.style,i=(e.cluster,e.zIndex),l=e.onFeatureSelect,s=e.onHover,u=e.subType,f=e.basePopup,p=e.legend,g=(e.filter,e.tooltip,void 0);switch(u){case"KML":g=new ol.format.KML({});break;case"GPX":g=new ol.format.GPX({});break;default:g=new ol.format.GeoJSON({})}var m=new ol.source.Vector({format:g,url:a}),v=new ol.layer.Vector({source:m,style:o});if(n){var h=v.getSource();h.clear(!0);var y=!0,_=!1,b=void 0;try{for(var w,C=(0,d.default)(n.features);!(y=(w=C.next()).done);y=!0){var M=w.value,S=(new ol.format.GeoJSON).readFeature(M,{featureProjection:"EPSG:3857"});h.addFeature(S)}}catch(e){_=!0,b=e}finally{try{!y&&C.return&&C.return()}finally{if(_)throw b}}}return l&&GV.app.map.on("click",function(e){GV.app.map.forEachFeatureAtPixel(e.pixel,l,{layerFilter:function(e){return e===v}})}),s&&GV.app.map.on("pointermove",function(e){GV.app.map.forEachFeatureAtPixel(e.pixel,s,{layerFilter:function(e){return e===v}})}),f&&!function(){var e=new ol.Overlay({element:document.getElementById("ol-popup"),autoPan:!0,autoPanAnimation:{duration:250}});GV.app.map.addOverlay(e),GV.app.map.on("pointermove",function(e){var t=GV.app.map.map.hasFeatureAtPixel(GV.app.map.getEventPixel(e.originalEvent));document.getElementById("gv-map").style.cursor=t?"pointer":""}),GV.app.map.on("click",function(t){var n=t.pixel;GV.app.map.forEachFeatureAtPixel(n,function(n){var a=n.getProperties(),o=document.getElementById("ol-popup-closer");o.onclick=function(){return e.setPosition(void 0),o.blur(),!1};var i=document.getElementById("ol-popup-content");i.innerHTML="<p><b>LIVELLO</b> "+p.label+"</p><br>",(0,c.default)(a).forEach(function(e){var t=a[e];("string"==typeof t||t instanceof String||"number"==typeof t)&&(i.innerHTML+="<b>"+e+":</b> "+t+" <br>")}),e.setPosition(t.coordinate)})})}(),r(v),i&&v.setZIndex(i),v.set("altitudeMode","clampToGround"),v.name=t,v},MBS:function(e,t){console.log(e),olms(t,e.url).then(function(e){})},MBS_STREETS:function(e,t){var n="streets",a="https://geoservizi.regione.liguria.it/tileserver-gl/styles/"+n+"/style.json";return this.MBS(a,t.map),null}};t.create=l},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=(o(i),n(5)),l=(o(r),n(30)),s=o(l),c=n(45),u=o(c),d=n(52),f=o(d),p=n(323),g=a(p),m=n(35),v=o(m),h=n(154),y=o(h),_=n(34),b=o(_),w=n(50),C=o(w),M=n(155),S=o(M),E=n(19),O=o(E),x={type:"openlayers",layers:[],baseLayers:[],initialExtent:[],map:null,zoom:null,loading:0,loaded:0,buttons:[],options:{type:"openlayers",zoomControl:!1,minZoom:7,maxZoom:20},initialize:function(){(0,f.default)(this.options,GV.config.application.mapOptions);var e={};return this.options.restrictedExtent&&(e.extent=this.extentToArray(this.options.restrictedExtent)),this.map=new ol.Map({target:"gv-map",layers:[],controls:[new ol.control.Attribution],view:new ol.View(e)}),this.createPopupDiv(),this.setInitialExtent(),this.zoom=this.getView().getZoom(),this.setLoading(),this.loadBaseLayer(),this.eventMngr(),this.options.ol3d&&(GV.globals.USE_SUBDOMAINS=!1,this.loadCesium()),this},loadCesium:function(){var e=(n(314),new olcs.OLCesium({map:this.map}));this.scene=e.getCesiumScene();var t=new Cesium.GeoserverTerrainProvider({url:"https://geoservizi.regione.liguria.it/geoserver/DTM/ows",layerName:"DTM_dbtopo_5m_wgs84"});this.scene.terrainProvider=t,this.options.enable3d&&e.setEnabled(!0),this.ol3d=e},setLoading:function(){var e=this;GV.eventBus.$on("layer-load",function(t){++e.loading}),GV.eventBus.$on("layer-loaded",function(t){++e.loaded,e.loading===e.loaded&&(e.loading=0,e.loaded=0,GV.log("FINE CARICAMENTO MAPPA"),GV.eventBus.$emit("map-full-loaded",e.map))})},eventMngr:function(){var e=this;this.map.on("moveend",function(t){var n=e.getView().getZoom();e.zoom!=n&&(GV.eventBus.$emit("map-zoom",n),e.zoom=n)}),this.map.on("rendercomplete",function(e){}),GV.eventBus.$on("set-layer-visible",function(t){e.setLayerVisible(t.layer,t.checked),e.setHiliteLayerVisible(t.layer,t.checked)}),GV.eventBus.$on("set-layer-transparency",function(t){e.setLayerOpacity(t.layerName,t.opacity)}),GV.eventBus.$on("change-base-layer",function(t){e.changeBaseLayer(t.layer)})},addInteraction:function(e){this.map.addInteraction(e)},removeInteraction:function(e){this.map.removeInteraction(e)},getView:function(){return this.map.getView()},
getOverlays:function(){return this.map.getOverlays()},removeOverlay:function(e){this.map.removeOverlay(e)},setLayerOpacity:function(e,t){var n=this.getLayerByName(e);n&&n.setOpacity&&n.setOpacity(t)},setExtent:function(e){var t=this.extentToArray(e);this.fit(t)},extentToArray:function(e){var t=e.split(",").map(function(e){return parseFloat(e)});return t},setInitialExtent:function(){if(GV.log("setInitialExtent"),this.options.center&&this.options.zoom)this.setView(this.options.center,this.options.zoom);else{var e=this.options.initialExtent||"830036,5402959,1123018,5597635";this.setExtent(e)}},setView:function(e,t){var n=Array.isArray(e)?e:[e.lng,e.lat];this.getView().setCenter(ol.proj.fromLonLat(n)),this.getView().setZoom(t)},getExtent:function(){var e=this.getBounds().getSouthWest(),t=this.getBounds().getNorthEast(),n=L.Projection.SphericalMercator.project(e),a=L.Projection.SphericalMercator.project(t);return L.bounds(n,a)},getExtentAsString:function(){return this.getView().calculateExtent().join(",")},setLayerVisible:function(e,t){var n=this.getLayerByName(e.name);n.setVisible(t),e.visible=t},setHiliteLayerVisible:function(e,t){if(GV.config.hilitedLayer){var n=!0,a=!1,o=void 0;try{for(var i,r=(0,u.default)(GV.config.hilitedLayer);!(n=(i=r.next()).done);n=!0){var l=i.value;if(l[0]===e.name){var s=this.getLayerByName("InfoWmsHilite");s.setVisible(t)}}}catch(e){a=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}}},layerInRange:function(e){return!e.minScale&&!e.minScale||this.getScale()<e.minScale&&this.getScale()>e.maxScale},loadBaseLayer:function(){var e=this;GV.config.baseLayers.forEach(function(t){t.visible&&e.setBaseLayer(t)})},setBaseLayer:function(e){if("BLANK"===e.name)return void(GV.config.activeBaseLayer="BLANK");var t=g.create(e,this);t&&(t.config.baseLayer=!0,this.map.getLayers().insertAt(0,t),this.activeBaseLayer=t,GV.config.activeBaseLayer=t.config.name)},changeBaseLayer:function(e){if(GV.config.activeBaseLayer!==e){var t=this.getLayerByName(GV.config.activeBaseLayer);this.removeLayer(t);var n=GV.config.getBaseLayerConfig(e);this.setBaseLayer(n)}},getLayerByName:function(e){var t=null;return this.map.getLayers().forEach(function(n){n.name&&n.name===e&&(t=n)}),t},getScale:function(){var e=591657550/Math.pow(2,this.getView().getZoom());return e},getZoom:function(){return this.getView().getZoom()},setZoom:function(e){this.getView().setZoom(e)},getCenter:function(){return ol.proj.transform(this.getView().getCenter(),"EPSG:3857","EPSG:4326").reverse()},removeLayer:function(e){this.map.removeLayer(e)},addLayer:function(e){this.map.addLayer(e)},addOverlay:function(e){this.map.addOverlay(e)},getTarget:function(){return this.map.getTarget()},getEventPixel:function(e){return this.map.getEventPixel(e)},getSize:function(){return this.map.getSize()},fit:function(e,t){var n=ol.geom.Polygon.fromExtent(e);n.scale(1.2),this.getView().fit(n,t)},createPopupDiv:function(){(0,S.default)({elId:"ol-popup",containerId:"body"}),(0,S.default)({elId:"ol-popup-closer",containerId:"ol-popup"}),(0,S.default)({elId:"ol-popup-content",containerId:"ol-popup"})},loadLayers:function(e){var t=this;e.forEach(function(e){if(!t.getLayerByName(e.name)){var n=g.create(e,t);n&&(t.addLayer(n),t.setLayerVisible(e,e.visible),e.zoomToLayerExtent&&!function(){var e=n.getSource();e.once("change",function(){"ready"===e.getState()&&n.getSource().getFeatures().length>0&&t.fit(e.getExtent(),{maxZoom:15})})}())}})},clearLayer:function(e){var t=this.getLayerByName(e),n=t.getSource();n.clear(!0)},addMarker:function(e){var t=this;e.epsg&&"4326"!=e.epsg?(0,C.default)(e.epsg,"4326",e.location[1],e.location[0]).then(function(n){if(n.data.points){var a=n.data.points[0].split(",")[0],o=n.data.points[0].split(",")[1];e.location=[o,a],t.addMarkerToMap(e)}}):this.addMarkerToMap(e)},addMarkerToMap:function(e){var t=Array.isArray(e.location)?e.location:[e.location.lng,e.location.lat],n=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(t)),name:e.label});n.setStyle(new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:"/geoservices/apps/viewer/dist/static/img/marker-icon.png"})}));var a=new ol.layer.Vector({source:new ol.source.Vector({features:[n]}),zIndex:1e3});this.addLayer(a),this.fit(n.getGeometry().getExtent(),{maxZoom:e.zoomLevel||15})},find:function(e){var t=this;if(e.bbox)return void this.zoomToBound(e.bbox,e.epsg,e.maxZoom);if(!(e.values&&"null"!==e.values||e.cqlFilter))return void console.error("Parametri FIND non completi: manca CQL_FILTER o VALUES");var n=e.cqlFilter||(0,y.default)(e),a=e.layers||GV.config.getLayersNameByMapId(e.map),o=a.join(","),i=GV.config.getLayerConfig(a[0]),r=i.wfsParams;r.typeName=o;var l=s.default.service({text:"Ricerca...",background:"rgba(0, 0, 0, 0.8)"});(0,v.default)(r,n).then(function(n){t.hiliteFeatures(n,e,a,l)}).catch(function(e){console.error(e),l.close()})},zoomTo:function(e,t,n){this.setView([t,e],n)},zoomToBound:function(e,t,n){if("3857"!=t){var a=this.extentToArray(e),o=new ol.proj.Projection({code:"EPSG:"+t}),i=ol.proj.transformExtent(a,o,"EPSG:3857");this.fit(i,{maxZoom:n||15})}else this.setExtent(e)},on:function(e,t){this.map.on(e,t)},off:function(e,t){this.map.un(e,t)},forEachFeatureAtPixel:function(e,t,n){this.map.forEachFeatureAtPixel(e,t,n)},hiliteFeatures:function(e,t,n,a){b.default.addHiliteLayer();var o=this.getLayerByName("InfoWmsHilite");if(e&&e.length>0){var i=o.getSource();i.clear(!0);var r=!0,l=!1,s=void 0;try{for(var c,d=(0,u.default)(e);!(r=(c=d.next()).done);r=!0){var f=c.value,p=(new ol.format.GeoJSON).readFeature(f,{featureProjection:"EPSG:3857"});i.addFeature(p)}}catch(e){l=!0,s=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw s}}var g=t&&t.maxZoom?t.maxZoom:15;this.fit(o.getSource().getExtent(),{maxZoom:g}),n&&(GV.config.hilitedLayer=n)}else t&&t.notFoundAlert&&(0,O.default)("Nessuna Elemento Trovato"),console.warn("Nessuna Elemento Trovato");a&&a.close()}};t.default=x},function(e,t){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,a=arguments[1],o=0;o!==n;o++)if(e.call(a,this[o],o,t))return this[o]}})},function(e,t){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],o=0;o<n;){var i=t[o];if(e.call(a,i,o,t))return o;o++}return-1}})},function(e,t){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e})},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=""+l.default.RL_AG_APP_LISTA_MAPPE+e;return i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=GV.globals.ATLANTE_GEOCHIMICO_CONFIG_URL;return i.default.get(e).then(function(e){return e.data.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(i.default.mark(function e(t){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="/geoservices/REST/utils/autorizza_nam/GEOVIEWER/"+t,e.next=3,c.default.get(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return e}()},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=s.default.RL_ENTI_SERVICE;return r.default.get(e).then(function(e){return e.data.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/geoservices/apps/viewer/pages/env.json",e.next=3,c.default.get(t);case 3:return n=e.sent,e.abrupt("return",n.data.ENV);case 5:case"end":return e.stop()}},e,this)}));return e}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.features;return e.features.forEach(function(e,n){e.id=t+"."+n}),n}function i(e,t){var n={};return l.default.get(e,{params:n}).then(function(e){var n=e.data,a=o(n,t);return a})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(4),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};return r.default.get(e,{params:n}).then(function(e){var n={layerName:t,id:"1",label:"1",text:e.data,properties:null};return[n]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=(new u).xml_str2json(e),a=[];return n.FeatureCollection&&n.FeatureCollection.featureMember&&(Array.isArray(n.FeatureCollection.featureMember)?n.FeatureCollection.featureMember.forEach(function(e,n){var o=e[(0,l.default)(e)[0]],i={},r=!1;(0,l.default)(o).forEach(function(e,t){"__prefix"!==e&&"__text"!==e&&"toString"!==e&&(i[e]=o[e].__text,r=!0)}),r&&a.push({type:"Feature",id:t+"."+n,geometry:null,properties:i})}):!function(){var e=n.FeatureCollection.featureMember,o=e[(0,l.default)(e)[0]],i={},r=!1,s=0;(0,l.default)(o).forEach(function(e,t){"__prefix"!==e&&"__text"!==e&&"toString"!==e&&(i[e]=o[e].__text,r=!0)}),r&&a.push({type:"Feature",id:t+"."+s,geometry:null,properties:i})}()),n.msGMLOutput&&(0,l.default)(n.msGMLOutput).forEach(function(e,t){e.indexOf("_layer")>=0&&!function(){var t=e.replace("_layer",""),o=n.msGMLOutput[e];(0,l.default)(o).forEach(function(e,n){var i=o[e];Array.isArray(i)?i.forEach(function(e){var o=e;a.push({type:"Feature",id:t+"."+n,geometry:null,properties:o})}):!function(){var e={},o=!1;(0,l.default)(i).forEach(function(t,n){"__prefix"!==t&&"__text"!==t&&"toString"!==t&&(e[t]=i[t],o=!0)}),o&&a.push({type:"Feature",id:t+"."+n,geometry:null,properties:e})}()})}()}),a}function i(e,t){var n={};return c.default.get(e,{params:n}).then(function(e){var n=e.data,a=o(n,t);return a})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),l=a(r);t.default=i;var s=n(4),c=a(s),u=n(109)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.layerName?t.layerName.replace("L",""):null,a=t.layer&&t.layer.legend?t.layer.legend.label:null;return r.default.post(s.default.RL_XSL_INFO_SERVICE,{data:{xslUrl:e,gml:t.gml,idLayer:n,titolo:a,featureAttributes:t.properties,text:t.text}}).then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4),r=a(i),l=n(6),s=a(l),c=n(110);a(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/geoservices/REST/fototeca/voli/";return e&&(t+="?bbox="+e),i.default.get(t).then(function(e){return e.data.data})};var o=n(4),i=a(o),r=n(6);a(r)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.get(e).then(function(e){return e.data.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.get(e).then(function(e){return e.data.features})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(36),l=a(r),s=n(4),c=a(s);t.default=function(){var e=(0,l.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={mapview:"7.43,43.75;10.00,44.70",searchtext:e.replace("INCROCIO","@")};return i.default.get(l.default.HERE_GEOCODE_PROXY,{params:t}).then(function(e){return e.data.Response.View[0].Result.map(function(e){return{relevance:e.Relevance,match_level:e.MatchLevel,match_type:e.MatchType,formatted_address:e.Location.Address.Label,place_id:e.Location.LocationId,geometry:{location:{lat:e.Location.DisplayPosition.Latitude,lng:e.Location.DisplayPosition.Longitude}}}})})};var o=n(4),i=a(o),r=n(6),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={"boundary.gid":"whosonfirst:macroregion:404227507",text:e};return i.default.get("http://10.11.6.189:4000/v1/search",{params:t}).then(function(e){return e.data})};var o=n(4),i=a(o)},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=t&&"genio"===t&&n?"/geoservices/REST/genioweb/get_token/"+n+"/":"/geoservices/REST/sigmater/get_token/";return a+=e,i.default.get(a).then(function(e){return e.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/geoservices/REST/sigmater/get_token_bbox/"+e;return i.default.get(t).then(function(e){return e.data})};var o=n(4),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,o){var r="/geoservices/REST/config/ag_insert_coordinate?idSession="+e+"&coord_x="+t+"&coord_y="+n+"&esito="+a;o&&(r+="&coord_z="+o),i.default.get(r).then(function(e){GV.globals.flagInsert=!0,e.data.success?(GV.globals.flagInsert=!0,(0,l.default)()?window.history.back(-1):window.close()):alert("Attenzione: - "+e.data.message)})};var o=n(4),i=a(o),r=n(159),l=a(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.post("/geoservices/REST/genioweb/insert_geom_pratica",{headers:{Accept:"text/xml"},data:e}).then(function(e){return e.data})};var o=n(4),i=a(o),r=n(6);a(r)},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=a(o),r=n(648),l=a(r),s=n(682),c=a(s),u=n(678),d=a(u),f=n(657),p=a(f),g=n(684),m=a(g),v=n(697),h=a(v),y=n(687),_=a(y),b=n(700),w=a(b),C=n(689),M=a(C),S=n(688),E=a(S),L=n(698),O=a(L),x=n(699),I=a(x),T=n(629),R=a(T),G=n(683),A=a(G),V=n(644),P=a(V),F=n(702),z=a(F),k=n(703),B=a(k),N=n(701),D=a(N),j=n(679),U=a(j),W=n(693),q=a(W),H=n(695),Z=a(H),X=n(686),$=a(X),Y=n(685),Q=a(Y),J=n(643),K=a(J),ee=n(690),te=a(ee),ne=n(691),ae=a(ne),oe=n(692),ie=a(oe),re=n(694),le=a(re),se=n(649),ce=a(se),ue=n(676),de=a(ue),fe=n(704),pe=a(fe),ge=n(696),me=a(ge),ve=[];ve.push({name:"gv-geocoder"}),i.default.component("gv-geocoder",l.default),ve.push({name:"gv-search"}),i.default.component("gv-search",c.default),ve.push({name:"gv-scalebar"}),i.default.component("gv-scalebar",d.default),ve.push({name:"gv-inner-html"}),i.default.component("gv-inner-html",p.default),ve.push({name:"gv-add-map-button"}),i.default.component("gv-add-map-button",m.default),ve.push({name:"gv-info-button"}),i.default.component("gv-info-button",h.default),ve.push({name:"gv-coordinate-button"}),i.default.component("gv-coordinate-button",_.default),ve.push({name:"gv-measure-button"}),i.default.component("gv-measure-button",w.default),ve.push({name:"gv-draw-button"}),i.default.component("gv-draw-button",M.default),ve.push({name:"gv-download-totale-button"}),i.default.component("gv-download-totale-button",E.default),ve.push({name:"gv-layer-search-button"}),i.default.component("gv-layer-search-button",O.default),ve.push({name:"gv-layer-search-topo-button"}),i.default.component("gv-layer-search-topo-button",I.default),ve.push({name:"atlante-geochimico-livelli"}),i.default.component("atlante-geochimico-livelli",R.default),ve.push({name:"gv-map-selezione-fogli"}),i.default.component("gv-map-selezione-fogli",A.default),ve.push({name:"gv-gas"}),i.default.component("gv-gas",P.default),ve.push({name:"gv-ricerca-particella-button"}),i.default.component("gv-ricerca-particella-button",z.default),ve.push({name:"gv-ricerca-catastale-button"}),i.default.component("gv-ricerca-catastale-button",B.default),ve.push({name:"gv-print-button"}),i.default.component("gv-print-button",D.default),ve.push({name:"gv-scuoladigitale-legend"}),i.default.component("gv-scuoladigitale-legend",U.default),ve.push({name:"gv-genio-localizza-button"}),i.default.component("gv-genio-localizza-button",q.default),ve.push({name:"gv-genio-seleziona-particelle-button"}),i.default.component("gv-genio-seleziona-particelle-button",Z.default),ve.push({name:"gv-cem-elaborazioni-button"}),i.default.component("gv-cem-elaborazioni-button",$.default),ve.push({name:"gv-back-button"}),i.default.component("gv-back-button",Q.default),ve.push({name:"gv-fototeca-voli"}),i.default.component("gv-fototeca-voli",K.default),ve.push({name:"gv-fototeca-carrello-button"}),i.default.component("gv-fototeca-carrello-button",te.default),ve.push({name:"gv-fototeca-scheda-volo-button"}),i.default.component("gv-fototeca-scheda-volo-button",ae.default),ve.push({name:"gv-fototeca-selezione-territoriale-button"}),i.default.component("gv-fototeca-selezione-territoriale-button",ie.default),ve.push({name:"gv-genio-pratiche-collegate-button"}),i.default.component("gv-genio-pratiche-collegate-button",le.default),ve.push({name:"gv-geocoder-pelias"}),i.default.component("gv-geocoder-pelias",ce.default),ve.push({name:"rqa-livelli"}),i.default.component("rqa-livelli",de.default),ve.push({name:"gv-switch3D-button"}),i.default.component("gv-switch3D-button",pe.default),ve.push({name:"gv-help3D-button"}),i.default.component("gv-help3D-button",me.default),t.default=ve},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.default)("FIND_MAP")||(0,i.default)("ID")||(0,i.default)("id"),t=(0,i.default)("FIND_LAYERS")?(0,i.default)("FIND_LAYERS").split(","):null,n=(0,i.default)("FIND_FIELDS"),a=(0,i.default)("FIND_VALUES"),o=(0,i.default)("FIND_CQL_FILTER");return{map:e,layers:t,fields:n,values:a,cqlFilter:o}};var o=n(157),i=a(o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null;window.document.body.setAttribute("ondrop","GV.dragbox.drop(event)"),t.default={start:function(e){n=[e.screenX,e.screenY],e.dataTransfer.setData("text/plain",e.target.id)},end:function(e,t){var a=document.getElementById(t),o=window.getComputedStyle(a,null),i=[e.screenX,e.screenY];a.style.top=Number(o.top.replace("px",""))+(i[1]-n[1])+"px",a.style.left=Number(o.left.replace("px",""))+(i[0]-n[0])+"px"},drop:function(e){"text"===e.target.type&&e.preventDefault()}}},function(e,t){"use strict";function n(){return window.location.href.split(":")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=/\{ *([\w_\-]+) *\}/g;return e.replace(n,function(e,n){var a=t[n];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"==typeof a&&(a=a(t)),a})}},function(e,t){"use strict";function n(e){GV.config.debug&&console.log(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){var o=function(e,a){for(var o,i=a.split(/\.+/),r=0;r<i.length;r++)0==r&&(o=t),o=o[i[r]];return"function"==typeof o&&(o=n?o.apply(null,n):o()),"undefined"==typeof o?"undefined":o};return e.replace(a,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=/\$\{([\w.]+?)\}/g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},,,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,,,,,function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},,,,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},,function(e,t){},,,,function(e,t){},,,,,function(e,t){},,,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,,,,,,,,,,,,,,function(e,t,n){var a=n(599);"string"==typeof a&&(a=[[e.id,a,""]]);n(183)(a,{});a.locals&&(e.exports=a.locals)},,,,,,,,function(e,t,n){var a,o;n(554),a=n(230);var i=n(750);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(597),n(596),a=n(231);var i=n(787);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-fac8391c",e.exports=a},,function(e,t,n){var a,o;n(543),a=n(233);var i=n(741);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-544d1aac",e.exports=a},,,function(e,t,n){var a,o;n(542),a=n(236);var i=n(740);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,,,,,function(e,t,n){var a,o;n(556),a=n(244);var i=n(752);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-65c0f46b",e.exports=a},,function(e,t,n){var a,o;n(553),a=n(247);var i=n(749);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-63c00d10",e.exports=a},function(e,t,n){var a,o;n(513),a=n(248);var i=n(715);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-1c17d97c",e.exports=a},,,,function(e,t,n){var a,o;n(525),a=n(252);var i=n(726);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-387aaf4a",e.exports=a},function(e,t,n){var a,o;n(529),a=n(253);var i=n(730);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-3e5de3c2",e.exports=a},function(e,t,n){var a,o;n(555),a=n(254);var i=n(751);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-651fb2b4",e.exports=a},,,,,,,function(e,t,n){var a,o;n(573),a=n(261);var i=n(767);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-7ef00eca",e.exports=a},,,,,function(e,t,n){var a,o;n(520),a=n(266);var i=n(721);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(538),a=n(267);var i=n(737);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(521),a=n(269);var i=n(722);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-2f2f3045",e.exports=a},,,,,,,,,,,,function(e,t,n){var a,o;n(510),n(509),a=n(283);var i=n(713);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-1a6c287c",e.exports=a},,function(e,t,n){var a,o;n(561),a=n(285);var i=n(757);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-714520f0",e.exports=a},function(e,t,n){var a,o;n(527),a=n(287);var i=n(728);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},,,function(e,t,n){var a,o;n(566),a=n(290);var i=n(761);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(563),n(562),a=n(291);var i=n(758);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-72e9a1d6",e.exports=a},function(e,t,n){var a,o;n(504),a=n(293);var i=n(709);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(523),a=n(294);var i=n(724);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(549),a=n(295);var i=n(745);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(587),a=n(296);var i=n(779);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(590),a=n(297);var i=n(782);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(595),a=n(298);var i=n(786);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(552),a=n(299);var i=n(748);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(506),a=n(300);var i=n(711);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(514),a=n(301);var i=n(716);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(551),a=n(302);var i=n(747);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(577),a=n(303);var i=n(771);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(539),a=n(304);var i=n(738);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(567),a=n(305);var i=n(762);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(571),a=n(306);var i=n(765);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(565),a=n(307);var i=n(760);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(589),a=n(308);var i=n(781);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(503),a=n(309);var i=n(708);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(519),a=n(310);var i=n(720);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(568),a=n(311);var i=n(763);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(500),a=n(312);var i=n(705);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t,n){var a,o;n(559),a=n(313);var i=n(755);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),
o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=a},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-ricerca-catastale",title:"Ricerche Catastali"},on:{click:e.onClick}})},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-measure",title:e.title},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-add-map",title:"Aggiungi Mappe"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-scheda-volo",title:"Scheda Volo"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"rqa gv-color-scheme"},[e._c("div",{staticClass:"rqa-title gv-color-scheme"},[e._v("\n    RQA: Indicatori\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Pannello"},on:{click:e.hidePanel}}),e._v(" "),e._c("button",{staticClass:"gv-color-scheme rqa-download-button el-icon-download",attrs:{id:"rqa-download-button",title:"Download Dati",size:"mini"},on:{click:e.download}})]),e._v(" "),e._c("div",{staticClass:"rqa-wrapper gv-color-scheme",attrs:{id:"rqa-wrapper"}},[e._c("div",{staticClass:"combo"},[e._c("el-select",{attrs:{placeholder:"Tipologia Indicatori",size:"mini"},on:{change:e.onChangeTipo},model:{value:e.tipo,callback:function(t){e.tipo=t},expression:"tipo"}},e._l(e.tipi,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriGiorno,expression:"showIndicatoriGiorno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Indicatori Giornalieri",size:"mini"},on:{change:e.onChangeIndicatore},model:{value:e.indicatore,callback:function(t){e.indicatore=t},expression:"indicatore"}},e._l(e.indicatoriGiorno,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.nome}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriGiorno,expression:"showIndicatoriGiorno"}],staticClass:"combo"},[e._c("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"Giorno","value-format":"yyyy-MM-dd"},model:{value:e.giorno,callback:function(t){e.giorno=t},expression:"giorno"}})],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriAnno,expression:"showIndicatoriAnno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Indicatori Annuali",size:"mini"},on:{change:e.onChangeIndicatore},model:{value:e.indicatore,callback:function(t){e.indicatore=t},expression:"indicatore"}},e._l(e.indicatoriAnno,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.nome}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showIndicatoriAnno,expression:"showIndicatoriAnno"}],staticClass:"combo"},[e._c("el-select",{attrs:{filterable:"",placeholder:"Anno",size:"mini"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},e._l(e.anni,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})}))],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}]},[e._c("gv-iframe-panel",{staticClass:"gv-iframe-panel",attrs:{src:e.legendUrl,height:"141",width:"230"}})],1)])])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-gas gv-inverted-color-scheme",attrs:{id:"gv-gas"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-gas",noClose:!0,collapsible:"gv-gas-body"}}),e._v(" "),e._c("div",{staticClass:"gv-gas-body",attrs:{id:"gv-gas-body"}},[e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Area",size:"mini"},on:{change:e.onChangeArea},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}},e._l(e.aree,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Modulo",size:"mini"},model:{value:e.modulo,callback:function(t){e.modulo=t},expression:"modulo"}},e._l(e.moduli,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("div",{staticClass:"gv-gas-checkbox"},[e._c("el-checkbox",{model:{value:e.soloPostiDisponibili,callback:function(t){e.soloPostiDisponibili=t},expression:"soloPostiDisponibili"}},[e._v("Solo strutture con posti disponibili")])],1),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona Provincia",size:"mini"},on:{change:e.onChangeProvincia},model:{value:e.provincia,callback:function(t){e.provincia=t},expression:"provincia"}},e._l(e.province,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-select",{staticClass:"gv-gas-combo",attrs:{placeholder:"Seleziona ASL",size:"mini"},on:{change:e.onChangeASL},model:{value:e.asl,callback:function(t){e.asl=t},expression:"asl"}},e._l(e.listaAsl,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.descrizione}})})),e._v(" "),e._c("el-button",{attrs:{id:"gv-gas-submit",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.submit}},[e._v("Visualizza")]),e._v(" "),e._c("el-button",{attrs:{id:"gv-gas-elenco",type:"primary",size:"mini",icon:"el-icon-document"},on:{click:e.elenco}},[e._v("Elenco Strutture")])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-selezione-territoriale",title:"Selezione Territoriale"},on:{click:e.onClick}})},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-print-button",title:"Stampa"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-legend"}},[e._c("div",{staticClass:"gv-legend-title gv-color-scheme",attrs:{id:"gv-legend-title"}},[e._c("b",[e._v("LEGENDA")]),e._v(" "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Legenda"},on:{click:e.hideLegend}}),e._v(" "),e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.showAddMap,expression:"options.showAddMap"}],staticClass:"gv-color-scheme gv-legend-buttons ms ms-layers-add",attrs:{id:"gv-legend-add-map",title:"Aggiungi Mappe",size:"mini"},on:{click:e.addMap}}),e._v(" "),e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.showDownloadTotale,expression:"options.showDownloadTotale"}],staticClass:"gv-color-scheme gv-legend-buttons el-icon-download",attrs:{id:"gv-legend-add-map",title:"Download Mappe",size:"mini"},on:{click:e.downloadMaps}})],1),e._v(" "),e._c("div",{staticClass:"gv-legend-title-collapsed gv-color-scheme",attrs:{id:"gv-legend-title-collapsed"}},[e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Mostra Legenda"},on:{click:e.hideLegend}})]),e._v(" "),e._c("div",{staticClass:"gv-legend-wrapper",attrs:{id:"gv-legend-wrapper"}},[e._c("gv-legend-maps",{attrs:{maps:e.maps,options:e.options}}),e._v(" "),e._c("div",{staticClass:"gv-legend-footer gv-inverted-color-scheme"},[e.options.showBaseLayerSwitcher?e._c("gv-base-layer-switcher",{ref:"gv-base-layer-switcher"}):e._e()],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{attrs:{id:"gv-map"}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-back",title:"Ritorno"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-geocoder",attrs:{filterable:"",clearable:"",remote:"",size:"mini",placeholder:"Ricerca Indirizzo...","remote-method":e.remoteMethod,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun indirizzo trovato","no-data-text":"Nessun indirizzo trovato",id:"gv-geocoder"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,staticClass:"gv-geocoder-options",attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-scuoladigitale-legend"}},[e._c("div",{staticClass:"gv-scuoladigitale-legend-title gv-color-scheme",attrs:{id:"gv-scuoladigitale-legend-title"}},[e._v("\n    "+e._s(e.title)+"\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Legenda"},on:{click:e.hideLegend}})]),e._v(" "),e._c("div",{staticClass:"gv-scuoladigitale-legend-wrapper",attrs:{id:"gv-scuoladigitale-legend-wrapper"}},[e._c("div",[e._c("div",{staticClass:"gv-inverted-color-scheme",attrs:{id:"gv-scuoladigitale-legend-body"}},[e._c("gv-legend-maps",{attrs:{options:e.options}})],1)])])])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-geocoder",attrs:{filterable:"",clearable:"",remote:"",size:"mini",placeholder:"Ricerca Indirizzo PELIAS...","remote-method":e.remoteMethod,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun indirizzo trovato","no-data-text":"Nessun indirizzo trovato",id:"gv-geocoder-pelias"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,staticClass:"gv-geocoder-options",attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},,,,,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",[e._c("el-table",{staticStyle:{width:"100%","line-height":"23px","font-weight":"400"},attrs:{data:e.map.layers,"show-header":!1,size:"mini","empty-text":" ","row-class-name":e.layerClassName}},[e._c("el-table-column",{attrs:{align:"center",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("img",{attrs:{src:e.iconUrl(t.row),width:"20"},on:{click:function(n){e.showLegendPanel(t.row)}}})]}}])}),e._v(" "),e._c("el-table-column",{attrs:{align:"center",width:"25"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._c("el-checkbox",{staticClass:"gv-layer-visibility-cb",attrs:{disabled:!t.row.inRange},on:{change:function(n){e.setLayerVisible(t.row)}},model:{value:t.row.visible,callback:function(n){e.$set(t.row,"visible",n)},expression:"scope.row.visible"}})],1)]}}])}),e._v(" "),e._c("el-table-column",{staticStyle:{"word-break":"normal"},attrs:{"class-name":"gv-inverted-color-scheme-light"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("el-popover",{directives:[{name:"show",rawName:"v-show",value:!t.row.inRange,expression:"!scope.row.inRange"}],attrs:{trigger:"hover",placement:"left-start",offset:"10","popper-class":"gv-layer-popover"}},[e._c("p",[e._v(e._s(t.row.scaleRangeLabel))]),e._v(" "),e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&e.options.layerPopover.find,expression:"options.layerPopover && options.layerPopover.find"}],staticClass:"gv-color-scheme gv-legend-map-tools-button",attrs:{title:"Ricerca sul livello",icon:"el-icon-search",size:"mini"},on:{click:function(n){e.layerSearch(t.row)}}})],1),e._v(" "),e._c("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.legend.label)+"\n          ")])]),e._v(" "),e._c("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&t.row.inRange,expression:"options.layerPopover && scope.row.inRange"}],attrs:{trigger:"hover","popper-class":"popover-scala",placement:"left-start",width:"150",offset:"15"}},[e._c("div",{staticClass:"gv-legend-transparency-layer-slider"},[e._c("el-slider",{on:{change:function(n){e.setLayerTransparency(t.row)}},model:{value:t.row.opacityBase100,callback:function(n){e.$set(t.row,"opacityBase100",n)},expression:"scope.row.opacityBase100"}})],1),e._v(" "),e._c("el-row",{staticClass:"row-bg gv-legend-popover-buttons",attrs:{type:"flex",justify:"left"}},[e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.options.layerPopover&&e.options.layerPopover.find,expression:"options.layerPopover && options.layerPopover.find"}],staticClass:"gv-color-scheme gv-legend-map-tools-button",attrs:{title:"Ricerca sul livello",icon:"el-icon-search",size:"mini"},on:{click:function(n){e.layerSearch(t.row)}}})],1),e._v(" "),e._c("div",{staticClass:"gv-legend-popover-button"},[e._c("el-checkbox",{staticClass:"gv-layer-visibility-cb",on:{change:function(n){e.setLayerVisible(t.row)}},model:{value:t.row.visible,callback:function(n){e.$set(t.row,"visible",n)},expression:"scope.row.visible"}})],1)]),e._v(" "),e._c("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.legend.label)+"\n          ")])],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:!e.options.layerPopover&&t.row.inRange,expression:"!options.layerPopover && scope.row.inRange"}],staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\n          "+e._s(t.row.legend.label)+"\n        ")])]}}])})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-seleziona-particelle",title:"Seleziona Particelle"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-dialog",{attrs:{width:"50%",title:"Conferma",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._c("span",[e._v("\n    Prima di proseguire è necessario visualizzare il dettaglio delle condizioni di utilizzo.\n    "),e._c("br"),e._v("Cliccando su\n    "),e._c("span",{staticStyle:{color:"#00377c"}},[e._c("b",[e._v('"Accetto"')])]),e._v(" l’utente dichiara di aver preso visione dell’avviso.\n  ")]),e._v(" "),e._c("br"),e._v(" "),e._c("br"),e._v(" "),e._c("span",[e._c("a",{attrs:{href:e.link,target:"_blank"}},[e._v(e._s(e.label))])]),e._v(" "),e._c("span",{attrs:{slot:"footer"},slot:"footer"},[e._c("el-button",{on:{click:e.cancel}},[e._c("span",{staticStyle:{color:"#00377c","font-weight":"bold"}},[e._v("Annulla")])]),e._v(" "),e._c("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._c("span",{staticStyle:{color:"#ffffff","font-weight":"bold"}},[e._v("Accetto")])])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{attrs:{size:"mini",placeholder:"Sfondo"},on:{change:e.onChange},model:{value:e.activeBaseLayer,callback:function(t){e.activeBaseLayer=t},expression:"activeBaseLayer"}},e._l(e.baseLayers,function(t){return e._c("el-option",{key:t.name,attrs:{label:t.label,value:t.name}},[e._c("span",{staticStyle:{float:"left"}},[e._c("img",{staticClass:"gv-sfondi-icon",attrs:{src:t.icon}}),e._v(" "),e._c("span",{staticClass:"gv-sfondi-label"},[e._v(e._s(t.label))])])])}))},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-cem-elaborazioni",title:"Lista Elaborazioni"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-localizza",title:"Localizzazione"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-fototeca-carrello",title:"Carrello"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("el-select",{staticClass:"gv-fototeca-voli",attrs:{filterable:"",remote:"",size:"mini",placeholder:"Seleziona un volo...",id:"gv-fototeca-voli"},on:{change:e.onChange},model:{value:e.volo,callback:function(t){e.volo=t},expression:"volo"}},e._l(e.voli,function(t){return e._c("el-option",{key:t.id,staticClass:"gv-fototeca-voli-options",attrs:{label:t.nome,value:t.id}})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{attrs:{id:"gv-container"}},[e.showHeader?e._c("gv-header"):e._e(),e._v(" "),e._c("gv-map",{ref:"gv-map"}),e._v(" "),e.showLegend?e._c("gv-legend",{ref:"gv-legend"}):e._e(),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-tool-container"},[e._c("div",{staticClass:"gv-tool-top gv-tool-left",attrs:{id:"gv-tool-topleft"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-top gv-tool-right",attrs:{id:"gv-tool-topright"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-bottom gv-tool-left",attrs:{id:"gv-tool-bottomleft"}}),e._v(" "),e._c("div",{staticClass:"gv-tool-bottom gv-tool-right",attrs:{id:"gv-tool-bottomright"}})])}]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{style:e.style,attrs:{id:"gv-header"}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-fototeca-immagine gv-inverted-color-scheme",attrs:{id:"gv-fototeca-immagine"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-fototeca-immagine"}}),e._v(" "),e._c("el-button",{staticClass:"gv-color-scheme gv-button-fototeca-immagine-carrello",attrs:{id:"gv-button-fototeca-immagine-carrello",icon:"el-icon-circle-plus-outline",title:"Aggiungi al Carrello",size:"mini"},on:{click:e.addToBasket}},[e._v("Aggiungi al Carrello")]),e._v(" "),e._c("div",{staticClass:"gv-fototeca-immagine-body",attrs:{id:"gv-fototeca-immagine-body"}},[e._c("image-viewer",{attrs:{imgUrl:e.imgUrl,logo:e.logo,width:"400",height:"400"}})],1)],1)},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{staticClass:"gv-button",attrs:{id:"gv-button-switch3D",title:"Switch3D"},on:{click:e.onClick}},[e._v("\n  "+e._s(e.label)+"\n")])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"scalebar",attrs:{id:"gv-scalebar"}},[e._c("el-select",{attrs:{size:"mini",placeholder:""},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(t){return e._c("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-map-selezione-fogli gv-inverted-color-scheme",attrs:{id:"gv-map-selezione-fogli"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:e.title,divId:"gv-map-selezione-fogli",noClose:!0,collapsible:"gv-map-selezione-fogli-body"}}),e._v(" "),e._c("div",{staticClass:"gv-map-selezione-fogli-body",attrs:{id:"gv-map-selezione-fogli-body"}},[e._c("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"Seleziona"},model:{value:e.fogli,callback:function(t){e.fogli=t},expression:"fogli"}},e._l(e.config.fogli,function(t){return e._c("el-option",{key:t.codice,attrs:{value:t.codice,label:t.nome}})})),e._v(" "),e._c("div",{staticClass:"gv-map-selezione-fogli-buttons"},[e._c("el-button",{attrs:{id:"gv-map-selezione-fogli-submit",type:"primary",size:"mini"},on:{click:e.submit}},[e._v("Conferma")]),e._v(" "),e._c("el-button",{attrs:{id:"gv-map-selezione-fogli-cancel",type:"primary",size:"mini"},on:{click:e.cancel}},[e._v("Annulla")])],1)],1)],1)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-layer-search",title:"Ricerca sui Livelli"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-search",attrs:{id:"gv-search"}},[e._c("el-select",{attrs:{id:"gv-seach-input",filterable:"",clearable:"",remote:"",size:"mini",placeholder:e.placeHolder,"remote-method":e.search,loading:e.loading,"loading-text":"Caricamento... ","no-match-text":"Nessun elemento trovato","no-data-text":"Nessun elemento trovato"},on:{change:e.onChange},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.results,function(t){return e._c("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-help3D-button",title:"Help Navigazione 3D"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-ricerca-particella",title:"Ricerca Particella Catastale"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{title:"Info sui livelli della mappa"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{domProps:{innerHTML:e._s(e.html)}})},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-genio-pratiche-collegate",title:"Genio Pratiche Collegate"},on:{click:e.onClick}})},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-panel-title gv-color-scheme"},[e._c("span",{staticClass:"gv-color-scheme",attrs:{title:e.fullTitle}},[e._v(e._s(e.title))]),e._v(" "),e.noClose?e._e():e._c("el-button",{staticClass:"gv-close gv-color-scheme",attrs:{icon:"el-icon-close",type:"button",title:"Chiudi Panello"},on:{click:e.closePanel}}),e._v(" "),e.collapsible?e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Mostra/Nascondi Pannello"},on:{click:e.collapse}}):e._e()],1)},staticRenderFns:[]}},,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-coordinate",title:"Acquisizione Coordinate"},on:{click:e.onClick}})},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-button-layer-search-topo",title:"Ricerche sui Livelli"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-download-totale-button",title:"Download"},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{directives:[{name:"bar",rawName:"v-bar"}]},[e._c("div",{attrs:{id:"gv-legend-maps"}},e._l(e.maps,function(t){return e._c("ul",{key:t.id,staticClass:"gv-list-group"},[e._c("div",{staticClass:"gv-list-legend-map-item gv-inverted-color-scheme"},[e._c("li",[e._v(e._s(t.name))]),e._v(" "),e._c("div",{staticClass:"gv-legend-map-tools gv-inverted-color-scheme"},[e._c("el-button",{class:e.getToggleLayersClass(t),attrs:{title:"Mostra/Nascondi Livelli in Legenda",size:"mini"},on:{click:function(n){e.toggleLayers(t)}}}),e._v(" "),e.checkInfoMap(t)?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-scheda-"+t.id,title:"Visualizza Scheda",icon:"el-icon-document",size:"mini"},on:{click:function(n){e.showMapInfoPanel(t)}}}):e._e(),e._v(" "),e.options.noDeleteButton?e._e():e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-delete-"+t.id,title:"Elimina Mappa",icon:"el-icon-delete",size:"mini"},on:{click:function(n){e.remove(t)}}}),e._v(" "),e.options.showLayersTransparency?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-transparency-"+t.id,title:"Trasparenza Livelli",icon:"el-icon-setting",size:"mini"},on:{click:function(n){e.layerTransparency(t)}}}):e._e(),e._v(" "),e.isDownloadable(t)?e._c("el-button",{staticClass:"gv-inverted-color-scheme gv-legend-map-tools-button",attrs:{id:"gv-legend-download-"+t.id,title:"Download Mappa",icon:"el-icon-download",size:"mini"},on:{click:function(n){e.download(t)}}}):e._e()],1)]),e._v(" "),e._c("gv-legend-layers",{directives:[{name:"show",rawName:"v-show",value:e.showMapLayers(t),expression:"showMapLayers(map)"}],attrs:{map:t,options:e.options}})],1)}))])},staticRenderFns:[]}},,,function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("button",{class:e.setClass(),attrs:{id:"gv-draw",title:e.title},on:{click:e.onClick}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"atlante-geochimico gv-color-scheme"},[e._c("div",{staticClass:"ag-title gv-color-scheme",attrs:{id:"ag-title"}},[e._v("\n    Atlante Geochimico\n    "),e._c("button",{class:e.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Pannello"},on:{click:e.hidePanel}})]),e._v(" "),e._c("div",{staticClass:"ag-wrapper gv-color-scheme",attrs:{id:"ag-wrapper"}},[e._c("el-select",{attrs:{placeholder:"Seleziona Elemento",filterable:"",size:"mini"},on:{change:e.onChange},model:{value:e.livello,callback:function(t){e.livello=t},expression:"livello"}},e._l(e.livelli,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.title}},[e._c("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.title))])])})),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}],staticClass:"ag-legend"},[e._c("gv-iframe-panel",{staticClass:"gv-iframe-panel",attrs:{src:e.legendUrl,height:"237",width:"249"}})],1)],1)])},staticRenderFns:[]}},,,,function(e,t){},function(e,t){}]);
>>>>>>> b360df2e69a3cdf1dfcb44010e7e8ada8e22bd57
//# sourceMappingURL=GV.js.map