webpackJsonp([14,36],{251:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(391),c=a(n),i=r(26),o=a(i),l=r(25),u=a(l),s=r(32),p=a(s),A=r(30),g=(a(A),r(29)),f=a(g),d=r(14),v=(a(d),r(11)),m=a(v),C=r(15),h=(a(C),r(12)),B=a(h),b=r(9),x=(a(b),r(5)),y=(a(x),r(8)),_=a(y),w=r(4),R=(a(w),r(1)),k=a(R),E=r(19),I=a(E),L=r(13),D=a(L),z=r(7),S=(a(z),r(18));a(S);k.default.use(_.default),k.default.use(B.default),k.default.use(m.default),D.default.use(I.default),k.default.use(f.default),e.default={name:"gv-cultura-ricerca",data:function(){var t=GV.globals.CULTURA_CONFIG.raggruppamenti,e=!0,r=!1,a=void 0;try{for(var n,c=(0,p.default)(t);!(e=(n=c.next()).done);e=!0){var i=n.value;i.categorie.unshift({id:0,categoria:"Tutte"})}}catch(t){r=!0,a=t}finally{try{!e&&c.return&&c.return()}finally{if(r)throw a}}var o=GV.globals.CULTURA_CONFIG.categorie;o.push({id:0,categoria:"Tutte"}),o=o.sort(function(t,e){return t.id-e.id}),t.push({id:0,raggruppamento:"Tutti",categorie:o}),t=t.sort(function(t,e){return t.id-e.id});var l=GV.globals.CULTURA_CONFIG.filter;return{raggruppamenti:t,raggruppamento:l.raggruppamento,categorie:o,categoria:l.categoria,province:null,provincia:null,comuni:null,comune:null,itinerari:GV.globals.CULTURA_CONFIG.itinerari,itinerario:null,propertyName:"NOME",luoghi:null,filterResult:[],loading:!1,show:!1}},mounted:function(){var t=this;return(0,u.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.filterLuoghi();case 1:case"end":return e.stop()}},e,t)}))()},methods:{onChangeRaggruppamento:function(t){this.categorie=this.raggruppamenti.filter(function(e){return e.id===t})[0].categorie,this.categoria=0},search:function(t){var e=this;this.searchResults=[],t.length<3||fetch("/geoservices/REST/cultura/ricercaLuoghi?q="+t).then(function(t){return t.json()}).then(function(t){if(!t.success)throw t.message;e.searchResults=t.results}).catch(function(t){console.error("Error:",t),alert(t)})},onSelectSearch:function(t){console.log("onSelectSearch",t)},filterLuoghi:function(){var t=this;return(0,u.default)(o.default.mark(function e(){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={raggruppamento:t.raggruppamento,categoria:t.categoria,provincia:t.provincia,comune:t.comune,itinerario:t.itinerario},console.log(r),fetch("/geoservices/REST/cultura/filtraLuoghi",{method:"POST",headers:{"Content-Type":"application/json"},body:(0,c.default)(r)}).then(function(t){return t.json()}).then(function(e){if(!e.success)throw e.message;t.filterResult=e.results,t.filtraMappa()}).catch(function(t){console.error("Error:",t),alert(t)});case 3:case"end":return e.stop()}},e,t)}))()},filtraMappa:function(){var t=this;GV.globals.CULTURA_LAYERS.forEach(function(e){GV.config.removeLayer(e.name),e.filter=function(e){if(t.luogoInFiltro(e))return!0},GV.config.addLayerToMap(e,0)})},luogoInFiltro:function(t){var e=!1,r=!0,a=!1,n=void 0;try{for(var c,i=(0,p.default)(this.filterResult);!(r=(c=i.next()).done);r=!0){var o=c.value;if(t.properties.OID==o){e=!0;break}}}catch(t){a=!0,n=t}finally{try{!r&&i.return&&i.return()}finally{if(a)throw n}}return e},reset:function(){},closeResultPanels:function(){},showInfo:function(){},showResults:function(){},handleLink:function(t,e){window.open(e)},hidePanel:function(t){this.show?(document.getElementById("gv-cultura-ricerca-body").style.display="block",document.getElementById("gv-cultura-ricerca").style.width="480px"):(document.getElementById("gv-cultura-ricerca-body").style.display="none",document.getElementById("gv-cultura-ricerca").style.width="190px"),this.show=!this.show},toggleCollapseClass:function(){return this.show?"gv-cultura-ricerca-collapse gv-color-scheme el-icon-arrow-down":"gv-cultura-ricerca-collapse gv-color-scheme el-icon-arrow-up"}}}},391:function(t,e,r){t.exports={default:r(401),__esModule:!0}},401:function(t,e,r){var a=r(23),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},497:function(t,e,r){e=t.exports=r(2)(),e.push([t.id,".el-tree-node__label{font-size:12px!important}.el-tabs__header,.el-tabs__item.is-active{color:#24386c!important}.el-tabs__header{margin:0 0 5px!important}.el-select .el-input .el-select__caret{color:#000!important;font-size:16px!important;font-weight:800}","",{version:3,sources:["/./src/components/CulturaRicerca.vue"],names:[],mappings:"AACA,qBACE,wBAA2B,CAC5B,AAID,0CAFE,uBAA0B,CAK3B,AAHD,iBACE,wBAA2B,CAE5B,AACD,uCACE,qBAAwB,AACxB,yBAA2B,AAC3B,eAAiB,CAClB",file:"CulturaRicerca.vue",sourcesContent:["\n.el-tree-node__label {\r\n  font-size: 12px !important;\n}\n.el-tabs__item.is-active {\r\n  color: #24386c !important;\n}\n.el-tabs__header {\r\n  margin: 0 0 5px !important;\r\n  color: #24386c !important;\n}\n.el-select .el-input .el-select__caret {\r\n  color: black !important;\r\n  font-size: 16px !important;\r\n  font-weight: 800;\n}\r\n"],sourceRoot:"webpack://"}])},498:function(t,e,r){e=t.exports=r(2)(),e.push([t.id,".gv-cultura-ricerca[data-v-7fccc215]{position:absolute;left:0;top:0;width:480px;margin-left:10px;margin-top:20px;z-index:800}.gv-cultura-ricerca-luoghi[data-v-7fccc215]{margin-left:10px}.gv-cultura-ricerca-title[data-v-7fccc215]{position:relative;display:block;padding:.3rem 0 .3rem .5rem;margin-bottom:-1px;color:#000;cursor:default;font-weight:800;font-family:Raleway,Arial,sans-serif!important;font-size:14px}.gv-cultura-ricerca-title [data-v-7fccc215]:focus{outline:0 auto -webkit-focus-ring-color}.gv-cultura-ricerca-body[data-v-7fccc215]{margin:10px}.gv-cultura-ricerca-filtri-title[data-v-7fccc215]{margin-left:10px;margin-top:20px}.gv-cultura-ricerca-label[data-v-7fccc215]{display:inline-block;width:150px}.gv-cultura-ricerca-buttons[data-v-7fccc215],.gv-cultura-ricerca-result[data-v-7fccc215]{margin-top:10px;margin-left:5px}.gv-cultura-ricerca-collapse[data-v-7fccc215]{cursor:pointer;border:0;-webkit-appearance:none;float:right;font-size:14px;margin-top:3px;opacity:1}","",{version:3,sources:["/./src/components/CulturaRicerca.vue"],names:[],mappings:"AACA,qCACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,YAAa,AACb,iBAAkB,AAClB,gBAAiB,AACjB,WAAa,CACd,AACD,4CACE,gBAAkB,CACnB,AACD,2CACE,kBAAmB,AACnB,cAAe,AAIf,4BAAqB,AACrB,mBAAoB,AACpB,WAAa,AACb,eAAgB,AAChB,gBAAiB,AACjB,+CAAqD,AACrD,cAAgB,CACjB,AACD,kDACE,uCAA2C,CAC5C,AACD,0CACE,WAAa,CACd,AACD,kDACE,iBAAkB,AAClB,eAAiB,CAClB,AACD,2CACE,qBAAsB,AACtB,WAAa,CACd,AAKD,yFACE,gBAAiB,AACjB,eAAiB,CAClB,AACD,8CACE,eAAgB,AAChB,SAAU,AACV,wBAAyB,AACzB,YAAa,AACb,eAAgB,AAChB,eAAgB,AAChB,SAAW,CACZ",file:"CulturaRicerca.vue",sourcesContent:["\n.gv-cultura-ricerca[data-v-7fccc215] {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 480px;\r\n  margin-left: 10px;\r\n  margin-top: 20px;\r\n  z-index: 800;\n}\n.gv-cultura-ricerca-luoghi[data-v-7fccc215] {\r\n  margin-left: 10px;\n}\n.gv-cultura-ricerca-title[data-v-7fccc215] {\r\n  position: relative;\r\n  display: block;\r\n  padding-top: 0.3rem;\r\n  padding-bottom: 0.3rem;\r\n  padding-right: 0rem;\r\n  padding-left: 0.5rem;\r\n  margin-bottom: -1px;\r\n  color: black;\r\n  cursor: default;\r\n  font-weight: 800;\r\n  font-family: 'Raleway', Arial, sans-serif !important;\r\n  font-size: 14px;\n}\n.gv-cultura-ricerca-title [data-v-7fccc215]:focus {\r\n  outline: -webkit-focus-ring-color auto 0px;\n}\n.gv-cultura-ricerca-body[data-v-7fccc215] {\r\n  margin: 10px;\n}\n.gv-cultura-ricerca-filtri-title[data-v-7fccc215] {\r\n  margin-left: 10px;\r\n  margin-top: 20px;\n}\n.gv-cultura-ricerca-label[data-v-7fccc215] {\r\n  display: inline-block;\r\n  width: 150px;\n}\n.gv-cultura-ricerca-buttons[data-v-7fccc215] {\r\n  margin-top: 10px;\r\n  margin-left: 5px;\n}\n.gv-cultura-ricerca-result[data-v-7fccc215] {\r\n  margin-top: 10px;\r\n  margin-left: 5px;\n}\n.gv-cultura-ricerca-collapse[data-v-7fccc215] {\r\n  cursor: pointer;\r\n  border: 0;\r\n  -webkit-appearance: none;\r\n  float: right;\r\n  font-size: 14px;\r\n  margin-top: 3px;\r\n  opacity: 1;\n}\r\n"],sourceRoot:"webpack://"}])},624:function(t,e,r){var a=r(497);"string"==typeof a&&(a=[[t.id,a,""]]);r(3)(a,{});a.locals&&(t.exports=a.locals)},625:function(t,e,r){var a=r(498);"string"==typeof a&&(a=[[t.id,a,""]]);r(3)(a,{});a.locals&&(t.exports=a.locals)},687:function(t,e,r){var a,n;r(625),r(624),a=r(251);var c=r(839);n=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(n=a=a.default),"function"==typeof n&&(n=n.options),n.render=c.render,n.staticRenderFns=c.staticRenderFns,n._scopeId="data-v-7fccc215",t.exports=a},839:function(t,e){t.exports={render:function(){var t=this;t.$createElement;return t._c("div",{staticClass:"gv-cultura-ricerca gv-inverted-color-scheme",attrs:{id:"gv-cultura-ricerca"}},[t._c("div",{directives:[{name:"draggable",rawName:"v-draggable"}],staticClass:"gv-cultura-ricerca-title gv-color-scheme",attrs:{id:"gv-cultura-ricerca-title"}},[t._c("b",[t._v("LUOGHI DELLA CULTURA IN LIGURIA")]),t._v(" "),t._c("button",{class:t.toggleCollapseClass(),attrs:{size:"mini",title:"Nascondi Pannello"},on:{click:t.hidePanel}})]),t._v(" "),t._c("div",{staticClass:"gv-cultura-ricerca-body",attrs:{id:"gv-cultura-ricerca-body"}},[t._c("div",{attrs:{id:"gv-cultura-ricerca-filtri"}},[t._c("div",{staticClass:"gv-cultura-ricerca-filtri-title"},[t._v(" FILTRI ")]),t._v(" "),t._c("el-select",{staticStyle:{width:"170px !important"},attrs:{size:"small",placeholder:"Raggruppamento"},on:{change:t.onChangeRaggruppamento},model:{value:t.raggruppamento,callback:function(e){t.raggruppamento=e},expression:"raggruppamento"}},t._l(t.raggruppamenti,function(e){return t._c("el-option",{key:e.id,attrs:{value:e.id,label:e.raggruppamento}})})),t._v(" "),t._c("el-select",{staticStyle:{width:"270px !important"},attrs:{size:"small",filterable:"","collapse-tags":"",placeholder:"Categoria"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}},t._l(t.categorie,function(e){return t._c("el-option",{key:e.id,attrs:{value:e.id,label:e.categoria}})}))],1),t._v(" "),t._c("div",{staticClass:"gv-cultura-ricerca-buttons"},[t._c("el-button",{attrs:{id:"gv-cultura-ricerca-submit",type:"info",size:"mini"},on:{click:t.filterLuoghi}},[t._v("Applica")]),t._v(" "),t._c("el-button",{attrs:{id:"gv-cultura-ricerca-reset",type:"info",size:"mini"},on:{click:t.reset}},[t._v("Annulla Filtro")])],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=14.js.map