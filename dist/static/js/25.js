webpackJsonp([25,28],{233:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(9),i=(a(n),o(8)),r=a(i),l=o(42),s=(a(l),o(6)),c=(a(s),o(41)),u=a(c),d=o(1),p=a(d);p.default.use(u.default),p.default.use(r.default),t.default={name:"gv-fototeca-selezione-territoriale-panel",data:function(){return{options:GV.config.getToolOptions("gv-fototeca-selezione-territoriale-button"),drawnRectangle:null,bbox:null,bboxSRS:"4326",showAnnulla:!1}},computed:{},methods:{subscribeMapEvent:function(e){var t=this;GV.app.map.drawRectangle||GV.app.map.addHandler("drawRectangle",L.Draw.Rectangle),GV.app.map.drawRectangle.enable(),GV.app.map.on("draw:created",function(e){var o=confirm("Sei sicuro?");1==o&&t.submit(e),GV.eventBus.$emit("gv-fototeca-selezione-territoriale-switch")})},submit:function(e){this.drawnRectangle.clearLayers(),this.drawnRectangle.addLayer(e.layer);var t=e.layer.getBounds()._southWest.lng,o=e.layer.getBounds()._southWest.lat,a=e.layer.getBounds()._northEast.lng,n=e.layer.getBounds()._northEast.lat;this.bbox=t+","+o+","+a+","+o+","+a+","+n+","+t+","+n+","+t+","+o,this.showAnnulla=!0,GV.eventBus.$emit("gv-fototeca-reload-voli",{bbox:this.bbox,bboxSRS:this.bboxSRS})},annullaSelezione:function(){var e=confirm("Sei sicuro?");1==e&&(this.drawnRectangle.clearLayers(),this.bbox=null,this.showAnnulla=!1,GV.eventBus.$emit("gv-fototeca-reload-voli",{bbox:this.bbox,bboxSRS:this.bboxSRS})),GV.eventBus.$emit("gv-fototeca-selezione-territoriale-switch")},addLayerRettangolo:function(){this.drawnRectangle=new L.FeatureGroup,GV.app.map.addLayer(this.drawnRectangle)}},mounted:function(){var e=this;this.subscribeMapEvent(event),GV.eventBus.$on("gv-control-fototeca-selezione-territoriale-activate",function(t){e.subscribeMapEvent(t)}),GV.eventBus.$on("gv-control-fototeca-selezione-territoriale-deactivate",function(e){GV.app.map.off("draw:created"),GV.app.map.drawRectangle.disable()}),this.addLayerRettangolo()}}},422:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,".gv-fototeca-selezione-territoriale-panel{position:absolute;width:260px;left:0;top:0;margin-left:10px;margin-top:50px;z-index:800}.gv-fototeca-selezione-territoriale-body{padding:5px;width:250px;height:60px}","",{version:3,sources:["/./src/components/FototecaSelezioneTerritoriale.vue"],names:[],mappings:"AACA,0CACE,kBAAmB,AACnB,YAAa,AACb,OAAU,AACV,MAAS,AACT,iBAAkB,AAClB,gBAAiB,AACjB,WAAa,CACd,AACD,yCACE,YAAa,AACb,YAAa,AACb,WAAa,CACd",file:"FototecaSelezioneTerritoriale.vue",sourcesContent:["\n.gv-fototeca-selezione-territoriale-panel {\n  position: absolute;\n  width: 260px;\n  left: 0px;\n  top: 0px;\n  margin-left: 10px;\n  margin-top: 50px;\n  z-index: 800;\n}\n.gv-fototeca-selezione-territoriale-body {\n  padding: 5px;\n  width: 250px;\n  height: 60px;\n}\n"],sourceRoot:"webpack://"}])},510:function(e,t,o){var a=o(422);"string"==typeof a&&(a=[[e.id,a,""]]);o(3)(a,{});a.locals&&(e.exports=a.locals)},635:function(e,t,o){var a,n;o(510),a=o(233);var i=o(714);n=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(n=a=a.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,e.exports=a},714:function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-fototeca-selezione-territoriale-panel",attrs:{id:"gv-fototeca-selezione-territoriale-panel"}},[e._c("gv-title",{attrs:{title:"Fototeca Selezione Territoriale",divId:"gv-fototeca-selezione-territoriale-panel",noClose:!0}}),e._v(" "),e._c("div",{staticClass:"gv-fototeca-selezione-territoriale-body gv-inverted-color-scheme"},[e._c("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"left"}},[e._v("\n      Disegna un rettangolo sulla mappa"),e._c("br")]),e._v(" "),e._c("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"left"}},[e._c("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showAnnulla,expression:"showAnnulla"}],staticClass:"gv-color-scheme",attrs:{id:"gv-fototeca-selezione-annulla",title:"Annulla Selezione",size:"mini"},on:{click:e.annullaSelezione}},[e._v("Annulla Selezione Corrente")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=25.js.map