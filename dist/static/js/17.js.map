{"version":3,"sources":["webpack:///static/js/17.js","webpack:///./D:/node-prj/geoviewer2/src/services/getS3Fogli.js?0e99*","webpack:///./D:/node-prj/geoviewer2/src/services/getS3Particelle.js?d108*","webpack:///CduSelezionaParticelle.vue","webpack:///./src/components/CduSelezionaParticelle.vue?61b2","webpack:///./src/components/CduSelezionaParticelle.vue?5cc3","webpack:///./src/components/CduSelezionaParticelle.vue","webpack:///./src/components/CduSelezionaParticelle.vue?09a1"],"names":["webpackJsonp","70","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","codCom","codSez","url","_axios2","get","then","response","data","_axios","_globals","71","codFoglio","253","_popover","_popover3","_popover4","_row","_row3","_row4","_button","_base","_button3","_button4","_vue","_vue2","_InfoWmsManager","_InfoWmsManager2","_getFeatureInfo","_getFeatureInfo2","_getWFSFeature","_getWFSFeature2","_getS3Fogli","_getS3Fogli2","_getS3Particelle","_getS3Particelle2","use","name","options","GV","config","getToolOptions","comune","codComBelfiore","idLayerParticelle","particelleSelezionate","hiliteLayer","sezione","fogli","foglio","particelle","particella","computed","methods","subscribeMapEvent","event","_this","this","app","map","on","layerConfig","visible","wmsUrl","getWmsUrl","features","properties","ct24_id","add","wmsParams","infoFormat","infoBuffer","getGetFeatureInfoUrl","console","error","updateParticelleSelezionate","_this2","forEach","feature","alreadySelected","filter","id","eachLayer","layer","removeLayer","addParticella","selected","changeFoglio","_this3","resp","idParticella","_this4","cqlFilter","featureType","wfsUrl","push","addData","bounds","getBounds","fitBounds","maxZoom","handleDelete","index","row","submit","confirm","loadLayer","loadLayers","type","style","color","fillOpacity","weight","opacity","getLayerByName","hideLayer","getElement","display","showLayer","mounted","_this5","getLayerConfig","eventBus","$on","off","503","version","sources","names","mappings","file","sourcesContent","sourceRoot","620","content","locals","721","__vue_exports__","__vue_options__","__vue_template__","render","staticRenderFns","869","_vm","$createElement","_c","staticClass","attrs","title","divId","noClose","_v","justify","border","cell-style","padding","maxHeight","label","align","width","scopedSlots","_u","key","fn","scope","_s","ct24_foglio","ct24_numero","size","icon","click","$event","$index","placeholder","no-data-text","filterable","change","model","callback","$$v","expression","_l","item","ref","disabled","buttonDisabled"],"mappings":"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","file":"static/js/17.js","sourcesContent":["webpackJsonp([17,38],{\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (codCom, codSez) {\n\t  var url = '/geoservices/REST/sigmater/fogli/' + codCom + '/' + codSez;\n\t  return _axios2.default.get(url).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(2);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (codCom, codSez, codFoglio) {\n\t  var url = '/geoservices/REST/sigmater/particelle/' + codCom + '/' + codSez + '/' + codFoglio;\n\t  return _axios2.default.get(url).then(function (response) {\n\t    return response.data.data;\n\t  });\n\t};\n\t\n\tvar _axios = __webpack_require__(2);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _globals = __webpack_require__(6);\n\t\n\tvar _globals2 = _interopRequireDefault(_globals);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _popover = __webpack_require__(141);\n\t\n\tvar _popover2 = _interopRequireDefault(_popover);\n\t\n\tvar _popover3 = __webpack_require__(133);\n\t\n\tvar _popover4 = _interopRequireDefault(_popover3);\n\t\n\tvar _row = __webpack_require__(36);\n\t\n\tvar _row2 = _interopRequireDefault(_row);\n\t\n\tvar _row3 = __webpack_require__(34);\n\t\n\tvar _row4 = _interopRequireDefault(_row3);\n\t\n\tvar _button = __webpack_require__(9);\n\t\n\tvar _button2 = _interopRequireDefault(_button);\n\t\n\tvar _base = __webpack_require__(5);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _button3 = __webpack_require__(8);\n\t\n\tvar _button4 = _interopRequireDefault(_button3);\n\t\n\tvar _vue = __webpack_require__(1);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _InfoWmsManager = __webpack_require__(31);\n\t\n\tvar _InfoWmsManager2 = _interopRequireDefault(_InfoWmsManager);\n\t\n\tvar _getFeatureInfo = __webpack_require__(91);\n\t\n\tvar _getFeatureInfo2 = _interopRequireDefault(_getFeatureInfo);\n\t\n\tvar _getWFSFeature = __webpack_require__(37);\n\t\n\tvar _getWFSFeature2 = _interopRequireDefault(_getWFSFeature);\n\t\n\tvar _getS3Fogli = __webpack_require__(70);\n\t\n\tvar _getS3Fogli2 = _interopRequireDefault(_getS3Fogli);\n\t\n\tvar _getS3Particelle = __webpack_require__(71);\n\t\n\tvar _getS3Particelle2 = _interopRequireDefault(_getS3Particelle);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_button4.default);\n\t_vue2.default.use(_row4.default);\n\t_vue2.default.use(_popover4.default);\n\t\n\texports.default = {\n\t  name: 'gv-cdu-seleziona-particelle-panel',\n\t  data: function data() {\n\t    var options = GV.config.getToolOptions('gv-cdu-seleziona-particelle-button');\n\t    return {\n\t      comune: options.codComBelfiore,\n\t      idLayerParticelle: 'L6592',\n\t      particelleSelezionate: [],\n\t      hiliteLayer: null,\n\t      sezione: '_',\n\t      fogli: null,\n\t      foglio: null,\n\t      particelle: null,\n\t      particella: null,\n\t      options: options\n\t    };\n\t  },\n\t\n\t  computed: {},\n\t  methods: {\n\t    subscribeMapEvent: function subscribeMapEvent(event) {\n\t      var _this = this;\n\t\n\t      GV.app.map.on('click', function (event) {\n\t        if (!_this.layerConfig.visible) return;\n\t        var wmsUrl = _this.getWmsUrl(event);\n\t        (0, _getFeatureInfo2.default)(wmsUrl).then(function (features) {\n\t          if (features && features[0] && features[0].properties && features[0].properties.ct24_id) {\n\t            _this.add(features[0].properties.ct24_id);\n\t          }\n\t        });\n\t      });\n\t    },\n\t    getWmsUrl: function getWmsUrl(event) {\n\t      if (!this.layerConfig) {\n\t        console.error('Configurazione Layer non trovata');\n\t        return;\n\t      }\n\t      this.layerConfig.wmsParams.infoFormat = 'application/json';\n\t      this.layerConfig.infoBuffer = 0;\n\t      return _InfoWmsManager2.default.getGetFeatureInfoUrl(this.layerConfig, event);\n\t    },\n\t    updateParticelleSelezionate: function updateParticelleSelezionate(features) {\n\t      var _this2 = this;\n\t\n\t      features.forEach(function (feature) {\n\t        if (_this2.alreadySelected(feature)) {\n\t          _this2.particelleSelezionate = _this2.particelleSelezionate.filter(function (particella) {\n\t            return particella.id !== feature.id;\n\t          });\n\t          _this2.hiliteLayer.eachLayer(function (layer) {\n\t            if (layer.feature.id == feature.id) {\n\t              GV.app.map.removeLayer(layer);\n\t            }\n\t          });\n\t        } else {\n\t          _this2.addParticella(feature);\n\t        }\n\t      });\n\t    },\n\t    alreadySelected: function alreadySelected(feature) {\n\t      var selected = false;\n\t      this.particelleSelezionate.forEach(function (particella) {\n\t        if (feature.id === particella.id) {\n\t          selected = true;\n\t        }\n\t      });\n\t      return selected;\n\t    },\n\t    changeFoglio: function changeFoglio(id) {\n\t      var _this3 = this;\n\t\n\t      this.particelle = null;\n\t      this.particella = null;\n\t      (0, _getS3Particelle2.default)(this.comune, this.sezione, id).then(function (resp) {\n\t        _this3.particelle = resp;\n\t      });\n\t    },\n\t    add: function add(idParticella) {\n\t      var _this4 = this;\n\t\n\t      if (!idParticella && !this.particella) return;\n\t      if (!idParticella) idParticella = this.particella;\n\t      var cqlFilter = 'ct24_id = ' + idParticella;\n\t      var featureType = 'M2002:' + this.idLayerParticelle;\n\t      var wfsUrl = 'https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson&typeName=' + featureType + '&cql_filter=' + cqlFilter;\n\t      (0, _getWFSFeature2.default)(null, null, wfsUrl).then(function (features) {\n\t        _this4.updateParticelleSelezionate(features);\n\t      });\n\t    },\n\t    addParticella: function addParticella(feature) {\n\t      this.particelleSelezionate.push(feature);\n\t      this.hiliteLayer.addData(feature);\n\t      var bounds = this.hiliteLayer.getBounds();\n\t      GV.app.map.fitBounds(bounds, {\n\t        maxZoom: 18\n\t      });\n\t    },\n\t    handleDelete: function handleDelete(index, row) {\n\t      this.particelleSelezionate = this.particelleSelezionate.filter(function (particella) {\n\t        return particella.id !== row.id;\n\t      });\n\t      this.hiliteLayer.eachLayer(function (layer) {\n\t        if (layer.feature.id == row.id) {\n\t          GV.app.map.removeLayer(layer);\n\t        }\n\t      });\n\t    },\n\t    submit: function submit() {\n\t      var r = confirm('Sei sicuro?');\n\t      if (r == true) {}\n\t      return;\n\t    },\n\t    loadLayer: function loadLayer() {\n\t      GV.app.map.loadLayers([{\n\t        name: 'SelezioneParticelle',\n\t        type: 'JSON',\n\t        style: {\n\t          color: '#ffcc00',\n\t          fillOpacity: 0.0,\n\t          weight: 5,\n\t          opacity: 0.6\n\t        },\n\t        visible: true\n\t      }]);\n\t      this.hiliteLayer = GV.app.map.getLayerByName('SelezioneParticelle');\n\t    },\n\t    hideLayer: function hideLayer() {\n\t      this.hiliteLayer.eachLayer(function (layer) {\n\t        layer.getElement().style.display = 'none';\n\t      });\n\t    },\n\t    showLayer: function showLayer() {\n\t      this.hiliteLayer.eachLayer(function (layer) {\n\t        layer.getElement().style.display = 'block';\n\t      });\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    var _this5 = this;\n\t\n\t    (0, _getS3Fogli2.default)(this.comune, this.sezione).then(function (resp) {\n\t      _this5.fogli = resp;\n\t    });\n\t\n\t    this.layerConfig = GV.config.getLayerConfig(this.idLayerParticelle);\n\t    if (!this.layerConfig) {\n\t      GV.eventBus.$on('gv-config-init', function (event) {\n\t        _this5.layerConfig = GV.config.getLayerConfig(_this5.idLayerParticelle);\n\t      });\n\t    }\n\t    this.loadLayer();\n\t\n\t    GV.eventBus.$on('gv-control-cdu-seleziona-particelle-activate', function (event) {\n\t      _this5.subscribeMapEvent(event);\n\t      _this5.showLayer();\n\t    });\n\t    GV.eventBus.$on('gv-control-cdu-seleziona-particelle-deactivate', function (event) {\n\t      GV.app.map.off('click');\n\t      _this5.hideLayer();\n\t    });\n\t    this.subscribeMapEvent(event);\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 503:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".gv-cdu-seleziona-particelle-panel{position:absolute;width:340px;left:0;top:0;margin-left:10px;margin-top:50px;z-index:800}.gv-cdu-seleziona-particelle-body{padding:5px;width:330px;height:350px}.gv-cdu-seleziona-particelle-table{width:320px;height:200px;min-height:200px;max-height:200px}.gv-cdu-seleziona-padding-left{padding-left:5px}.el-row{padding:5px}.el-table{overflow-y:scroll;max-height:200px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/CduSelezionaParticelle.vue\"],\"names\":[],\"mappings\":\"AACA,mCACE,kBAAmB,AACnB,YAAa,AACb,OAAU,AACV,MAAS,AACT,iBAAkB,AAClB,gBAAiB,AACjB,WAAa,CACd,AACD,kCACE,YAAa,AACb,YAAa,AACb,YAAc,CACf,AACD,mCACE,YAAa,AACb,aAAc,AACd,iBAAkB,AAClB,gBAAkB,CACnB,AACD,+BACE,gBAAkB,CACnB,AACD,QACE,WAAyB,CAC1B,AACD,UACE,kBAAmB,AACnB,gBAAkB,CACnB\",\"file\":\"CduSelezionaParticelle.vue\",\"sourcesContent\":[\"\\n.gv-cdu-seleziona-particelle-panel {\\n  position: absolute;\\n  width: 340px;\\n  left: 0px;\\n  top: 0px;\\n  margin-left: 10px;\\n  margin-top: 50px;\\n  z-index: 800;\\n}\\n.gv-cdu-seleziona-particelle-body {\\n  padding: 5px;\\n  width: 330px;\\n  height: 350px;\\n}\\n.gv-cdu-seleziona-particelle-table {\\n  width: 320px;\\n  height: 200px;\\n  min-height: 200px;\\n  max-height: 200px;\\n}\\n.gv-cdu-seleziona-padding-left {\\n  padding-left: 5px;\\n}\\n.el-row {\\n  padding: 5px 5px 5px 5px;\\n}\\n.el-table {\\n  overflow-y: scroll;\\n  max-height: 200px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 620:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(503);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CduSelezionaParticelle.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CduSelezionaParticelle.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 721:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(620)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(253)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(869)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n\n/***/ 869:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-particelle-panel\",\n\t    attrs: {\n\t      \"id\": \"gv-cdu-seleziona-particelle-panel\"\n\t    }\n\t  }, [_vm._c('gv-title', {\n\t    attrs: {\n\t      \"title\": \"Stampa C.D.U.\",\n\t      \"divId\": 'gv-cdu-seleziona-particelle-panel',\n\t      \"noClose\": true\n\t    }\n\t  }), _vm._v(\" \"), _vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-particelle-body gv-inverted-color-scheme\"\n\t  }, [_vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-padding-left\"\n\t  }, [_vm._c('b', [_vm._v(\"PARTICELLE SELEZIONATE\")])])]), _vm._v(\" \"), _vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-particelle-table\"\n\t  }, [_vm._c('el-table', {\n\t    attrs: {\n\t      \"data\": _vm.particelleSelezionate,\n\t      \"border\": \"\",\n\t      \"cell-style\": {\n\t        padding: '2px',\n\t        maxHeight: '10px'\n\t      }\n\t    }\n\t  }, [_vm._c('el-table-column', {\n\t    attrs: {\n\t      \"label\": \"FOGLIO\",\n\t      \"align\": \"center\",\n\t      \"width\": \"100\"\n\t    },\n\t    scopedSlots: _vm._u([{\n\t      key: \"default\",\n\t      fn: function(scope) {\n\t        return [_vm._c('span', [_vm._v(_vm._s(scope.row.properties.ct24_foglio))])]\n\t      }\n\t    }])\n\t  }), _vm._v(\" \"), _vm._c('el-table-column', {\n\t    attrs: {\n\t      \"label\": \"MAPPALE\",\n\t      \"align\": \"center\",\n\t      \"width\": \"100\"\n\t    },\n\t    scopedSlots: _vm._u([{\n\t      key: \"default\",\n\t      fn: function(scope) {\n\t        return [_vm._c('span', [_vm._v(_vm._s(scope.row.properties.ct24_numero))])]\n\t      }\n\t    }])\n\t  }), _vm._v(\" \"), _vm._c('el-table-column', {\n\t    attrs: {\n\t      \"width\": \"50\"\n\t    },\n\t    scopedSlots: _vm._u([{\n\t      key: \"default\",\n\t      fn: function(scope) {\n\t        return [_vm._c('el-button', {\n\t          attrs: {\n\t            \"size\": \"mini\",\n\t            \"type\": \"danger\",\n\t            \"icon\": \"el-icon-delete\"\n\t          },\n\t          on: {\n\t            \"click\": function($event) {\n\t              _vm.handleDelete(scope.$index, scope.row)\n\t            }\n\t          }\n\t        })]\n\t      }\n\t    }])\n\t  })], 1)], 1)]), _vm._v(\" \"), _vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-padding-left\"\n\t  }, [_vm._v(\"Aggiungi una particella:\")])]), _vm._v(\" \"), _vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-cdu-seleziona-fogli-select\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Foglio\",\n\t      \"no-data-text\": \"Seleziona una Sezione\",\n\t      \"filterable\": \"\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.changeFoglio\n\t    },\n\t    model: {\n\t      value: (_vm.foglio),\n\t      callback: function($$v) {\n\t        _vm.foglio = $$v\n\t      },\n\t      expression: \"foglio\"\n\t    }\n\t  }, _vm._l((_vm.fogli), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.id,\n\t      attrs: {\n\t        \"label\": item.id,\n\t        \"value\": item.id\n\t      }\n\t    })\n\t  })), _vm._v(\" \"), _vm._c('el-select', {\n\t    attrs: {\n\t      \"id\": \"gv-cdu-seleziona-particelle-select\",\n\t      \"size\": \"mini\",\n\t      \"placeholder\": \"Particella\",\n\t      \"no-data-text\": \"Seleziona una Foglio\",\n\t      \"filterable\": \"\"\n\t    },\n\t    model: {\n\t      value: (_vm.particella),\n\t      callback: function($$v) {\n\t        _vm.particella = $$v\n\t      },\n\t      expression: \"particella\"\n\t    }\n\t  }, _vm._l((_vm.particelle), function(item) {\n\t    return _vm._c('el-option', {\n\t      key: item.id,\n\t      attrs: {\n\t        \"label\": item.label,\n\t        \"value\": item.id\n\t      }\n\t    })\n\t  })), _vm._v(\" \"), _vm._c('el-button', {\n\t    attrs: {\n\t      \"size\": \"mini\",\n\t      \"type\": \"primary\",\n\t      \"icon\": \"el-icon-plus\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.add()\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-padding-left\"\n\t  }, [_vm._v(\"\\n        E' anche possibile aggiungere/cancellare particelle selezionandole sulla mappa.\\n      \")])])], 1), _vm._v(\" \"), _vm._c('el-row', {\n\t    staticClass: \"row-bg\",\n\t    attrs: {\n\t      \"type\": \"flex\",\n\t      \"justify\": \"left\"\n\t    }\n\t  }, [_vm._c('div', {\n\t    staticClass: \"gv-cdu-seleziona-padding-left\"\n\t  }, [_vm._c('el-button', {\n\t    ref: \"button\",\n\t    attrs: {\n\t      \"id\": \"gv-cdu-seleziona-particelle-panel-submit\",\n\t      \"title\": \"Salva i dati sul DB\",\n\t      \"type\": \"primary\",\n\t      \"size\": \"mini\",\n\t      \"disabled\": _vm.buttonDisabled\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.submit()\n\t      }\n\t    }\n\t  }, [_vm._c('span', [_vm._v(\"Stampa PDF\")])])], 1)])], 1)\n\t},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/17.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function(codCom, codSez) {\r\n  let url = '/geoservices/REST/sigmater/fogli/' + codCom + '/' + codSez\r\n  return axios.get(url).then(response => response.data.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/node-prj/geoviewer2/src/services/getS3Fogli.js","import axios from 'axios'\r\nimport globals from '../globals'\r\n\r\nexport default function(codCom, codSez, codFoglio) {\r\n  let url = '/geoservices/REST/sigmater/particelle/' + codCom + '/' + codSez + '/' + codFoglio\r\n  return axios.get(url).then(response => response.data.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/node-prj/geoviewer2/src/services/getS3Particelle.js","<template>\n  <div id=\"gv-cdu-seleziona-particelle-panel\" class=\"gv-cdu-seleziona-particelle-panel\">\n    <gv-title\n      title=\"Stampa C.D.U.\"\n      :divId=\"'gv-cdu-seleziona-particelle-panel'\"\n      :noClose=\"true\"\n    ></gv-title>\n    <div class=\"gv-cdu-seleziona-particelle-body gv-inverted-color-scheme\">\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n        <div class=\"gv-cdu-seleziona-padding-left\"><b>PARTICELLE SELEZIONATE</b></div>\n      </el-row>\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n        <div class=\"gv-cdu-seleziona-particelle-table\">\n          <el-table\n            :data=\"particelleSelezionate\"\n            border\n            :cell-style=\"{ padding: '2px', maxHeight: '10px' }\"\n          >\n            <el-table-column label=\"FOGLIO\" align=\"center\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.properties.ct24_foglio }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"MAPPALE\" align=\"center\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.properties.ct24_numero }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column width=\"50\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  size=\"mini\"\n                  type=\"danger\"\n                  @click=\"handleDelete(scope.$index, scope.row)\"\n                  icon=\"el-icon-delete\"\n                ></el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-row>\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n        <div class=\"gv-cdu-seleziona-padding-left\">Aggiungi una particella:</div>\n      </el-row>\n      <!-- Selezionare una particella:<br /> -->\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n        <el-select\n          id=\"gv-cdu-seleziona-fogli-select\"\n          v-model=\"foglio\"\n          size=\"mini\"\n          placeholder=\"Foglio\"\n          @change=\"changeFoglio\"\n          no-data-text=\"Seleziona una Sezione\"\n          filterable\n        >\n          <el-option\n            v-for=\"item in fogli\"\n            :key=\"item.id\"\n            :label=\"item.id\"\n            :value=\"item.id\"\n          ></el-option>\n        </el-select>\n        <el-select\n          id=\"gv-cdu-seleziona-particelle-select\"\n          v-model=\"particella\"\n          size=\"mini\"\n          placeholder=\"Particella\"\n          no-data-text=\"Seleziona una Foglio\"\n          filterable\n        >\n          <el-option\n            v-for=\"item in particelle\"\n            :key=\"item.id\"\n            :label=\"item.label\"\n            :value=\"item.id\"\n          ></el-option>\n        </el-select>\n        <el-button size=\"mini\" type=\"primary\" @click=\"add()\" icon=\"el-icon-plus\"></el-button>\n      </el-row>\n      <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n        <div class=\"gv-cdu-seleziona-padding-left\">\n          E' anche possibile aggiungere/cancellare particelle selezionandole sulla mappa.\n        </div>\n      </el-row>\n    </div>\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"left\">\n      <div class=\"gv-cdu-seleziona-padding-left\">\n        <el-button\n          id=\"gv-cdu-seleziona-particelle-panel-submit\"\n          ref=\"button\"\n          title=\"Salva i dati sul DB\"\n          type=\"primary\"\n          @click=\"submit()\"\n          size=\"mini\"\n          :disabled=\"buttonDisabled\"\n        >\n          <span>Stampa PDF</span>\n        </el-button>\n      </div>\n    </el-row>\n  </div>\n</template> \n\n<script>\nimport Vue from 'vue';\nimport InfoWmsManager from '../controls/InfoWmsManager';\nimport getFeatureInfo from '../services/getFeatureInfo';\nimport getWFSFeature from '../services/getWFSFeature';\nimport getFogli from '../services/getS3Fogli';\nimport getParticelle from '../services/getS3Particelle';\n\nimport { Button, Row, Loading, Notification, Popover } from 'element-ui';\nVue.use(Button);\nVue.use(Row);\nVue.use(Popover);\n\nexport default {\n  name: 'gv-cdu-seleziona-particelle-panel',\n  data() {\n    const options = GV.config.getToolOptions('gv-cdu-seleziona-particelle-button');\n    return {\n      comune: options.codComBelfiore,\n      idLayerParticelle: 'L6592',\n      particelleSelezionate: [],\n      hiliteLayer: null,\n      sezione: '_',\n      fogli: null,\n      foglio: null,\n      particelle: null,\n      particella: null,\n      options: options,\n    };\n  },\n  computed: {},\n  methods: {\n    subscribeMapEvent(event) {\n      GV.app.map.on('click', (event) => {\n        if (!this.layerConfig.visible) return;\n        const wmsUrl = this.getWmsUrl(event);\n        getFeatureInfo(wmsUrl).then((features) => {\n          if (features && features[0] && features[0].properties && features[0].properties.ct24_id) {\n            this.add(features[0].properties.ct24_id);\n          }\n        });\n      });\n    },\n    getWmsUrl(event) {\n      if (!this.layerConfig) {\n        console.error('Configurazione Layer non trovata');\n        return;\n      }\n      this.layerConfig.wmsParams.infoFormat = 'application/json';\n      this.layerConfig.infoBuffer = 0;\n      return InfoWmsManager.getGetFeatureInfoUrl(this.layerConfig, event);\n    },\n    updateParticelleSelezionate(features) {\n      features.forEach((feature) => {\n        if (this.alreadySelected(feature)) {\n          this.particelleSelezionate = this.particelleSelezionate.filter((particella) => {\n            return particella.id !== feature.id;\n          });\n          this.hiliteLayer.eachLayer((layer) => {\n            if (layer.feature.id == feature.id) {\n              GV.app.map.removeLayer(layer);\n            }\n          });\n        } else {\n          this.addParticella(feature);\n        }\n      });\n    },\n    alreadySelected(feature) {\n      let selected = false;\n      this.particelleSelezionate.forEach((particella) => {\n        if (feature.id === particella.id) {\n          selected = true;\n        }\n      });\n      return selected;\n    },\n    changeFoglio(id) {\n      this.particelle = null;\n      this.particella = null;\n      getParticelle(this.comune, this.sezione, id).then((resp) => {\n        this.particelle = resp;\n      });\n    },\n    add(idParticella) {\n      if (!idParticella && !this.particella) return;\n      if (!idParticella) idParticella = this.particella;\n      const cqlFilter = 'ct24_id = ' + idParticella;\n      const featureType = `M2002:${this.idLayerParticelle}`;\n      const wfsUrl =\n        'https://geoservizi.regione.liguria.it/geoserver/wfs?service=WFS&version=2.0.0&request=GetFeature&srsName=EPSG%3A4326&outputFormat=application%2Fjson&typeName=' +\n        featureType +\n        '&cql_filter=' +\n        cqlFilter;\n      getWFSFeature(null, null, wfsUrl).then((features) => {\n        this.updateParticelleSelezionate(features);\n      });\n    },\n    addParticella(feature) {\n      this.particelleSelezionate.push(feature);\n      this.hiliteLayer.addData(feature);\n      const bounds = this.hiliteLayer.getBounds();\n      GV.app.map.fitBounds(bounds, {\n        maxZoom: 18,\n      });\n    },\n    handleDelete(index, row) {\n      this.particelleSelezionate = this.particelleSelezionate.filter((particella) => {\n        return particella.id !== row.id;\n      });\n      this.hiliteLayer.eachLayer((layer) => {\n        if (layer.feature.id == row.id) {\n          GV.app.map.removeLayer(layer);\n        }\n      });\n    },\n    submit() {\n      var r = confirm('Sei sicuro?');\n      if (r == true) {\n        // this.saveData();\n      }\n      return;\n    },\n    loadLayer() {\n      GV.app.map.loadLayers([\n        {\n          name: 'SelezioneParticelle',\n          type: 'JSON',\n          style: {\n            color: '#ffcc00',\n            fillOpacity: 0.0,\n            weight: 5,\n            opacity: 0.6,\n          },\n          visible: true,\n        },\n      ]);\n      this.hiliteLayer = GV.app.map.getLayerByName('SelezioneParticelle');\n    },\n    hideLayer() {\n      this.hiliteLayer.eachLayer((layer) => {\n        layer.getElement().style.display = 'none';\n      });\n    },\n    showLayer() {\n      this.hiliteLayer.eachLayer((layer) => {\n        layer.getElement().style.display = 'block';\n      });\n    },\n  },\n  mounted() {\n    // Carico fogli\n    getFogli(this.comune, this.sezione).then((resp) => {\n      this.fogli = resp;\n    });\n\n    // CARICO LAYER PER HILITE\n    this.layerConfig = GV.config.getLayerConfig(this.idLayerParticelle);\n    if (!this.layerConfig) {\n      GV.eventBus.$on('gv-config-init', (event) => {\n        this.layerConfig = GV.config.getLayerConfig(this.idLayerParticelle);\n      });\n    }\n    this.loadLayer();\n\n    // GESTIONE EVENTI\n    GV.eventBus.$on('gv-control-cdu-seleziona-particelle-activate', (event) => {\n      this.subscribeMapEvent(event);\n      this.showLayer();\n    });\n    GV.eventBus.$on('gv-control-cdu-seleziona-particelle-deactivate', (event) => {\n      GV.app.map.off('click');\n      this.hideLayer();\n    });\n    this.subscribeMapEvent(event);\n  },\n};\n</script>\n\n<style>\n.gv-cdu-seleziona-particelle-panel {\n  position: absolute;\n  width: 340px;\n  left: 0px;\n  top: 0px;\n  margin-left: 10px;\n  margin-top: 50px;\n  z-index: 800;\n}\n\n.gv-cdu-seleziona-particelle-body {\n  padding: 5px;\n  width: 330px;\n  height: 350px;\n}\n\n.gv-cdu-seleziona-particelle-table {\n  width: 320px;\n  height: 200px;\n  min-height: 200px;\n  max-height: 200px;\n}\n\n.gv-cdu-seleziona-padding-left {\n  padding-left: 5px;\n}\n\n.el-row {\n  padding: 5px 5px 5px 5px;\n}\n\n.el-table {\n  overflow-y: scroll;\n  max-height: 200px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// CduSelezionaParticelle.vue?28716041","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gv-cdu-seleziona-particelle-panel{position:absolute;width:340px;left:0;top:0;margin-left:10px;margin-top:50px;z-index:800}.gv-cdu-seleziona-particelle-body{padding:5px;width:330px;height:350px}.gv-cdu-seleziona-particelle-table{width:320px;height:200px;min-height:200px;max-height:200px}.gv-cdu-seleziona-padding-left{padding-left:5px}.el-row{padding:5px}.el-table{overflow-y:scroll;max-height:200px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/CduSelezionaParticelle.vue\"],\"names\":[],\"mappings\":\"AACA,mCACE,kBAAmB,AACnB,YAAa,AACb,OAAU,AACV,MAAS,AACT,iBAAkB,AAClB,gBAAiB,AACjB,WAAa,CACd,AACD,kCACE,YAAa,AACb,YAAa,AACb,YAAc,CACf,AACD,mCACE,YAAa,AACb,aAAc,AACd,iBAAkB,AAClB,gBAAkB,CACnB,AACD,+BACE,gBAAkB,CACnB,AACD,QACE,WAAyB,CAC1B,AACD,UACE,kBAAmB,AACnB,gBAAkB,CACnB\",\"file\":\"CduSelezionaParticelle.vue\",\"sourcesContent\":[\"\\n.gv-cdu-seleziona-particelle-panel {\\n  position: absolute;\\n  width: 340px;\\n  left: 0px;\\n  top: 0px;\\n  margin-left: 10px;\\n  margin-top: 50px;\\n  z-index: 800;\\n}\\n.gv-cdu-seleziona-particelle-body {\\n  padding: 5px;\\n  width: 330px;\\n  height: 350px;\\n}\\n.gv-cdu-seleziona-particelle-table {\\n  width: 320px;\\n  height: 200px;\\n  min-height: 200px;\\n  max-height: 200px;\\n}\\n.gv-cdu-seleziona-padding-left {\\n  padding-left: 5px;\\n}\\n.el-row {\\n  padding: 5px 5px 5px 5px;\\n}\\n.el-table {\\n  overflow-y: scroll;\\n  max-height: 200px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/CduSelezionaParticelle.vue\n// module id = 503\n// module chunks = 17","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CduSelezionaParticelle.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CduSelezionaParticelle.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CduSelezionaParticelle.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-52d457ae!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/CduSelezionaParticelle.vue\n// module id = 620\n// module chunks = 17","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-52d457ae!vue-loader/lib/selector?type=styles&index=0!./CduSelezionaParticelle.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./CduSelezionaParticelle.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-52d457ae!vue-loader/lib/selector?type=template&index=0!./CduSelezionaParticelle.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CduSelezionaParticelle.vue\n// module id = 721\n// module chunks = 17","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-particelle-panel\",\n    attrs: {\n      \"id\": \"gv-cdu-seleziona-particelle-panel\"\n    }\n  }, [_vm._c('gv-title', {\n    attrs: {\n      \"title\": \"Stampa C.D.U.\",\n      \"divId\": 'gv-cdu-seleziona-particelle-panel',\n      \"noClose\": true\n    }\n  }), _vm._v(\" \"), _vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-particelle-body gv-inverted-color-scheme\"\n  }, [_vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-padding-left\"\n  }, [_vm._c('b', [_vm._v(\"PARTICELLE SELEZIONATE\")])])]), _vm._v(\" \"), _vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-particelle-table\"\n  }, [_vm._c('el-table', {\n    attrs: {\n      \"data\": _vm.particelleSelezionate,\n      \"border\": \"\",\n      \"cell-style\": {\n        padding: '2px',\n        maxHeight: '10px'\n      }\n    }\n  }, [_vm._c('el-table-column', {\n    attrs: {\n      \"label\": \"FOGLIO\",\n      \"align\": \"center\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._c('span', [_vm._v(_vm._s(scope.row.properties.ct24_foglio))])]\n      }\n    }])\n  }), _vm._v(\" \"), _vm._c('el-table-column', {\n    attrs: {\n      \"label\": \"MAPPALE\",\n      \"align\": \"center\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._c('span', [_vm._v(_vm._s(scope.row.properties.ct24_numero))])]\n      }\n    }])\n  }), _vm._v(\" \"), _vm._c('el-table-column', {\n    attrs: {\n      \"width\": \"50\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._c('el-button', {\n          attrs: {\n            \"size\": \"mini\",\n            \"type\": \"danger\",\n            \"icon\": \"el-icon-delete\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDelete(scope.$index, scope.row)\n            }\n          }\n        })]\n      }\n    }])\n  })], 1)], 1)]), _vm._v(\" \"), _vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-padding-left\"\n  }, [_vm._v(\"Aggiungi una particella:\")])]), _vm._v(\" \"), _vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-cdu-seleziona-fogli-select\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Foglio\",\n      \"no-data-text\": \"Seleziona una Sezione\",\n      \"filterable\": \"\"\n    },\n    on: {\n      \"change\": _vm.changeFoglio\n    },\n    model: {\n      value: (_vm.foglio),\n      callback: function($$v) {\n        _vm.foglio = $$v\n      },\n      expression: \"foglio\"\n    }\n  }, _vm._l((_vm.fogli), function(item) {\n    return _vm._c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.id,\n        \"value\": item.id\n      }\n    })\n  })), _vm._v(\" \"), _vm._c('el-select', {\n    attrs: {\n      \"id\": \"gv-cdu-seleziona-particelle-select\",\n      \"size\": \"mini\",\n      \"placeholder\": \"Particella\",\n      \"no-data-text\": \"Seleziona una Foglio\",\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.particella),\n      callback: function($$v) {\n        _vm.particella = $$v\n      },\n      expression: \"particella\"\n    }\n  }, _vm._l((_vm.particelle), function(item) {\n    return _vm._c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.id\n      }\n    })\n  })), _vm._v(\" \"), _vm._c('el-button', {\n    attrs: {\n      \"size\": \"mini\",\n      \"type\": \"primary\",\n      \"icon\": \"el-icon-plus\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.add()\n      }\n    }\n  })], 1), _vm._v(\" \"), _vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-padding-left\"\n  }, [_vm._v(\"\\n        E' anche possibile aggiungere/cancellare particelle selezionandole sulla mappa.\\n      \")])])], 1), _vm._v(\" \"), _vm._c('el-row', {\n    staticClass: \"row-bg\",\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"left\"\n    }\n  }, [_vm._c('div', {\n    staticClass: \"gv-cdu-seleziona-padding-left\"\n  }, [_vm._c('el-button', {\n    ref: \"button\",\n    attrs: {\n      \"id\": \"gv-cdu-seleziona-particelle-panel-submit\",\n      \"title\": \"Salva i dati sul DB\",\n      \"type\": \"primary\",\n      \"size\": \"mini\",\n      \"disabled\": _vm.buttonDisabled\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._c('span', [_vm._v(\"Stampa PDF\")])])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-52d457ae!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CduSelezionaParticelle.vue\n// module id = 869\n// module chunks = 17"],"sourceRoot":""}