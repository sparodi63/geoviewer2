webpackJsonp([17,11],{56:function(a,n,t){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(42),o=(e(i),t(38)),l=e(o),d=t(43),r=(e(d),t(39)),p=e(r),s=t(40),c=(e(s),t(36)),f=e(c),u=t(41),A=(e(u),t(12)),v=(e(A),t(37)),m=e(v),g=t(7),w=e(g),h=t(1),C=e(h),b=t(14),x=e(b),_=t(57),B=e(_),y=t(5),k=e(y);C.default.component("vue-draggable-resizable",function(){return new w.default(function(a){t.e(15,function(n){a(t(32))})})}),C.default.component("gv-title",function(){return new w.default(function(a){t.e(14,function(n){a(t(15))})})}),C.default.component("gv-map-metadata-panel",function(){return new w.default(function(a){t.e(16,function(n){a(t(117))})})}),C.default.use(m.default),C.default.use(f.default),C.default.use(p.default),C.default.use(l.default),n.default={name:"gv-map-info-panel",props:["idMap","visible","addToMapButton"],data:function(){var a=[],n=GV.config.schedaInfoCartografia;return n&&(a.push({label:"Origine del dato",value:n.origine}),a.push({label:"Anno",value:n.anno}),a.push({label:"Scala",value:n.scala})),n&&window.matchMedia("(min-height: 500px)").matches&&(a.push({label:"Rappresentazione",value:n.rappresentazione}),a.push({label:"Ellissoide e Datum",value:n.elissoide_datum}),a.push({label:"Copertura",value:n.copertura}),a.push({label:"Note",value:n.note})),{items:a,name:n.descrizione,flagDownload:n.flag_download,title:window.matchMedia("(max-width: 600px)").matches?n.descrizione.substr(0,52):n.descrizione.substr(0,68),showMetadata:!window.matchMedia("(max-width: 600px)").matches,width:window.matchMedia("(max-width: 600px)").matches?350:500,fullTitle:n.descrizione,linkWms:n.link_wms,linkWfs:n.link_wfs,linkDownload:n.link_download}},methods:{closePanel:function(){this.$el.parentNode.removeChild(this.$el)},download:function(){window.open(this.linkDownload)},addToMap:function(){var a=this;(0,B.default)(this.idMap,GV.config.application.name).then(function(n){if(!n.data.success)throw new Error("Errore Caricamento Mappa: "+n.data.message);GV.config.addMapConfig(n.data.data),a.closePanel()})},openMetadataPanel:function(a){var n=""+k.default.RL_METADATA_URL+this.idMap+"?type="+a+"&",t=this.linkWms,e=this.linkWfs,i="Metadati - ";(0,x.default)({elId:"gv-map-metadata-panel",clear:!0,vm:new C.default({template:'<gv-map-metadata-panel :xmlUrl="xmlUrl" :title="title" :type="type" :linkWms="linkWms" :linkWfs="linkWfs" ></gv-map-metadata-panel>',data:{title:i+": "+this.title,type:a,xmlUrl:n,linkWms:t,linkWfs:e}})})}}}},77:function(a,n,t){n=a.exports=t(2)(),n.push([a.id,".gv-map-metadata-panel[data-v-42c0539c]{width:860px}.gv-map-info-panel[data-v-42c0539c],.gv-map-metadata-panel[data-v-42c0539c]{position:absolute;left:0;top:0;margin-left:10px;margin-top:100px;background-color:#fff;z-index:800}.gv-map-info-panel[data-v-42c0539c]{max-width:600px}.gv-map-info-panel table[data-v-42c0539c]{border:1px solid #ddd;width:100%;padding:10px}.gv-map-info-panel-th[data-v-42c0539c]{white-space:nowrap;width:auto;text-align:left;font-weight:400}.gv-map-info-panel-th[data-v-42c0539c],.gv-map-info-panel table tr td[data-v-42c0539c]{padding:5px;font-size:12px;border:1px solid #e5e5e5}.gv-button-download[data-v-42c0539c]{font-size:12px}.gv-button-download span[data-v-42c0539c],.gv-button-group span[data-v-42c0539c]{font-family:Raleway,Arial,sans-serif;font-weight:700}.gv-button-group span[data-v-42c0539c]{font-size:12px}.gv-map-info-panel-body[data-v-42c0539c]{background-color:#fff}@media (max-width:500px){.gv-map-info-panel[data-v-42c0539c]{width:350px}}","",{version:3,sources:["/./src/components/MapInfoPanel.vue"],names:[],mappings:"AACA,wCAQI,WAAa,CAChB,AACD,4EATI,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,iBAAkB,AAClB,iBAAkB,AAClB,sBAAuB,AACvB,WAAa,CAYhB,AATD,oCAQI,eAAiB,CACpB,AACD,0CACI,sBAAuB,AACvB,WAAY,AACZ,YAAc,CACjB,AACD,uCACI,mBAAoB,AACpB,WAAY,AAEZ,gBAAiB,AACjB,eAAiB,CAGpB,AACD,uFANI,YAAiB,AAGjB,eAAgB,AAChB,wBAA0B,CAM7B,AACD,qCACI,cAAgB,CACnB,AAKD,iFAHI,qCAA0C,AAC1C,eAAkB,CAMrB,AAJD,uCACI,cAAgB,CAGnB,AACD,yCACI,qBAAuB,CAC1B,AAQD,yBACA,oCACQ,WAAa,CAEpB,CACA",file:"MapInfoPanel.vue",sourcesContent:['\n.gv-map-metadata-panel[data-v-42c0539c] {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    margin-left: 10px;\r\n    margin-top: 100px;\r\n    background-color: #fff;\r\n    z-index: 800;\r\n    width: 860px;\n}\n.gv-map-info-panel[data-v-42c0539c] {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    margin-left: 10px;\r\n    margin-top: 100px;\r\n    background-color: #fff;\r\n    z-index: 800;\r\n    max-width: 600px;\n}\n.gv-map-info-panel table[data-v-42c0539c] {\r\n    border: 1px solid #ddd;\r\n    width: 100%;\r\n    padding: 10px;\n}\n.gv-map-info-panel-th[data-v-42c0539c] {\r\n    white-space: nowrap;\r\n    width: auto;\r\n    padding: 5px 5px;\r\n    text-align: left;\r\n    font-weight: 400;\r\n    font-size: 12px;\r\n    border: 1px solid #e5e5e5;\n}\n.gv-map-info-panel table tr td[data-v-42c0539c] {\r\n    padding: 5px;\r\n    font-size: 12px;\r\n    border: 1px solid #e5e5e5;\n}\n.gv-button-download[data-v-42c0539c] {\r\n    font-size: 12px;\n}\n.gv-button-download span[data-v-42c0539c] {\r\n    font-family: "Raleway", Arial, sans-serif;\r\n    font-weight: bold;\n}\n.gv-button-group span[data-v-42c0539c] {\r\n    font-size: 12px;\r\n    font-family: "Raleway", Arial, sans-serif;\r\n    font-weight: bold;\n}\n.gv-map-info-panel-body[data-v-42c0539c] {\r\n    background-color: #fff;\n}\r\n\r\n/* @media (pointer: coarse) {\r\n    .gv-map-info-panel-body {\r\n        max-height: 300px;\r\n        overflow: auto;\r\n    }\r\n} */\n@media (max-width: 500px) {\n.gv-map-info-panel[data-v-42c0539c] {\r\n        width: 350px;\r\n        /* overflow: auto; */\n}\n}\r\n\r\n'],sourceRoot:"webpack://"}])},82:function(a,n,t){var e=t(77);"string"==typeof e&&(e=[[a.id,e,""]]);t(3)(e,{});e.locals&&(a.exports=e.locals)},85:function(a,n,t){var e,i;t(82),e=t(56);var o=t(86);i=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(i=e=e.default),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-42c0539c",a.exports=e},86:function(a,n){a.exports={render:function(){var a=this;a.$createElement;return a._c("div",{directives:[{name:"show",rawName:"v-show",value:a.visible,expression:"visible"}],staticClass:"gv-map-info-panel gv-inverted-color-scheme",attrs:{id:"gv-map-info-panel"}},[a._c("vue-draggable-resizable",{attrs:{w:a.width,resizable:!1}},[a._c("gv-title",{attrs:{title:a.title,fullTitle:a.fullTitle,divId:"gv-map-info-panel"}}),a._v(" "),a._c("div",{staticClass:"gv-map-info-panel-body"},[a._c("table",[a._c("tbody",a._l(a.items,function(n){return a._c("tr",{key:n.label},[a._c("th",{staticClass:"gv-map-info-panel-th gv-secondary-color-scheme"},[a._v(a._s(n.label))]),a._v(" "),a._c("td",[a._v(a._s(n.value))])])}))])]),a._v(" "),a._c("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"left"}},[a.addToMapButton?a._c("el-col",{attrs:{span:16}},[a._c("el-button",{staticClass:"gv-button-download fa fa-eye",attrs:{type:"primary",size:"mini"},on:{click:a.addToMap}},[a._c("span",[a._v(" Visualizza")])])],1):a._e(),a._v(" "),a._c("el-col",[a.showMetadata?a._c("el-button-group",{staticClass:"gv-button-group"},[a._c("el-button",{attrs:{type:"primary",disabled:"",size:"mini"}},[a._c("span",[a._v("Scheda Metadati:")])]),a._v(" "),a._c("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){a.openMetadataPanel("DATA")}}},[a._c("span",[a._v("Dataset")])]),a._v(" "),a._c("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){a.openMetadataPanel("VS")}}},[a._c("span",[a._v("WMS")])]),a._v(" "),a._c("el-button",{directives:[{name:"show",rawName:"v-show",value:a.flagDownload,expression:"flagDownload"}],attrs:{type:"primary",size:"mini"},on:{click:function(n){a.openMetadataPanel("DS")}}},[a._c("span",[a._v("WFS")])])],1):a._e()],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=17.js.map