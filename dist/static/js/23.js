webpackJsonp([23,33],{235:function(e,a,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var t=o(52),n=i(t),l=o(10),r=i(l),s=o(42),d=(i(s),o(39)),c=i(d),u=o(13),p=(i(u),o(11)),f=i(p),b=o(14),m=(i(b),o(5)),g=(i(m),o(12)),v=i(g),z=o(1),h=i(z),A=o(7),C=i(A),_=o(336),y=i(_);h.default.use(v.default),h.default.use(f.default),h.default.use(c.default),h.default.component("gv-cem-scheda-panel",function(){return new r.default(function(e){o.e(45,function(a){e(o(642))})})}),a.default={data:function(){var e=GV.config.getToolOptions("gv-cem-elaborazioni-button"),a=e.idLayer,o="L"+a,i="M"+e.idMap,t=e.geoserverUrl,n=t+"geoserver/"+i+"/";return{buttonDisabled:!0,options:e,elaborazioni:[],elaborazione:null,elaborazioneSelezionata:null,livelli:[],layerConfig:{id:a,idMap:"CEM_ELABORAZIONI",name:o,type:"WMS",visible:!0,flagGeoserver:!0,multiClasse:!0,queryable:!0,opacity:1,minScale:0,maxScale:0,wmsParams:{name:o,format:"image/png8",url:n+"wms?'"},wfsParams:{url:n+"wfs?'",typeName:o},legend:{icon:"/geoservices/apps/viewer/static/img/legend/classi.gif",popUpFlag:!0,popUpWidth:100,popUpHeight:100,popUpUrl:n+"wms?LAYER="+o+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&"},infoOptions:{infoUrl:"http://srvcarto.regione.liguria.it/info/generico.xsl",infoTarget:null,infoWidth:0,infoHeight:0,infoIdAttr:"id",infoLabelAttr:null}}}},methods:{onChange:function(e){var a=this.elaborazioni.filter(function(a){return a.id===e});this.elaborazioneSelezionata=a[0],this.showScheda(),this.buttonDisabled=!1},loadLayer:function(){var e=(0,n.default)({},this.layerConfig);e.wmsParams=(0,n.default)({},this.layerConfig.wmsParams),e.legend=(0,n.default)({},this.layerConfig.legend),e.name="CEM_"+this.elaborazione,e.title=this.elaborazioneSelezionata.titolo,e.legend.label=this.elaborazioneSelezionata.titolo,e.wmsParams.cql_filter="id_elaborazione="+this.elaborazione,GV.config.addLayerToMap(e,"CEM_ELABORAZIONI"),GV.app.map.zoomToBound(this.elaborazioneSelezionata.bbox,3003,null)},zoomLayer:function(){GV.app.map.zoomToBound(this.elaborazioneSelezionata.bbox,3003,null)},removeLayer:function(){GV.config.removeLayer("CEM_"+this.elaborazione);var e=GV.config.getMapConfig("CEM_ELABORAZIONI");e||this.addMapConfig()},showScheda:function(){(0,C.default)({elId:"gv-cem-scheda-panel",clear:!0,vm:new h.default({template:'<gv-cem-scheda-panel :titolo="titolo" :note="note" :tipo="tipo" :numValues="numValues" :siteFileName="siteFileName" :elevation="elevation" :side="side" ></gv-cem-scheda-panel>',data:{titolo:this.elaborazioneSelezionata.titolo,note:this.elaborazioneSelezionata.note,tipo:this.elaborazioneSelezionata.tipoEsportazione,numValues:this.elaborazioneSelezionata.numValues,siteFileName:this.elaborazioneSelezionata.siteFileName,elevation:this.elaborazioneSelezionata.elevation,side:this.elaborazioneSelezionata.side}})})},addMapConfig:function(){GV.config.addMapConfig({id:"CEM_ELABORAZIONI",name:"Elaborazioni CEM",flagGeoserver:!0,layers:[]})}},computed:{},mounted:function(){var e=this;this.addMapConfig(),(0,y.default)().then(function(a){e.elaborazioni=a.elaborazioni,e.elaborazione=parseInt(e.options.idElab)||null,e.elaborazione&&(e.onChange(e.elaborazione),e.loadLayer())})}}},336:function(e,a,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return n.default.get("/geoservices/REST/cem/elaborazioni/").then(function(e){return e.data.data})};var t=o(4),n=i(t),l=o(6);i(l)},438:function(e,a,o){a=e.exports=o(2)(),a.push([e.id,".gv-cem-elaborazioni[data-v-27038e18]{position:absolute;width:280px;left:0;top:0;margin-top:50px;z-index:800;padding:10px}.gv-cem-elaborazioni-body[data-v-27038e18]{padding:15px;overflow-y:auto;width:250px;height:25px}","",{version:3,sources:["/./src/components/CemElaborazioni.vue"],names:[],mappings:"AACA,sCACE,kBAAmB,AACnB,YAAa,AACb,OAAU,AACV,MAAS,AAET,gBAAiB,AACjB,YAAa,AACb,YAAc,CACf,AACD,2CACE,aAAc,AACd,gBAAiB,AACjB,YAAa,AACb,WAAa,CACd",file:"CemElaborazioni.vue",sourcesContent:["\n.gv-cem-elaborazioni[data-v-27038e18] {\r\n  position: absolute;\r\n  width: 280px;\r\n  left: 0px;\r\n  top: 0px;\r\n  /* margin-left: 10px; */\r\n  margin-top: 50px;\r\n  z-index: 800;\r\n  padding: 10px;\n}\n.gv-cem-elaborazioni-body[data-v-27038e18] {\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n  width: 250px;\r\n  height: 25px;\n}\r\n"],sourceRoot:"webpack://"}])},527:function(e,a,o){var i=o(438);"string"==typeof i&&(i=[[e.id,i,""]]);o(3)(i,{});i.locals&&(e.exports=i.locals)},641:function(e,a,o){var i,t;o(527),i=o(235);var n=o(733);t=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(t=i=i.default),"function"==typeof t&&(t=t.options),t.render=n.render,t.staticRenderFns=n.staticRenderFns,t._scopeId="data-v-27038e18",e.exports=i},733:function(e,a){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-cem-elaborazioni",attrs:{id:"gv-cem-elaborazioni"}},[e._c("gv-title",{attrs:{title:"Elaborazioni",divId:"gv-cem-elaborazioni",hide:!0}}),e._v(" "),e._c("div",{staticClass:"gv-cem-elaborazioni-body gv-inverted-color-scheme"},[e._c("el-select",{attrs:{placeholder:"Seleziona Elaborazione",size:"mini",filterable:""},on:{change:e.onChange},model:{value:e.elaborazione,callback:function(a){e.elaborazione=a},expression:"elaborazione"}},e._l(e.elaborazioni,function(a){return e._c("el-option",{key:a.id,attrs:{value:a.id,label:a.titolo}})}))],1),e._v(" "),e._c("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"left"}},[e._c("el-button",{staticClass:"gv-color-scheme",attrs:{id:"gv-cem-elaborazioni-carica-livello",disabled:e.buttonDisabled,title:"Carica Livello",size:"mini"},on:{click:e.loadLayer}},[e._v("Carica")]),e._v(" "),e._c("el-button",{staticClass:"gv-color-scheme",attrs:{id:"gv-cem-elaborazioni-zoom-livello",disabled:e.buttonDisabled,title:"Togli Livello",size:"mini"},on:{click:e.removeLayer}},[e._v("Togli")]),e._v(" "),e._c("el-button",{staticClass:"gv-color-scheme",attrs:{id:"gv-cem-elaborazioni-zoom-livello",disabled:e.buttonDisabled,title:"Zoom Livello",size:"mini"},on:{click:e.zoomLayer}},[e._v("Zoom")]),e._v(" "),e._c("el-button",{staticClass:"gv-color-scheme",attrs:{id:"gv-cem-elaborazioni-scheda",disabled:e.buttonDisabled,title:"Scheda",size:"mini"},on:{click:e.showScheda}},[e._v("Scheda")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=23.js.map