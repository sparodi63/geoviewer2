webpackJsonp([15,28],{282:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(40),r=i(n),l=a(39),o=i(l),c=a(13),s=(i(c),a(11)),u=i(s),d=a(14),p=(i(d),a(12)),g=i(p),f=a(9),v=(i(f),a(6)),A=(i(v),a(8)),m=i(A),_=a(4),b=i(_),h=a(1),C=i(h),x=a(23),w=i(x),B=a(18),y=i(B),k=a(21),S=i(k);C.default.use(m.default),C.default.use(g.default),C.default.use(u.default),y.default.use(w.default),t.default={name:"gv-scuoladigitale-ricerca",props:{idMap:String,selFogli:String,field:String},data:function(){return{ordini:[],listaOrdini:[],parole:[],listaParole:[],listaProgetti:[],listaScuole:[],showResult:!1}},computed:{},watch:{},mounted:function(){var e=this;return(0,o.default)(r.default.mark(function t(){var a,i;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.default.get("/geoservices/REST/scuola/ordini");case 2:return a=t.sent,t.next=5,a.data.data;case 5:return e.listaOrdini=t.sent,t.next=8,b.default.get("/geoservices/REST/scuola/parole");case 8:return i=t.sent,t.next=11,i.data.data;case 11:e.listaParole=t.sent;case 12:case"end":return t.stop()}},t,e)}))()},methods:{submit:function(){var e=this;return(0,o.default)(r.default.mark(function t(){var a,i,n,l;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.parole.length){t.next=3;break}return(0,S.default)("Selezionare almeno una parola chiave","warning"),t.abrupt("return");case 3:return a=e.ordini.join(","),i=e.parole.join(","),t.next=7,b.default.get("/geoservices/REST/scuola/ricerca?ordini="+a+"&parole="+i);case 7:return n=t.sent,t.next=10,n.data.data;case 10:l=t.sent,e.listaProgetti=l.progetti,e.listaScuole=l.scuole,e.filtraMappa(),e.showResult=!0,e.$el.style.width="810px";case 16:case"end":return t.stop()}},t,e)}))()},reset:function(){GV.globals.SCUOLA_DIGITALE_LAYERS.forEach(function(e){GV.config.removeLayer(e.name),e.filter=function(){return!0},GV.config.addLayerToMap(e,0)}),this.listaProgetti=[],this.listaScuole=[],this.ordini=[],this.parole=[],this.showResult=!1,this.$el.style.width="480px"},filtraMappa:function(){var e=this;GV.globals.SCUOLA_DIGITALE_LAYERS.forEach(function(t){GV.config.removeLayer(t.name),t.filter=function(t){if(e.scuolaInListaScuole(t))return!0},GV.config.addLayerToMap(t,0)})},scuolaInListaScuole:function(e){var t=!1;return this.listaScuole.forEach(function(a){e.properties.COD_MECC===a&&(t=!0)}),t},handleLink:function(e,t){window.open(t)},selectRiga:function(e){console.log(e)}}}},437:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,".el-tree-node__label{font-size:12px!important}.el-tabs__header,.el-tabs__item.is-active{color:#24386c!important}.el-tabs__header{margin:0 0 5px!important}","",{version:3,sources:["/./src/components/ScuolaDigitaleRicerca.vue"],names:[],mappings:"AACA,qBACE,wBAA2B,CAC5B,AAID,0CAFE,uBAA0B,CAK3B,AAHD,iBACE,wBAA2B,CAE5B",file:"ScuolaDigitaleRicerca.vue",sourcesContent:["\n.el-tree-node__label {\r\n  font-size: 12px !important;\n}\n.el-tabs__item.is-active {\r\n  color: #24386c !important;\n}\n.el-tabs__header {\r\n  margin: 0 0 5px !important;\r\n  color: #24386c !important;\n}\r\n"],sourceRoot:"webpack://"}])},438:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,".gv-scuoladigitale-ricerca[data-v-55928a14]{position:absolute;left:0;top:0;width:480px;margin-left:100px;margin-top:150px;z-index:800}.gv-scuoladigitale-ricerca-body[data-v-55928a14]{margin:10px}.gv-scuoladigitale-ricerca-label[data-v-55928a14]{display:inline-block;width:150px}.gv-scuoladigitale-ricerca-title[data-v-55928a14]{display:inline-block;font-weight:800;width:700px;margin-bottom:20px}.gv-scuoladigitale-ricerca-buttons[data-v-55928a14],.gv-scuoladigitale-ricerca-result[data-v-55928a14]{margin-top:10px;margin-left:5px}","",{version:3,sources:["/./src/components/ScuolaDigitaleRicerca.vue"],names:[],mappings:"AACA,4CACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,YAAa,AACb,kBAAmB,AACnB,iBAAkB,AAClB,WAAa,CACd,AACD,iDACE,WAAa,CACd,AACD,kDACE,qBAAsB,AACtB,WAAa,CACd,AACD,kDACE,qBAAsB,AACtB,gBAAiB,AACjB,YAAa,AACb,kBAAoB,CACrB,AAKD,uGACE,gBAAiB,AACjB,eAAiB,CAClB",file:"ScuolaDigitaleRicerca.vue",sourcesContent:["\n.gv-scuoladigitale-ricerca[data-v-55928a14] {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 480px;\r\n  margin-left: 100px;\r\n  margin-top: 150px;\r\n  z-index: 800;\n}\n.gv-scuoladigitale-ricerca-body[data-v-55928a14] {\r\n  margin: 10px;\n}\n.gv-scuoladigitale-ricerca-label[data-v-55928a14] {\r\n  display: inline-block;\r\n  width: 150px;\n}\n.gv-scuoladigitale-ricerca-title[data-v-55928a14] {\r\n  display: inline-block;\r\n  font-weight: 800;\r\n  width: 700px;\r\n  margin-bottom: 20px;\n}\n.gv-scuoladigitale-ricerca-buttons[data-v-55928a14] {\r\n  margin-top: 10px;\r\n  margin-left: 5px;\n}\n.gv-scuoladigitale-ricerca-result[data-v-55928a14] {\r\n  margin-top: 10px;\r\n  margin-left: 5px;\n}\r\n"],sourceRoot:"webpack://"}])},531:function(e,t,a){var i=a(437);"string"==typeof i&&(i=[[e.id,i,""]]);a(3)(i,{});i.locals&&(e.exports=i.locals)},532:function(e,t,a){var i=a(438);"string"==typeof i&&(i=[[e.id,i,""]]);a(3)(i,{});i.locals&&(e.exports=i.locals)},668:function(e,t,a){var i,n;a(532),a(531),i=a(282);var r=a(724);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=r.render,n.staticRenderFns=r.staticRenderFns,n._scopeId="data-v-55928a14",e.exports=i},724:function(e,t){e.exports={render:function(){var e=this;e.$createElement;return e._c("div",{staticClass:"gv-scuoladigitale-ricerca gv-inverted-color-scheme",attrs:{id:"gv-scuoladigitale-ricerca"}},[e._c("gv-title",{directives:[{name:"draggable",rawName:"v-draggable"}],attrs:{title:"Ricerca Tematica",divId:"gv-scuoladigitale-ricerca",hide:!0}}),e._v(" "),e._c("div",{staticClass:"gv-scuoladigitale-ricerca-body",attrs:{id:"gv-scuoladigitale-ricerca-body"}},[e._c("el-select",{staticStyle:{width:"170px !important"},attrs:{size:"small","collapse-tags":"",multiple:"",placeholder:"Ordine Scuola"},model:{value:e.ordini,callback:function(t){e.ordini=t},expression:"ordini"}},e._l(e.listaOrdini,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})})),e._v(" "),e._c("el-select",{staticStyle:{width:"270px !important"},attrs:{size:"small",multiple:"","collapse-tags":"",placeholder:"Parole Chiave"},model:{value:e.parole,callback:function(t){e.parole=t},expression:"parole"}},e._l(e.listaParole,function(t){return e._c("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})})),e._v(" "),e._c("div",{staticClass:"gv-scuoladigitale-ricerca-buttons"},[e._c("el-button",{attrs:{id:"gv-scuoladigitale-ricerca-submit",type:"info",size:"mini"},on:{click:e.submit}},[e._v("Conferma")]),e._v(" "),e._c("el-button",{attrs:{id:"gv-scuoladigitale-ricerca-reset",type:"info",size:"mini"},on:{click:e.reset}},[e._v("Annulla Selezione")])],1),e._v(" "),e._c("div",{directives:[{name:"show",rawName:"v-show",value:e.showResult,expression:"showResult"}],staticClass:"gv-scuoladigitale-ricerca-result"},[e._c("div",{staticClass:"gv-scuoladigitale-ricerca-table"},[e._c("el-table",{staticClass:"gv-inverted-color-scheme",staticStyle:{"font-size":"12px !important"},attrs:{data:e.listaProgetti,"empty-text":"Nessuna risultato trovato",height:"300",size:"mini"},on:{"current-change":e.selectRiga}},[e._c("el-table-column",{attrs:{label:"Anno",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._v(e._s(t.row.anno))])]}}])}),e._v(" "),e._c("el-table-column",{attrs:{label:"Nome Istituto",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._v(e._s(t.row.nome_istituto))])]}}])}),e._v(" "),e._c("el-table-column",{attrs:{label:"Ordine",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._v(e._s(t.row.ordine))])]}}])}),e._v(" "),e._c("el-table-column",{attrs:{label:"Titolo progetto",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._v(e._s(t.row.titolo_progetto))])]}}])}),e._v(" "),e._c("el-table-column",{attrs:{label:"Abstract",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",[e._v(e._s(t.row.abstract))])]}}])}),e._v(" "),e._c("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._c("span",{attrs:{title:"link alla documentazione"}},[e._c("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-link"},on:{click:function(a){e.handleLink(t.$index,t.row.link_documentazione)}}})],1)]}}])})],1)],1)])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.js.map