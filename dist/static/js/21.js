webpackJsonp([21,32],{99:function(t,n,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function a(t,n,o){var e=""+r.default.RL_ELEVATION+t+"/"+n+","+o;return l.default.get(e,{})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=o(4),l=e(i),s=o(6),r=e(s)},237:function(t,n,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=o(9),i=(e(a),o(5)),l=(e(i),o(8)),s=e(l),r=o(1),p=e(r),c=o(50),d=e(c),u=o(99),f=e(u);p.default.use(s.default),n.default={name:"gv-coordinate-panel",data:function(){return{x:null,y:null,z:null,options:GV.config.getToolOptions("gv-coordinate-button"),buttonDisabled:!0}},methods:{submit:function(){this.options.submit&&this.options.submit(this.x,this.y,this.z)},cancel:function(){this.options.cancel&&this.options.cancel()},handleClickEvent:function(t){var n=this;if("openlayers"===GV.app.map.type){var o=ol.proj.transform(t.coordinate,"EPSG:3857","EPSG:4326");if((0,f.default)("4326",o[0],o[1]).then(function(t){"OK"===t.data.status&&t.data.elevation?n.z=t.data.elevation[0]:n.z=null,n.buttonDisabled=!1}),this.options.projection&&"EPSG:3857"!==this.options.projection){var e="3857",a=this.options.projection.replace("EPSG:","");(0,d.default)(e,a,t.coordinate[0],t.coordinate[1]).then(function(t){if(t.data.points){var o=t.data.points[0].split(",");n.x=parseInt(o[0]),n.y=parseInt(o[1])}n.buttonDisabled=!1})}else this.x=t.coordinate[0],this.y=t.coordinate[1],this.buttonDisabled=!1}else if((0,f.default)("4326",t.latlng.lng,t.latlng.lat).then(function(t){"OK"===t.data.status&&t.data.elevation?n.z=t.data.elevation[0]:n.z=null,n.buttonDisabled=!1}),this.options.projection&&"EPSG:4326"!==this.options.projection){var i="4326",l=this.options.projection.replace("EPSG:","");(0,d.default)(i,l,t.latlng.lng,t.latlng.lat).then(function(t){if(t.data.points){var o=t.data.points[0].split(",");n.x=parseInt(o[0]),n.y=parseInt(o[1])}n.buttonDisabled=!1})}else this.x=t.latlng.lng,this.y=t.latlng.lat,this.buttonDisabled=!1}},mounted:function(){var t=this;GV.eventBus.$on("gv-control-coordinate-activate",function(n){GV.app.map.on("click",function(n){t.handleClickEvent(n)})}),GV.eventBus.$on("gv-control-genio-seleziona-particelle-deactivate",function(t){GV.app.map.off("click")}),GV.app.map.on("click",function(n){t.handleClickEvent(n)})}}},454:function(t,n,o){n=t.exports=o(2)(),n.push([t.id,".gv-coordinate-panel{position:absolute;width:210px;left:0;top:0;margin-left:10px;margin-top:50px;z-index:800}.gv-coodinate-panel-body{position:absolute;padding:5px;overflow-y:auto;width:200px;height:120px}.gv-coodinate-panel-body p{background-color:#fff;padding-left:15px;padding-top:5px;margin:0}","",{version:3,sources:["/./src/components/Coordinate.vue"],names:[],mappings:"AACA,qBACE,kBAAmB,AACnB,YAAa,AACb,OAAU,AACV,MAAS,AACT,iBAAkB,AAClB,gBAAiB,AACjB,WAAa,CACd,AACD,yBACE,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AACjB,YAAa,AACb,YAAc,CACf,AACD,2BACE,sBAAuB,AACvB,kBAAmB,AACnB,gBAAiB,AACjB,QAAY,CACb",file:"Coordinate.vue",sourcesContent:["\n.gv-coordinate-panel {\r\n  position: absolute;\r\n  width: 210px;\r\n  left: 0px;\r\n  top: 0px;\r\n  margin-left: 10px;\r\n  margin-top: 50px;\r\n  z-index: 800;\n}\n.gv-coodinate-panel-body {\r\n  position: absolute;\r\n  padding: 5px;\r\n  overflow-y: auto;\r\n  width: 200px;\r\n  height: 120px;\n}\n.gv-coodinate-panel-body p {\r\n  background-color: #fff;\r\n  padding-left: 15px;\r\n  padding-top: 5px;\r\n  margin: 0px;\n}\r\n"],sourceRoot:"webpack://"}])},556:function(t,n,o){var e=o(454);"string"==typeof e&&(e=[[t.id,e,""]]);o(3)(e,{});e.locals&&(t.exports=e.locals)},634:function(t,n,o){var e,a;o(556),e=o(237);var i=o(753);a=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(a=e=e.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=e},753:function(t,n){t.exports={render:function(){var t=this;t.$createElement;return t._c("div",{staticClass:"gv-coordinate-panel",attrs:{id:"gv-coordinate-panel"}},[t._c("gv-title",{attrs:{title:"Coordinate",divId:"gv-coordinate-panel",noClose:!0}}),t._v(" "),t._c("div",{staticClass:"gv-coodinate-panel-body gv-inverted-color-scheme"},[t._c("p",[t._v("\n      X:\n      "),t._c("span",{attrs:{id:"gv-coordinate-panel-x"}},[t._v(t._s(t.x))])]),t._v(" "),t._c("p",[t._v("\n      Y:\n      "),t._c("span",{attrs:{id:"gv-coordinate-panel-y"}},[t._v(t._s(t.y))])]),t._v(" "),t._c("p",[t._v("\n      Z:\n      "),t._c("span",{attrs:{id:"gv-coordinate-panel-y"}},[t._v(t._s(t.z))])]),t._v(" "),t._c("br"),t._v(" "),t._c("el-button",{ref:"button",attrs:{id:"gv-coordinate-panel-submit",type:"primary",size:"mini",disabled:t.buttonDisabled},on:{click:function(n){t.submit()}}},[t._c("span",[t._v("Conferma")])]),t._v(" "),t._c("el-button",{ref:"button",attrs:{id:"gv-coordinate-panel-cancel",type:"primary",size:"mini"},on:{click:function(n){t.cancel()}}},[t._c("span",[t._v("Annulla")])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=21.js.map